!function($hx_exports,$global){"use strict";function $extend(e,t){function a(){}a.prototype=e;var r=new a;for(var i in t)r[i]=t[i];return t.toString!==Object.prototype.toString&&(r.toString=t.toString),r}function $iterator(e){return e instanceof Array?function(){return HxOverrides.iter(e)}:"function"==typeof e.iterator?$bind(e,e.iterator):e.iterator}function $bind(e,t){if(null==t)return null;null==t.__id__&&(t.__id__=$fid++);var a;return null==e.hx__closures__?e.hx__closures__={}:a=e.hx__closures__[t.__id__],null==a&&(a=function(){return a.method.apply(a.scope,arguments)},a.scope=e,a.method=t,e.hx__closures__[t.__id__]=a),a}$hx_exports.kha=$hx_exports.kha||{},$hx_exports.kha.input=$hx_exports.kha.input||{},$hx_exports.kha._Color=$hx_exports.kha._Color||{},$hx_exports.armory=$hx_exports.armory||{};var $hxClasses={},$estr=function(){return js_Boot.__string_rec(this,"")},EReg=function(e,t){this.r=new RegExp(e,t.split("u").join(""))};$hxClasses.EReg=EReg,EReg.__name__=["EReg"],EReg.prototype={match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&e>=0&&e<this.r.m.length)return this.r.m[e];throw new js__$Boot_HaxeError("EReg::matched")},__class__:EReg};var HxOverrides=function(){};$hxClasses.HxOverrides=HxOverrides,HxOverrides.__name__=["HxOverrides"],HxOverrides.strDate=function(e){var t=e.length;switch(t){case 8:var a=e.split(":"),r=new Date;return r.setTime(0),r.setUTCHours(a[0]),r.setUTCMinutes(a[1]),r.setUTCSeconds(a[2]),r;case 10:var i=e.split("-");return new Date(i[0],i[1]-1,i[2],0,0,0);case 19:var s=e.split(" "),n=s[0].split("-"),_=s[1].split(":");return new Date(n[0],n[1]-1,n[2],_[0],_[1],_[2]);default:throw new js__$Boot_HaxeError("Invalid date format : "+e)}},HxOverrides.cca=function(e,t){var a=e.charCodeAt(t);if(a==a)return a},HxOverrides.substr=function(e,t,a){if(null==a)a=e.length;else if(a<0){if(0!=t)return"";a=e.length+a}return e.substr(t,a)},HxOverrides.remove=function(e,t){var a=e.indexOf(t);return a!=-1&&(e.splice(a,1),!0)},HxOverrides.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Lambda=function(){};$hxClasses.Lambda=Lambda,Lambda.__name__=["Lambda"],Lambda.array=function(e){for(var t=[],a=$iterator(e)();a.hasNext();)t.push(a.next());return t},Lambda.has=function(e,t){for(var a=$iterator(e)();a.hasNext();)if(a.next()==t)return!0;return!1},Lambda.count=function(e,t){var a=0;if(null==t)for(var r=$iterator(e)();r.hasNext();)r.next(),++a;else for(var i=$iterator(e)();i.hasNext();)t(i.next())&&++a;return a};var List=function(){this.length=0};$hxClasses.List=List,List.__name__=["List"],List.prototype={add:function(e){var t=new _$List_ListNode(e,null);null==this.h?this.h=t:this.q.next=t,this.q=t,this.length++},push:function(e){var t=new _$List_ListNode(e,this.h);this.h=t,null==this.q&&(this.q=t),this.length++},first:function(){return null==this.h?null:this.h.item},remove:function(e){for(var t=null,a=this.h;null!=a;){if(a.item==e)return null==t?this.h=a.next:t.next=a.next,this.q==a&&(this.q=t),this.length--,!0;t=a,a=a.next}return!1},iterator:function(){return new _$List_ListIterator(this.h)},__class__:List};var _$List_ListNode=function(e,t){this.item=e,this.next=t};$hxClasses["_List.ListNode"]=_$List_ListNode,_$List_ListNode.__name__=["_List","ListNode"],_$List_ListNode.prototype={__class__:_$List_ListNode};var _$List_ListIterator=function(e){this.head=e};$hxClasses["_List.ListIterator"]=_$List_ListIterator,_$List_ListIterator.__name__=["_List","ListIterator"],_$List_ListIterator.prototype={hasNext:function(){return null!=this.head},next:function(){var e=this.head.item;return this.head=this.head.next,e},__class__:_$List_ListIterator};var Main=function(){};$hxClasses.Main=Main,Main.__name__=["Main"],Main.main=function(){Main.start()},Main.start=function(){armory_object_Uniforms.register(),kha_System.init({title:"animation",width:960,height:500,samplesPerPixel:1},function(){iron_App.init(function(){iron_Scene.setActive("Scene",function(e){e.addTrait(new armory_trait_internal_EditorSpace)})})})},Math.__name__=["Math"];var Reflect=function(){};$hxClasses.Reflect=Reflect,Reflect.__name__=["Reflect"],Reflect.field=function(e,t){try{return e[t]}catch(e){return null}},Reflect.fields=function(e){var t=[];if(null!=e){var a=Object.prototype.hasOwnProperty;for(var r in e)"__id__"!=r&&"hx__closures__"!=r&&a.call(e,r)&&t.push(r)}return t},Reflect.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},Reflect.deleteField=function(e,t){return!!Object.prototype.hasOwnProperty.call(e,t)&&(delete e[t],!0)};var Std=function(){};$hxClasses.Std=Std,Std.__name__=["Std"],Std.string=function(e){return js_Boot.__string_rec(e,"")},Std.parseInt=function(e){var t=parseInt(e,10);return 0!=t||120!=HxOverrides.cca(e,1)&&88!=HxOverrides.cca(e,1)||(t=parseInt(e)),isNaN(t)?null:t},Std.random=function(e){return e<=0?0:Math.floor(Math.random()*e)};var StringBuf=function(){this.b=""};$hxClasses.StringBuf=StringBuf,StringBuf.__name__=["StringBuf"],StringBuf.prototype={__class__:StringBuf};var StringTools=function(){};$hxClasses.StringTools=StringTools,StringTools.__name__=["StringTools"],StringTools.endsWith=function(e,t){var a=t.length,r=e.length;return r>=a&&HxOverrides.substr(e,r-a,a)==t},StringTools.replace=function(e,t,a){return e.split(t).join(a)};var ValueType=$hxClasses.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};ValueType.TNull=["TNull",0],ValueType.TNull.toString=$estr,ValueType.TNull.__enum__=ValueType,ValueType.TInt=["TInt",1],ValueType.TInt.toString=$estr,ValueType.TInt.__enum__=ValueType,ValueType.TFloat=["TFloat",2],ValueType.TFloat.toString=$estr,ValueType.TFloat.__enum__=ValueType,ValueType.TBool=["TBool",3],ValueType.TBool.toString=$estr,ValueType.TBool.__enum__=ValueType,ValueType.TObject=["TObject",4],ValueType.TObject.toString=$estr,ValueType.TObject.__enum__=ValueType,ValueType.TFunction=["TFunction",5],ValueType.TFunction.toString=$estr,ValueType.TFunction.__enum__=ValueType,ValueType.TClass=function(e){var t=["TClass",6,e];return t.__enum__=ValueType,t.toString=$estr,t},ValueType.TEnum=function(e){var t=["TEnum",7,e];return t.__enum__=ValueType,t.toString=$estr,t},ValueType.TUnknown=["TUnknown",8],ValueType.TUnknown.toString=$estr,ValueType.TUnknown.__enum__=ValueType;var Type=function(){};$hxClasses.Type=Type,Type.__name__=["Type"],Type.getClassName=function(e){var t=e.__name__;return null==t?null:t.join(".")},Type.getEnumName=function(e){var t=e.__ename__;return t.join(".")},Type.resolveClass=function(e){var t=$hxClasses[e];return null!=t&&t.__name__?t:null},Type.resolveEnum=function(e){var t=$hxClasses[e];return null!=t&&t.__ename__?t:null},Type.createInstance=function(e,t){var a=t.length;switch(a){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6]);case 8:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]);case 9:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]);case 10:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9]);case 11:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10]);case 12:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11]);case 13:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12]);case 14:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13]);default:throw new js__$Boot_HaxeError("Too many arguments")}},Type.createEmptyInstance=function(e){function t(){}return t.prototype=e.prototype,new t},Type.createEnum=function(e,t,a){var r=Reflect.field(e,t);if(null==r)throw new js__$Boot_HaxeError("No such constructor "+t);if(Reflect.isFunction(r)){if(null==a)throw new js__$Boot_HaxeError("Constructor "+t+" need parameters");return r.apply(e,a)}if(null!=a&&0!=a.length)throw new js__$Boot_HaxeError("Constructor "+t+" does not need parameters");return r},Type.createEnumIndex=function(e,t,a){var r=e.__constructs__[t];if(null==r)throw new js__$Boot_HaxeError(t+" is not a valid enum constructor index");return Type.createEnum(e,r,a)},Type.typeof=function(e){var t=typeof e;switch(t){case"boolean":return ValueType.TBool;case"function":return e.__name__||e.__ename__?ValueType.TObject:ValueType.TFunction;case"number":return Math.ceil(e)==e%2147483648?ValueType.TInt:ValueType.TFloat;case"object":if(null==e)return ValueType.TNull;var a=e.__enum__;if(null!=a)return ValueType.TEnum(a);var r=js_Boot.getClass(e);return null!=r?ValueType.TClass(r):ValueType.TObject;case"string":return ValueType.TClass(String);case"undefined":return ValueType.TNull;default:return ValueType.TUnknown}};var _$UInt_UInt_$Impl_$={};$hxClasses["_UInt.UInt_Impl_"]=_$UInt_UInt_$Impl_$,_$UInt_UInt_$Impl_$.__name__=["_UInt","UInt_Impl_"],_$UInt_UInt_$Impl_$.gt=function(e,t){var a=e<0;return a!=t<0?a:e>t},_$UInt_UInt_$Impl_$.gte=function(e,t){var a=e<0;return a!=t<0?a:e>=t},_$UInt_UInt_$Impl_$.toFloat=function(e){return e<0?4294967296+e:e+0};var iron_Trait=function(){this._render2D=null,this._render=null,this._lateUpdate=null,this._update=null,this._remove=null,this._init=null,this._add=null,this.name=""};$hxClasses["iron.Trait"]=iron_Trait,iron_Trait.__name__=["iron","Trait"],iron_Trait.prototype={remove:function(){this.object.removeTrait(this)},notifyOnAdd:function(e){this._add=e},notifyOnInit:function(e){iron_App.notifyOnInit(e),this._init=e},notifyOnRemove:function(e){this._remove=e},notifyOnUpdate:function(e){iron_App.notifyOnUpdate(e),this._update=e},notifyOnLateUpdate:function(e){iron_App.notifyOnLateUpdate(e),this._lateUpdate=e},notifyOnRender:function(e){iron_App.notifyOnRender(e),this._render=e},notifyOnRender2D:function(e){iron_App.notifyOnRender2D(e),this._render2D=e},__class__:iron_Trait};var arm_PrintFrame=function(){this.frames=0,this.totalTime=0,this.lastTime=0;var e=this;iron_Trait.call(this),this.notifyOnRender(function(t){e.frameTime=kha_Scheduler.realTime()-e.lastTime,e.lastTime=kha_Scheduler.realTime(),e.totalTime+=e.frameTime,e.frames++,e.totalTime>=1&&(document.title=(e.totalTime/e.frames*1e4|0)/10+" ms/frame",e.totalTime=0,e.frames=0)})};$hxClasses["arm.PrintFrame"]=arm_PrintFrame,arm_PrintFrame.__name__=["arm","PrintFrame"],arm_PrintFrame.__super__=iron_Trait,arm_PrintFrame.prototype=$extend(iron_Trait.prototype,{__class__:arm_PrintFrame});var armory_data_ConstData=function(){};$hxClasses["armory.data.ConstData"]=armory_data_ConstData,armory_data_ConstData.__name__=["armory","data","ConstData"],armory_data_ConstData.initLTC=function(){};var armory_logicnode_Node=function(){this.inputs=[],this.parents=[]};$hxClasses["armory.logicnode.Node"]=armory_logicnode_Node,armory_logicnode_Node.__name__=["armory","logicnode","Node"],armory_logicnode_Node.prototype={start:function(e,t){this.executor=e,null!=t&&this.parents.push(t);for(var a=0,r=this.inputs;a<r.length;){var i=r[a];++a,i.start(e,this)}this.inputChanged()},inputChanged:function(){for(var e=0,t=this.parents;e<t.length;){var a=t[e];++e,a.inputChanged()}},__class__:armory_logicnode_Node};var armory_object_Uniforms=function(){};$hxClasses["armory.object.Uniforms"]=armory_object_Uniforms,armory_object_Uniforms.__name__=["armory","object","Uniforms"],armory_object_Uniforms.register=function(){iron_object_Uniforms.externalTextureLink=armory_object_Uniforms.externalTextureLink,iron_object_Uniforms.externalVec3Link=armory_object_Uniforms.externalVec3Link},armory_object_Uniforms.externalTextureLink=function(e){if("_smaaSearch"==e){var t=iron_Scene.active.embedded;return null!=__map_reserved["smaa_search.png"]?t.getReserved("smaa_search.png"):t.h["smaa_search.png"]}if("_smaaArea"==e){var a=iron_Scene.active.embedded;return null!=__map_reserved["smaa_area.png"]?a.getReserved("smaa_area.png"):a.h["smaa_area.png"]}return"_ltcMat"==e?(null==armory_data_ConstData.ltcMatTex&&armory_data_ConstData.initLTC(),armory_data_ConstData.ltcMatTex):"_ltcMag"==e?(null==armory_data_ConstData.ltcMagTex&&armory_data_ConstData.initLTC(),armory_data_ConstData.ltcMagTex):null},armory_object_Uniforms.externalVec3Link=function(e){var t=null;return"_hosekA"==e?(null==armory_renderpath_HosekWilkie.data&&armory_renderpath_HosekWilkie.init(iron_Scene.active.world),t=iron_object_Uniforms.helpVec,t.x=armory_renderpath_HosekWilkie.data.A.x,t.y=armory_renderpath_HosekWilkie.data.A.y,t.z=armory_renderpath_HosekWilkie.data.A.z):"_hosekB"==e?(null==armory_renderpath_HosekWilkie.data&&armory_renderpath_HosekWilkie.init(iron_Scene.active.world),t=iron_object_Uniforms.helpVec,t.x=armory_renderpath_HosekWilkie.data.B.x,t.y=armory_renderpath_HosekWilkie.data.B.y,t.z=armory_renderpath_HosekWilkie.data.B.z):"_hosekC"==e?(null==armory_renderpath_HosekWilkie.data&&armory_renderpath_HosekWilkie.init(iron_Scene.active.world),t=iron_object_Uniforms.helpVec,t.x=armory_renderpath_HosekWilkie.data.C.x,t.y=armory_renderpath_HosekWilkie.data.C.y,t.z=armory_renderpath_HosekWilkie.data.C.z):"_hosekD"==e?(null==armory_renderpath_HosekWilkie.data&&armory_renderpath_HosekWilkie.init(iron_Scene.active.world),t=iron_object_Uniforms.helpVec,t.x=armory_renderpath_HosekWilkie.data.D.x,t.y=armory_renderpath_HosekWilkie.data.D.y,t.z=armory_renderpath_HosekWilkie.data.D.z):"_hosekE"==e?(null==armory_renderpath_HosekWilkie.data&&armory_renderpath_HosekWilkie.init(iron_Scene.active.world),t=iron_object_Uniforms.helpVec,t.x=armory_renderpath_HosekWilkie.data.E.x,t.y=armory_renderpath_HosekWilkie.data.E.y,t.z=armory_renderpath_HosekWilkie.data.E.z):"_hosekF"==e?(null==armory_renderpath_HosekWilkie.data&&armory_renderpath_HosekWilkie.init(iron_Scene.active.world),t=iron_object_Uniforms.helpVec,t.x=armory_renderpath_HosekWilkie.data.F.x,t.y=armory_renderpath_HosekWilkie.data.F.y,t.z=armory_renderpath_HosekWilkie.data.F.z):"_hosekG"==e?(null==armory_renderpath_HosekWilkie.data&&armory_renderpath_HosekWilkie.init(iron_Scene.active.world),t=iron_object_Uniforms.helpVec,t.x=armory_renderpath_HosekWilkie.data.G.x,t.y=armory_renderpath_HosekWilkie.data.G.y,t.z=armory_renderpath_HosekWilkie.data.G.z):"_hosekH"==e?(null==armory_renderpath_HosekWilkie.data&&armory_renderpath_HosekWilkie.init(iron_Scene.active.world),t=iron_object_Uniforms.helpVec,t.x=armory_renderpath_HosekWilkie.data.H.x,t.y=armory_renderpath_HosekWilkie.data.H.y,t.z=armory_renderpath_HosekWilkie.data.H.z):"_hosekI"==e?(null==armory_renderpath_HosekWilkie.data&&armory_renderpath_HosekWilkie.init(iron_Scene.active.world),t=iron_object_Uniforms.helpVec,t.x=armory_renderpath_HosekWilkie.data.I.x,t.y=armory_renderpath_HosekWilkie.data.I.y,t.z=armory_renderpath_HosekWilkie.data.I.z):"_hosekZ"==e&&(null==armory_renderpath_HosekWilkie.data&&armory_renderpath_HosekWilkie.init(iron_Scene.active.world),t=iron_object_Uniforms.helpVec,t.x=armory_renderpath_HosekWilkie.data.Z.x,t.y=armory_renderpath_HosekWilkie.data.Z.y,t.z=armory_renderpath_HosekWilkie.data.Z.z),t};var armory_renderpath_FFT=function(){};$hxClasses["armory.renderpath.FFT"]=armory_renderpath_FFT,armory_renderpath_FFT.__name__=["armory","renderpath","FFT"],armory_renderpath_FFT.run=function(e){};var armory_renderpath_HosekWilkieRadianceData=function(e,t,a,r){this.Z=new kha_math_FastVector3,this.I=new kha_math_FastVector3,this.H=new kha_math_FastVector3,this.G=new kha_math_FastVector3,this.F=new kha_math_FastVector3,this.E=new kha_math_FastVector3,this.D=new kha_math_FastVector3,this.C=new kha_math_FastVector3,this.B=new kha_math_FastVector3,this.A=new kha_math_FastVector3;for(var i=0;i<3;){var s=i++;this.setVector(this.A,s,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[s],0,9,t,a,e)),this.setVector(this.B,s,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[s],1,9,t,a,e)),this.setVector(this.C,s,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[s],2,9,t,a,e)),this.setVector(this.D,s,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[s],3,9,t,a,e)),this.setVector(this.E,s,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[s],4,9,t,a,e)),this.setVector(this.F,s,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[s],5,9,t,a,e)),this.setVector(this.G,s,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[s],6,9,t,a,e)),this.setVector(this.H,s,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[s],8,9,t,a,e)),this.setVector(this.I,s,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[s],7,9,t,a,e)),this.setVector(this.Z,s,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGBRad[s],0,1,t,a,e))}if(0!=r){var n=this.hosek_wilkie(Math.cos(e),0,1,this.A,this.B,this.C,this.D,this.E,this.F,this.G,this.H,this.I);n.x*=this.Z.x,n.y*=this.Z.y,n.z*=this.Z.z;var _=.2126*n.x+.7152*n.y+.0722*n.z;this.Z.x/=_,this.Z.y/=_,this.Z.z/=_;var o=this.Z;this.Z=new kha_math_FastVector3(o.x*r,o.y*r,o.z*r)}};$hxClasses["armory.renderpath.HosekWilkieRadianceData"]=armory_renderpath_HosekWilkieRadianceData,armory_renderpath_HosekWilkieRadianceData.__name__=["armory","renderpath","HosekWilkieRadianceData"],armory_renderpath_HosekWilkieRadianceData.prototype={evaluateSpline:function(e,t,a,r){return Math.pow(1-r,5)*e[t+0*a]+5*Math.pow(1-r,4)*Math.pow(r,1)*e[t+a]+10*Math.pow(1-r,3)*Math.pow(r,2)*e[t+2*a]+10*Math.pow(1-r,2)*Math.pow(r,3)*e[t+3*a]+5*Math.pow(1-r,1)*Math.pow(r,4)*e[t+4*a]+Math.pow(r,5)*e[t+5*a]},clamp:function(e,t,a){return e<=t?t:e>=a?a:e},clampF:function(e,t,a){return e<=t?t:e>=a?a:e},evaluate:function(e,t,a,r,i,s){var n=Math.pow(Math.max(0,1-s/(Math.PI/2)),.3333333333333333),_=this.clamp(0|r,1,10),o=0|Math.min(_+1,10),h=this.clampF(r-_,0,1),l=t+6*a*10;return this.evaluateSpline(e,t+6*a*(_-1),a,n)*(1-i)*(1-h)+this.evaluateSpline(e,l+6*a*(_-1),a,n)*i*(1-h)+this.evaluateSpline(e,t+6*a*(o-1),a,n)*(1-i)*h+this.evaluateSpline(e,l+6*a*(o-1),a,n)*i*h},hosek_wilkie:function(e,t,a,r,i,s,n,_,o,h,l,c){var d=1+a*a,u=d/Math.pow(1+l.x*l.x-2*a*l.x,1.5),g=d/Math.pow(1+l.y*l.y-2*a*l.y,1.5),p=d/Math.pow(1+l.z*l.z-2*a*l.z,1.5);return new kha_math_FastVector3((1+r.x*Math.exp(i.x/(e+.01)))*(s.x+n.x*Math.exp(_.x*t)+o.x*(a*a)+h.x*u+c.x*Math.sqrt(Math.max(0,e))),(1+r.y*Math.exp(i.y/(e+.01)))*(s.y+n.y*Math.exp(_.y*t)+o.y*(a*a)+h.y*g+c.y*Math.sqrt(Math.max(0,e))),(1+r.z*Math.exp(i.z/(e+.01)))*(s.z+n.z*Math.exp(_.z*t)+o.z*(a*a)+h.z*p+c.z*Math.sqrt(Math.max(0,e))))},setVector:function(e,t,a){0==t?e.x=a:1==t?e.y=a:e.z=a},__class__:armory_renderpath_HosekWilkieRadianceData};var armory_renderpath_HosekWilkie=function(){};$hxClasses["armory.renderpath.HosekWilkie"]=armory_renderpath_HosekWilkie,armory_renderpath_HosekWilkie.__name__=["armory","renderpath","HosekWilkie"],armory_renderpath_HosekWilkie.recompute=function(e,t,a,r){armory_renderpath_HosekWilkie.data=new armory_renderpath_HosekWilkieRadianceData(e,t,a,r)},armory_renderpath_HosekWilkie.init=function(e){var t=e.getGlobalProbe(),a=t.raw.sun_direction;armory_renderpath_HosekWilkie.sunDirection=new kha_math_FastVector3(a[0],a[1],a[2]),armory_renderpath_HosekWilkie.recompute(Math.acos(armory_renderpath_HosekWilkie.sunDirection.z),t.raw.turbidity,t.raw.ground_albedo,1.15)};var armory_renderpath_HosekWilkieData=function(){};$hxClasses["armory.renderpath.HosekWilkieData"]=armory_renderpath_HosekWilkieData,armory_renderpath_HosekWilkieData.__name__=["armory","renderpath","HosekWilkieData"];var kha_Key=$hxClasses["kha.Key"]={__ename__:["kha","Key"],__constructs__:["BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","CHAR","ESC","DEL","UP","DOWN","LEFT","RIGHT","BACK"]};kha_Key.BACKSPACE=["BACKSPACE",0],kha_Key.BACKSPACE.toString=$estr,kha_Key.BACKSPACE.__enum__=kha_Key,kha_Key.TAB=["TAB",1],kha_Key.TAB.toString=$estr,kha_Key.TAB.__enum__=kha_Key,kha_Key.ENTER=["ENTER",2],kha_Key.ENTER.toString=$estr,kha_Key.ENTER.__enum__=kha_Key,kha_Key.SHIFT=["SHIFT",3],kha_Key.SHIFT.toString=$estr,kha_Key.SHIFT.__enum__=kha_Key,kha_Key.CTRL=["CTRL",4],kha_Key.CTRL.toString=$estr,kha_Key.CTRL.__enum__=kha_Key,kha_Key.ALT=["ALT",5],kha_Key.ALT.toString=$estr,kha_Key.ALT.__enum__=kha_Key,kha_Key.CHAR=["CHAR",6],kha_Key.CHAR.toString=$estr,kha_Key.CHAR.__enum__=kha_Key,kha_Key.ESC=["ESC",7],kha_Key.ESC.toString=$estr,kha_Key.ESC.__enum__=kha_Key,kha_Key.DEL=["DEL",8],kha_Key.DEL.toString=$estr,kha_Key.DEL.__enum__=kha_Key,kha_Key.UP=["UP",9],kha_Key.UP.toString=$estr,kha_Key.UP.__enum__=kha_Key,kha_Key.DOWN=["DOWN",10],kha_Key.DOWN.toString=$estr,kha_Key.DOWN.__enum__=kha_Key,kha_Key.LEFT=["LEFT",11],kha_Key.LEFT.toString=$estr,kha_Key.LEFT.__enum__=kha_Key,kha_Key.RIGHT=["RIGHT",12],kha_Key.RIGHT.toString=$estr,kha_Key.RIGHT.__enum__=kha_Key,kha_Key.BACK=["BACK",13],kha_Key.BACK.toString=$estr,kha_Key.BACK.__enum__=kha_Key;var armory_system_Keymap=function(){};$hxClasses["armory.system.Keymap"]=armory_system_Keymap,armory_system_Keymap.__name__=["armory","system","Keymap"],armory_system_Keymap.prototype={__class__:armory_system_Keymap};var armory_trait_ArcBall=function(){iron_Trait.call(this),this.notifyOnUpdate($bind(this,this.update))};$hxClasses["armory.trait.ArcBall"]=armory_trait_ArcBall,armory_trait_ArcBall.__name__=["armory","trait","ArcBall"],armory_trait_ArcBall.__super__=iron_Trait,armory_trait_ArcBall.prototype=$extend(iron_Trait.prototype,{update:function(){if(!iron_system_Input.occupied&&iron_system_Input.touch){this.object.transform.rotate(new iron_math_Vec4(0,0,1),-iron_system_Input.deltaX/100),this.object.transform.buildMatrix();var e=this.object.transform.matrix;this.object.transform.rotate(new iron_math_Vec4(e.self._00,e.self._01,e.self._02),-iron_system_Input.deltaY/100),this.object.transform.buildMatrix()}},__class__:armory_trait_ArcBall});var armory_trait_internal_CameraController=function(){iron_Trait.call(this)};$hxClasses["armory.trait.internal.CameraController"]=armory_trait_internal_CameraController,armory_trait_internal_CameraController.__name__=["armory","trait","internal","CameraController"],armory_trait_internal_CameraController.__super__=iron_Trait,armory_trait_internal_CameraController.prototype=$extend(iron_Trait.prototype,{__class__:armory_trait_internal_CameraController});var armory_trait_FirstPersonController=function(){armory_trait_internal_CameraController.call(this)};$hxClasses["armory.trait.FirstPersonController"]=armory_trait_FirstPersonController,armory_trait_FirstPersonController.__name__=["armory","trait","FirstPersonController"],armory_trait_FirstPersonController.__super__=armory_trait_internal_CameraController,armory_trait_FirstPersonController.prototype=$extend(armory_trait_internal_CameraController.prototype,{__class__:armory_trait_FirstPersonController});var armory_trait_GunController=function(){iron_Trait.call(this)};$hxClasses["armory.trait.GunController"]=armory_trait_GunController,armory_trait_GunController.__name__=["armory","trait","GunController"],armory_trait_GunController.__super__=iron_Trait,armory_trait_GunController.prototype=$extend(iron_Trait.prototype,{__class__:armory_trait_GunController});var armory_trait_MirrorTexture=function(e){iron_Trait.call(this),this.cameraName=e,this.notifyOnInit($bind(this,this.init))};$hxClasses["armory.trait.MirrorTexture"]=armory_trait_MirrorTexture,armory_trait_MirrorTexture.__name__=["armory","trait","MirrorTexture"],armory_trait_MirrorTexture.__super__=iron_Trait,armory_trait_MirrorTexture.prototype=$extend(iron_Trait.prototype,{init:function(){var e=iron_Scene.active.getCamera(this.cameraName).data.mirror;js_Boot.__cast(this.object,iron_object_MeshObject).materials[0].contexts[0].textures[0]=e},__class__:armory_trait_MirrorTexture});var armory_trait_NavAgent=function(){iron_Trait.call(this),this.notifyOnInit($bind(this,this.init)),this.notifyOnUpdate($bind(this,this.update)),this.notifyOnRemove($bind(this,this.removed))};$hxClasses["armory.trait.NavAgent"]=armory_trait_NavAgent,armory_trait_NavAgent.__name__=["armory","trait","NavAgent"],armory_trait_NavAgent.__super__=iron_Trait,armory_trait_NavAgent.prototype=$extend(iron_Trait.prototype,{removed:function(){},init:function(){},update:function(){},__class__:armory_trait_NavAgent});var armory_trait_NavCrowd=function(){iron_Trait.call(this),this.notifyOnInit($bind(this,this.init)),this.notifyOnUpdate($bind(this,this.update)),this.notifyOnRemove($bind(this,this.removed))};$hxClasses["armory.trait.NavCrowd"]=armory_trait_NavCrowd,armory_trait_NavCrowd.__name__=["armory","trait","NavCrowd"],armory_trait_NavCrowd.__super__=iron_Trait,armory_trait_NavCrowd.prototype=$extend(iron_Trait.prototype,{removed:function(){},init:function(){},update:function(){},__class__:armory_trait_NavCrowd});var armory_trait_NavMesh=function(){iron_Trait.call(this),this.notifyOnInit($bind(this,this.init)),this.notifyOnUpdate($bind(this,this.update)),this.notifyOnRemove($bind(this,this.removed))};$hxClasses["armory.trait.NavMesh"]=armory_trait_NavMesh,armory_trait_NavMesh.__name__=["armory","trait","NavMesh"],armory_trait_NavMesh.__super__=iron_Trait,armory_trait_NavMesh.prototype=$extend(iron_Trait.prototype,{removed:function(){},init:function(){},update:function(){},__class__:armory_trait_NavMesh});var armory_trait_PhysicsDrag=function(){iron_Trait.call(this)};$hxClasses["armory.trait.PhysicsDrag"]=armory_trait_PhysicsDrag,armory_trait_PhysicsDrag.__name__=["armory","trait","PhysicsDrag"],armory_trait_PhysicsDrag.__super__=iron_Trait,armory_trait_PhysicsDrag.prototype=$extend(iron_Trait.prototype,{__class__:armory_trait_PhysicsDrag});var armory_trait_SceneInstance=function(e){var t=this;iron_Trait.call(this),this.notifyOnInit(function(){iron_Scene.active.addScene(t.safeFilename(e),t.object,function(e){})})};$hxClasses["armory.trait.SceneInstance"]=armory_trait_SceneInstance,armory_trait_SceneInstance.__name__=["armory","trait","SceneInstance"],armory_trait_SceneInstance.__super__=iron_Trait,armory_trait_SceneInstance.prototype=$extend(iron_Trait.prototype,{safeFilename:function(e){return e=StringTools.replace(e,".","_"),e=StringTools.replace(e,"-","_"),e=StringTools.replace(e," ","_"),null!=Std.parseInt(e.charAt(0))&&(e="_"+e),e},__class__:armory_trait_SceneInstance});var armory_trait_SidescrollerController=function(){armory_trait_internal_CameraController.call(this)};$hxClasses["armory.trait.SidescrollerController"]=armory_trait_SidescrollerController,armory_trait_SidescrollerController.__name__=["armory","trait","SidescrollerController"],armory_trait_SidescrollerController.__super__=armory_trait_internal_CameraController,armory_trait_SidescrollerController.prototype=$extend(armory_trait_internal_CameraController.prototype,{__class__:armory_trait_SidescrollerController});var armory_trait_ThirdPersonController=function(){armory_trait_internal_CameraController.call(this)};$hxClasses["armory.trait.ThirdPersonController"]=armory_trait_ThirdPersonController,armory_trait_ThirdPersonController.__name__=["armory","trait","ThirdPersonController"],armory_trait_ThirdPersonController.__super__=armory_trait_internal_CameraController,armory_trait_ThirdPersonController.prototype=$extend(armory_trait_internal_CameraController.prototype,{__class__:armory_trait_ThirdPersonController});var armory_trait_VehicleBody=function(){iron_Trait.call(this)};$hxClasses["armory.trait.VehicleBody"]=armory_trait_VehicleBody,armory_trait_VehicleBody.__name__=["armory","trait","VehicleBody"],armory_trait_VehicleBody.__super__=iron_Trait,armory_trait_VehicleBody.prototype=$extend(iron_Trait.prototype,{__class__:armory_trait_VehicleBody});var armory_trait_VehicleWheel=function(){};$hxClasses["armory.trait.VehicleWheel"]=armory_trait_VehicleWheel,armory_trait_VehicleWheel.__name__=["armory","trait","VehicleWheel"],armory_trait_VehicleWheel.prototype={__class__:armory_trait_VehicleWheel};var armory_trait_WalkNavigation=function(){this.slow=1,this.fast=1,this.strafeDown=!1,this.strafeUp=!1,this.strafeRight=!1,this.strafeLeft=!1,this.moveBackward=!1,this.moveForward=!1,iron_Trait.call(this),kha_input_Keyboard.get().notify($bind(this,this.onKeyDown),$bind(this,this.onKeyUp)),this.notifyOnInit($bind(this,this.init)),this.notifyOnUpdate($bind(this,this.update)),this.notifyOnRemove($bind(this,this.removed))};$hxClasses["armory.trait.WalkNavigation"]=armory_trait_WalkNavigation,armory_trait_WalkNavigation.__name__=["armory","trait","WalkNavigation"],armory_trait_WalkNavigation.__super__=iron_Trait,armory_trait_WalkNavigation.prototype=$extend(iron_Trait.prototype,{removed:function(){kha_input_Keyboard.get().remove($bind(this,this.onKeyDown),$bind(this,this.onKeyUp))},init:function(){this.camera=js_Boot.__cast(this.object,iron_object_CameraObject)},update:function(){if(!iron_system_Input.occupied){var e=.08333333333333333*this.fast*this.slow;if(this.moveForward){var t=this.camera;this.camera.move(new iron_math_Vec4(-t.transform.local.self._20,-t.transform.local.self._21,-t.transform.local.self._22),e)}else if(this.moveBackward){var a=this.camera;this.camera.move(new iron_math_Vec4(-a.transform.local.self._20,-a.transform.local.self._21,-a.transform.local.self._22),-e)}if(this.strafeRight){var r=this.camera;this.camera.move(new iron_math_Vec4(r.transform.local.self._00,r.transform.local.self._01,r.transform.local.self._02),e)}else if(this.strafeLeft){var i=this.camera;this.camera.move(new iron_math_Vec4(i.transform.local.self._00,i.transform.local.self._01,i.transform.local.self._02),-e)}if(this.strafeUp?this.camera.move(new iron_math_Vec4(0,0,1),e):this.strafeDown&&this.camera.move(new iron_math_Vec4(0,0,1),-e),iron_system_Input.touch){this.camera.rotate(iron_math_Vec4.zAxis(),-iron_system_Input.deltaX/200);var s=this.camera;this.camera.rotate(new iron_math_Vec4(s.transform.local.self._00,s.transform.local.self._01,s.transform.local.self._02),-iron_system_Input.deltaY/200)}}},onKeyDown:function(e,t){"w"==t||e==kha_Key.UP?this.moveForward=!0:"s"==t||e==kha_Key.DOWN?this.moveBackward=!0:"a"==t||e==kha_Key.LEFT?this.strafeLeft=!0:"d"==t||e==kha_Key.RIGHT?this.strafeRight=!0:"e"==t?this.strafeUp=!0:"q"==t?this.strafeDown=!0:e==armory_system_Keymap.fast?this.fast=2:e==armory_system_Keymap.slow&&(this.slow=.5)},onKeyUp:function(e,t){"w"==t||e==kha_Key.UP?this.moveForward=!1:"s"==t||e==kha_Key.DOWN?this.moveBackward=!1:"a"==t||e==kha_Key.LEFT?this.strafeLeft=!1:"d"==t||e==kha_Key.RIGHT?this.strafeRight=!1:"e"==t?this.strafeUp=!1:"q"==t?this.strafeDown=!1:e==armory_system_Keymap.fast?this.fast=1:e==armory_system_Keymap.slow&&(this.slow=1)},__class__:armory_trait_WalkNavigation});var armory_trait_internal_Console=function(){iron_Trait.call(this)};$hxClasses["armory.trait.internal.Console"]=armory_trait_internal_Console,armory_trait_internal_Console.__name__=["armory","trait","internal","Console"],armory_trait_internal_Console.__super__=iron_Trait,armory_trait_internal_Console.prototype=$extend(iron_Trait.prototype,{__class__:armory_trait_internal_Console});var armory_trait_internal_EditorSpace=function(){this.moveZ=!1,this.moveY=!1,this.moveX=!1,this.selected=null,iron_Trait.call(this),this.notifyOnInit($bind(this,this.init))};$hxClasses["armory.trait.internal.EditorSpace"]=armory_trait_internal_EditorSpace,armory_trait_internal_EditorSpace.__name__=["armory","trait","internal","EditorSpace"],armory_trait_internal_EditorSpace.__super__=iron_Trait,armory_trait_internal_EditorSpace.prototype=$extend(iron_Trait.prototype,{init:function(){this.notifyOnUpdate($bind(this,this.update)),armory_trait_internal_EditorSpace.first&&(armory_trait_internal_EditorSpace.first=!1,kha_input_Keyboard.get().notify($bind(this,this.onKeyDown),$bind(this,this.onKeyUp)))},onKeyDown:function(e,t){"Z"!=t&&e!=kha_Key.ESC||haxe_Log.trace("__arm|quit",{fileName:"EditorSpace.hx",lineNumber:45,className:"armory.trait.internal.EditorSpace",methodName:"onKeyDown"})},onKeyUp:function(e,t){},update:function(){if(iron_system_Input.started2){for(var e=[],t=0,a=iron_Scene.active.meshes;t<a.length;){
var r=a[t];++t,e.push(r.transform)}var i=iron_math_RayCaster.getClosestBoxIntersect(e,iron_system_Input.x,iron_system_Input.y,iron_Scene.active.camera);null!=i&&(this.selected=i,haxe_Log.trace("__arm|select|"+this.selected.object.name,{fileName:"EditorSpace.hx",lineNumber:62,className:"armory.trait.internal.EditorSpace",methodName:"update"}))}},__class__:armory_trait_internal_EditorSpace});var armory_trait_internal_JSScript=function(scriptBlob){iron_Trait.call(this),iron_data_Data.getBlob(scriptBlob+".js",function(blob){var src=blob.toString();null==armory_trait_internal_JSScript.api&&(armory_trait_internal_JSScript.api=new armory_trait_internal_JSScriptAPI),eval(src)})};$hxClasses["armory.trait.internal.JSScript"]=armory_trait_internal_JSScript,armory_trait_internal_JSScript.__name__=["armory","trait","internal","JSScript"],armory_trait_internal_JSScript.__super__=iron_Trait,armory_trait_internal_JSScript.prototype=$extend(iron_Trait.prototype,{__class__:armory_trait_internal_JSScript});var iron_App=function(e){new iron_system_Storage,new iron_system_Input,e(),kha_System.notifyOnRender(iron_App.render),kha_Scheduler.addTimeTask(iron_App.update,0,.016666666666666666)};$hxClasses["iron.App"]=iron_App,iron_App.__name__=["iron","App"],iron_App.w=function(){return kha_System.windowWidth()},iron_App.h=function(){return kha_System.windowHeight()},iron_App.init=function(e){new iron_App(e)},iron_App.reset=function(){iron_App.traitInits=[],iron_App.traitUpdates=[],iron_App.traitLateUpdates=[],iron_App.traitRenders=[],iron_App.traitRenders2D=[],iron_system_Input.reset(),iron_system_Tween.reset()},iron_App.update=function(){if(iron_system_Tween.update(),null!=iron_Scene.active&&iron_Scene.active.updateFrame(),iron_App.traitInits.length>0){for(var e=0,t=iron_App.traitInits;e<t.length;){var a=t[e];if(++e,0==iron_App.traitInits.length)break;a(),a=null}iron_App.traitInits.splice(0,iron_App.traitInits.length)}for(var r=0,i=iron_App.traitUpdates;r<i.length;){var s=i[r];if(++r,0==iron_App.traitUpdates.length)break;s()}for(var n=0,_=iron_App.traitLateUpdates;n<_.length;){var o=_[n];if(++n,0==iron_App.traitLateUpdates.length)break;o()}iron_system_Input.end()},iron_App.render=function(e){if(iron_App.traitInits.length>0){for(var t=0,a=iron_App.traitInits;t<a.length;){var r=a[t];if(++t,0==iron_App.traitInits.length)break;r(),r=null}iron_App.traitInits.splice(0,iron_App.traitInits.length)}null!=iron_Scene.active&&iron_Scene.active.renderFrame(e.get_g4());for(var i=0,s=iron_App.traitRenders;i<s.length;){var n=s[i];if(++i,0==iron_App.traitRenders.length)break;n(e.get_g4())}e.get_g2().begin(!1);for(var _=0,o=iron_App.traitRenders2D;_<o.length;){var h=o[_];if(++_,0==iron_App.traitRenders2D.length)break;h(e.get_g2())}e.get_g2().end()},iron_App.notifyOnInit=function(e){iron_App.traitInits.push(e)},iron_App.removeInit=function(e){HxOverrides.remove(iron_App.traitInits,e)},iron_App.notifyOnUpdate=function(e){iron_App.traitUpdates.push(e)},iron_App.removeUpdate=function(e){HxOverrides.remove(iron_App.traitUpdates,e)},iron_App.notifyOnLateUpdate=function(e){iron_App.traitLateUpdates.push(e)},iron_App.removeLateUpdate=function(e){HxOverrides.remove(iron_App.traitLateUpdates,e)},iron_App.notifyOnRender=function(e){iron_App.traitRenders.push(e)},iron_App.removeRender=function(e){HxOverrides.remove(iron_App.traitRenders,e)},iron_App.notifyOnRender2D=function(e){iron_App.traitRenders2D.push(e)},iron_App.removeRender2D=function(e){HxOverrides.remove(iron_App.traitRenders2D,e)},iron_App.prototype={__class__:iron_App};var iron_data_Data=function(){};$hxClasses["iron.data.Data"]=iron_data_Data,iron_data_Data.__name__=["iron","data","Data"],iron_data_Data.deleteAll=function(){for(var e=iron_data_Data.cachedMeshes,t=new haxe_ds__$StringMap_StringMapIterator(e,e.arrayKeys());t.hasNext();)t.next().delete();for(var a=iron_data_Data.cachedShaders,r=new haxe_ds__$StringMap_StringMapIterator(a,a.arrayKeys());r.hasNext();)r.next().delete();iron_data_Data.cachedSceneRaws=new haxe_ds_StringMap,iron_data_Data.cachedMeshes=new haxe_ds_StringMap,iron_data_Data.cachedLamps=new haxe_ds_StringMap,iron_data_Data.cachedCameras=new haxe_ds_StringMap,iron_data_Data.cachedRenderPaths=new haxe_ds_StringMap,iron_data_Data.cachedMaterials=new haxe_ds_StringMap,iron_data_Data.cachedParticles=new haxe_ds_StringMap,iron_data_Data.cachedWorlds=new haxe_ds_StringMap,iron_data_Data.cachedGreasePencils=new haxe_ds_StringMap,iron_data_Data.cachedShaders=new haxe_ds_StringMap,iron_data_Data.cachedBlobs=new haxe_ds_StringMap,iron_data_Data.cachedImages=new haxe_ds_StringMap,iron_data_Data.cachedSounds=new haxe_ds_StringMap,iron_data_Data.cachedVideos=new haxe_ds_StringMap,iron_data_Data.cachedFonts=new haxe_ds_StringMap},iron_data_Data.clearSceneData=function(){iron_data_Data.cachedSceneRaws=new haxe_ds_StringMap,iron_data_Data.cachedMeshes=new haxe_ds_StringMap,iron_data_Data.cachedLamps=new haxe_ds_StringMap,iron_data_Data.cachedMaterials=new haxe_ds_StringMap,iron_data_Data.cachedRenderPaths=new haxe_ds_StringMap,iron_data_Data.cachedCameras=new haxe_ds_StringMap,iron_data_Data.cachedBlobs=new haxe_ds_StringMap},iron_data_Data.getMesh=function(e,t,a,r){var i=iron_data_Data.cachedMeshes,s=e+t,n=null!=__map_reserved[s]?i.getReserved(s):i.h[s];if(null!=n)return void r(n);var _=iron_data_Data.loadingMeshes,o=e+t,h=null!=__map_reserved[o]?_.getReserved(o):_.h[o];if(null!=h)return void h.push(r);var l=iron_data_Data.loadingMeshes,c=e+t,d=[r];null!=__map_reserved[c]?l.setReserved(c,d):l.h[c]=d,iron_data_MeshData.parse(e,t,a,function(a){var r=iron_data_Data.cachedMeshes,i=e+t;null!=__map_reserved[i]?r.setReserved(i,a):r.h[i]=a;for(var s=0,n=iron_data_Data.loadingMeshes,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];s<o.length;){var h=o[s];++s,h(a)}iron_data_Data.loadingMeshes.remove(e+t)})},iron_data_Data.getLamp=function(e,t,a){var r=iron_data_Data.cachedLamps,i=e+t,s=null!=__map_reserved[i]?r.getReserved(i):r.h[i];if(null!=s)return void a(s);var n=iron_data_Data.loadingLamps,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];if(null!=o)return void o.push(a);var h=iron_data_Data.loadingLamps,l=e+t,c=[a];null!=__map_reserved[l]?h.setReserved(l,c):h.h[l]=c,iron_data_LampData.parse(e,t,function(a){var r=iron_data_Data.cachedLamps,i=e+t;null!=__map_reserved[i]?r.setReserved(i,a):r.h[i]=a;for(var s=0,n=iron_data_Data.loadingLamps,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];s<o.length;){var h=o[s];++s,h(a)}iron_data_Data.loadingLamps.remove(e+t)})},iron_data_Data.getCamera=function(e,t,a){var r=iron_data_Data.cachedCameras,i=e+t,s=null!=__map_reserved[i]?r.getReserved(i):r.h[i];if(null!=s)return void a(s);var n=iron_data_Data.loadingCameras,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];if(null!=o)return void o.push(a);var h=iron_data_Data.loadingCameras,l=e+t,c=[a];null!=__map_reserved[l]?h.setReserved(l,c):h.h[l]=c,iron_data_CameraData.parse(e,t,function(a){var r=iron_data_Data.cachedCameras,i=e+t;null!=__map_reserved[i]?r.setReserved(i,a):r.h[i]=a;for(var s=0,n=iron_data_Data.loadingCameras,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];s<o.length;){var h=o[s];++s,h(a)}iron_data_Data.loadingCameras.remove(e+t)})},iron_data_Data.getRenderPath=function(e,t,a){var r=iron_data_Data.cachedRenderPaths,i=e+t,s=null!=__map_reserved[i]?r.getReserved(i):r.h[i];if(null!=s)return void a(s);var n=iron_data_Data.loadingRenderPaths,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];if(null!=o)return void o.push(a);var h=iron_data_Data.loadingRenderPaths,l=e+t,c=[a];null!=__map_reserved[l]?h.setReserved(l,c):h.h[l]=c,iron_data_RenderPathData.parse(e,t,function(a){var r=iron_data_Data.cachedRenderPaths,i=e+t;null!=__map_reserved[i]?r.setReserved(i,a):r.h[i]=a;for(var s=0,n=iron_data_Data.loadingRenderPaths,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];s<o.length;){var h=o[s];++s,h(a)}iron_data_Data.loadingRenderPaths.remove(e+t)})},iron_data_Data.getMaterial=function(e,t,a){var r=iron_data_Data.cachedMaterials,i=e+t,s=null!=__map_reserved[i]?r.getReserved(i):r.h[i];if(null!=s)return void a(s);var n=iron_data_Data.loadingMaterials,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];if(null!=o)return void o.push(a);var h=iron_data_Data.loadingMaterials,l=e+t,c=[a];null!=__map_reserved[l]?h.setReserved(l,c):h.h[l]=c,iron_data_MaterialData.parse(e,t,function(a){var r=iron_data_Data.cachedMaterials,i=e+t;null!=__map_reserved[i]?r.setReserved(i,a):r.h[i]=a;for(var s=0,n=iron_data_Data.loadingMaterials,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];s<o.length;){var h=o[s];++s,h(a)}iron_data_Data.loadingMaterials.remove(e+t)})},iron_data_Data.getParticle=function(e,t,a){var r=iron_data_Data.cachedParticles,i=e+t,s=null!=__map_reserved[i]?r.getReserved(i):r.h[i];if(null!=s)return void a(s);var n=iron_data_Data.loadingParticles,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];if(null!=o)return void o.push(a);var h=iron_data_Data.loadingParticles,l=e+t,c=[a];null!=__map_reserved[l]?h.setReserved(l,c):h.h[l]=c,iron_data_ParticleData.parse(e,t,function(a){var r=iron_data_Data.cachedParticles,i=e+t;null!=__map_reserved[i]?r.setReserved(i,a):r.h[i]=a;for(var s=0,n=iron_data_Data.loadingParticles,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];s<o.length;){var h=o[s];++s,h(a)}iron_data_Data.loadingParticles.remove(e+t)})},iron_data_Data.getWorld=function(e,t,a){var r=iron_data_Data.cachedWorlds,i=e+t,s=null!=__map_reserved[i]?r.getReserved(i):r.h[i];if(null!=s)return void a(s);var n=iron_data_Data.loadingWorlds,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];if(null!=o)return void o.push(a);var h=iron_data_Data.loadingWorlds,l=e+t,c=[a];null!=__map_reserved[l]?h.setReserved(l,c):h.h[l]=c,iron_data_WorldData.parse(e,t,function(a){var r=iron_data_Data.cachedWorlds,i=e+t;null!=__map_reserved[i]?r.setReserved(i,a):r.h[i]=a;for(var s=0,n=iron_data_Data.loadingWorlds,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];s<o.length;){var h=o[s];++s,h(a)}iron_data_Data.loadingWorlds.remove(e+t)})},iron_data_Data.getGreasePencil=function(e,t,a){var r=iron_data_Data.cachedGreasePencils,i=e+t,s=null!=__map_reserved[i]?r.getReserved(i):r.h[i];if(null!=s)return void a(s);var n=iron_data_Data.loadingGreasePencils,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];if(null!=o)return void o.push(a);var h=iron_data_Data.loadingGreasePencils,l=e+t,c=[a];null!=__map_reserved[l]?h.setReserved(l,c):h.h[l]=c,iron_data_GreasePencilData.parse(e,t,function(a){var r=iron_data_Data.cachedGreasePencils,i=e+t;null!=__map_reserved[i]?r.setReserved(i,a):r.h[i]=a;for(var s=0,n=iron_data_Data.loadingGreasePencils,_=e+t,o=null!=__map_reserved[_]?n.getReserved(_):n.h[_];s<o.length;){var h=o[s];++s,h(a)}iron_data_Data.loadingGreasePencils.remove(e+t)})},iron_data_Data.getShader=function(e,t,a,r){var i=t;null!=a&&(i+="2");var s=iron_data_Data.cachedShaders,n=null!=__map_reserved[i]?s.getReserved(i):s.h[i];if(null!=n)return void r(n);var _=iron_data_Data.loadingShaders,o=null!=__map_reserved[i]?_.getReserved(i):_.h[i];if(null!=o)return void o.push(r);var h=iron_data_Data.loadingShaders,l=[r];null!=__map_reserved[i]?h.setReserved(i,l):h.h[i]=l,iron_data_ShaderData.parse(e,t,a,function(e){var t=iron_data_Data.cachedShaders;null!=__map_reserved[i]?t.setReserved(i,e):t.h[i]=e;for(var a=0,r=iron_data_Data.loadingShaders,s=null!=__map_reserved[i]?r.getReserved(i):r.h[i];a<s.length;){var n=s[a];++a,n(e)}iron_data_Data.loadingShaders.remove(i)})},iron_data_Data.getSceneRaw=function(e,t){var a=iron_data_Data.cachedSceneRaws,r=null!=__map_reserved[e]?a.getReserved(e):a.h[e];if(null!=r)return void t(r);var i=iron_data_Data.loadingSceneRaws,s=null!=__map_reserved[e]?i.getReserved(e):i.h[e];if(null!=s)return void s.push(t);var n=iron_data_Data.loadingSceneRaws,_=[t];null!=__map_reserved[e]?n.setReserved(e,_):n.h[e]=_;var o=StringTools.endsWith(e,".zip");iron_data_Data.getBlob(e+(o||StringTools.endsWith(e,".arm")?"":".arm"),function(t){if(o){var a=haxe_zip_Reader.readZip(new haxe_io_BytesInput(t.toBytes())).first();if(null==a)return void haxe_Log.trace("Failed to uncompress "+e,{fileName:"Data.hx",lineNumber:247,className:"iron.data.Data",methodName:"getSceneRaw"});t=a.compressed?kha_internal_BytesBlob.fromBytes(haxe_zip_Reader.unzip(a)):kha_internal_BytesBlob.fromBytes(a.data)}var r=t.toBytes(),i=null;null==i&&(i=iron_system_msgpack_DecodeOption.AsObject);var s=new iron_system_msgpack_Decoder(r,i).o,n=iron_data_Data.cachedSceneRaws;null!=__map_reserved[e]?n.setReserved(e,s):n.h[e]=s;for(var _=0,h=iron_data_Data.loadingSceneRaws,l=null!=__map_reserved[e]?h.getReserved(e):h.h[e];_<l.length;){var c=l[_];++_,c(s)}iron_data_Data.loadingSceneRaws.remove(e)})},iron_data_Data.getMeshRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var r=e[a];if(++a,r.name==t)return r}return null},iron_data_Data.getLampRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var r=e[a];if(++a,r.name==t)return r}return null},iron_data_Data.getCameraRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var r=e[a];if(++a,r.name==t)return r}return null},iron_data_Data.getRenderPathRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var r=e[a];if(++a,r.name==t)return r}return null},iron_data_Data.getMaterialRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var r=e[a];if(++a,r.name==t)return r}return null},iron_data_Data.getParticleRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var r=e[a];if(++a,r.name==t)return r}return null},iron_data_Data.getWorldRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var r=e[a];if(++a,r.name==t)return r}return null},iron_data_Data.getGreasePencilRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var r=e[a];if(++a,r.name==t)return r}return null},iron_data_Data.getShaderRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var r=e[a];if(++a,r.name==t)return r}return null},iron_data_Data.getSpeakerRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var r=e[a];if(++a,r.name==t)return r}return null},iron_data_Data.getBlob=function(e,t){var a=iron_data_Data.cachedBlobs,r=null!=__map_reserved[e]?a.getReserved(e):a.h[e];if(null!=r)return void t(r);var i=iron_data_Data.loadingBlobs,s=null!=__map_reserved[e]?i.getReserved(e):i.h[e];if(null!=s)return void s.push(t);var n=iron_data_Data.loadingBlobs,_=[t];null!=__map_reserved[e]?n.setReserved(e,_):n.h[e]=_,kha_LoaderImpl.loadBlobFromDescription({files:[e]},function(t){var a=iron_data_Data.cachedBlobs;null!=__map_reserved[e]?a.setReserved(e,t):a.h[e]=t;for(var r=0,i=iron_data_Data.loadingBlobs,s=null!=__map_reserved[e]?i.getReserved(e):i.h[e];r<s.length;){var n=s[r];++r,n(t)}iron_data_Data.loadingBlobs.remove(e)})},iron_data_Data.getImage=function(e,t,a,r){null==r&&(r="RGBA32"),null==a&&(a=!1);var i=iron_data_Data.cachedImages,s=null!=__map_reserved[e]?i.getReserved(e):i.h[e];if(null!=s)return void t(s);var n=iron_data_Data.loadingImages,_=null!=__map_reserved[e]?n.getReserved(e):n.h[e];if(null!=_)return void _.push(t);var o=iron_data_Data.loadingImages,h=[t];null!=__map_reserved[e]?o.setReserved(e,h):o.h[e]=h,kha_LoaderImpl.loadImageFromDescription({files:[e],readable:a,format:r},function(t){var a=iron_data_Data.cachedImages;null!=__map_reserved[e]?a.setReserved(e,t):a.h[e]=t;for(var r=0,i=iron_data_Data.loadingImages,s=null!=__map_reserved[e]?i.getReserved(e):i.h[e];r<s.length;){var n=s[r];++r,n(t)}iron_data_Data.loadingImages.remove(e)})},iron_data_Data.getSound=function(e,t){StringTools.endsWith(e,".wav")&&(e=e.substring(0,e.length-4)+".ogg");var a=iron_data_Data.cachedSounds,r=null!=__map_reserved[e]?a.getReserved(e):a.h[e];if(null!=r)return void t(r);var i=iron_data_Data.loadingSounds,s=null!=__map_reserved[e]?i.getReserved(e):i.h[e];if(null!=s)return void s.push(t);var n=iron_data_Data.loadingSounds,_=[t];null!=__map_reserved[e]?n.setReserved(e,_):n.h[e]=_,kha_LoaderImpl.loadSoundFromDescription({files:[e]},function(t){t.uncompress(function(){var a=iron_data_Data.cachedSounds;null!=__map_reserved[e]?a.setReserved(e,t):a.h[e]=t;for(var r=0,i=iron_data_Data.loadingSounds,s=null!=__map_reserved[e]?i.getReserved(e):i.h[e];r<s.length;){var n=s[r];++r,n(t)}iron_data_Data.loadingSounds.remove(e)})})},iron_data_Data.getVideo=function(e,t){var a=iron_data_Data.cachedVideos,r=null!=__map_reserved[e]?a.getReserved(e):a.h[e];if(null!=r)return void t(r);var i=iron_data_Data.loadingVideos,s=null!=__map_reserved[e]?i.getReserved(e):i.h[e];if(null!=s)return void s.push(t);var n=iron_data_Data.loadingVideos,_=[t];null!=__map_reserved[e]?n.setReserved(e,_):n.h[e]=_,kha_LoaderImpl.loadVideoFromDescription({files:[e]},function(t){var a=iron_data_Data.cachedVideos;null!=__map_reserved[e]?a.setReserved(e,t):a.h[e]=t;for(var r=0,i=iron_data_Data.loadingVideos,s=null!=__map_reserved[e]?i.getReserved(e):i.h[e];r<s.length;){var n=s[r];++r,n(t)}iron_data_Data.loadingVideos.remove(e)})},iron_data_Data.getFont=function(e,t){var a=iron_data_Data.cachedFonts,r=null!=__map_reserved[e]?a.getReserved(e):a.h[e];if(null!=r)return void t(r);var i=iron_data_Data.loadingFonts,s=null!=__map_reserved[e]?i.getReserved(e):i.h[e];if(null!=s)return void s.push(t);var n=iron_data_Data.loadingFonts,_=[t];null!=__map_reserved[e]?n.setReserved(e,_):n.h[e]=_,kha_LoaderImpl.loadFontFromDescription({files:[e]},function(t){var a=iron_data_Data.cachedFonts;null!=__map_reserved[e]?a.setReserved(e,t):a.h[e]=t;for(var r=0,i=iron_data_Data.loadingFonts,s=null!=__map_reserved[e]?i.getReserved(e):i.h[e];r<s.length;){var n=s[r];++r,n(t)}iron_data_Data.loadingFonts.remove(e)})},iron_data_Data.prototype={__class__:iron_data_Data};var iron_object_Object=function(){this.culled=!1,this.visible=!0,this.animation=null,this.children=[],this.parent=null,this.traits=[],this.constraints=null,this.name="",this.raw=null,this.uid=iron_object_Object.uidCounter++,this.transform=new iron_object_Transform(this)};$hxClasses["iron.object.Object"]=iron_object_Object,iron_object_Object.__name__=["iron","object","Object"],iron_object_Object.prototype={addChild:function(e){this.children.push(e),e.parent=this},remove:function(){for(null!=this.animation&&this.animation.remove();this.children.length>0;)this.children[0].remove();for(;this.traits.length>0;)this.traits[0].remove();null!=this.parent&&HxOverrides.remove(this.parent.children,this),this.parent=null},getChild:function(e){if(this.name==e)return this;for(var t=0,a=this.children;t<a.length;){var r=a[t];++t;var i=r.getChild(e);if(null!=i)return i}return null},getChildOfType:function(e){if(js_Boot.__instanceof(this,e))return this;for(var t=0,a=this.children;t<a.length;){var r=a[t];++t;var i=r.getChildOfType(e);if(null!=i)return i}return null},addTrait:function(e){this.traits.push(e),e.object=this,null!=e._add&&(e._add(),e._add=null)},removeTrait:function(e){null!=e._init&&iron_App.removeInit(e._init),null!=e._update&&iron_App.removeUpdate(e._update),null!=e._lateUpdate&&iron_App.removeLateUpdate(e._lateUpdate),null!=e._render&&iron_App.removeRender(e._render),null!=e._render2D&&iron_App.removeRender2D(e._render2D),null!=e._remove&&(e._remove(),e._remove=null),HxOverrides.remove(this.traits,e),e.object=null},getTrait:function(e){for(var t=0,a=this.traits;t<a.length;){var r=a[t];if(++t,(null==r?null:js_Boot.getClass(r))==e)return r}return null},setupAnimation:function(e,t,a,r,i,s,n,_){null==_&&(_=50),this.animation=iron_object_Animation.setupObjectAnimation(this,e,t,a,r,i,s,n)},__class__:iron_object_Object};var iron_Scene=function(){this.traitInits=[],this.greasePencil=null,this.meshes=[],this.lamps=[],this.cameras=[],this.speakers=[],this.decals=[],this.animations=[],this.embedded=new haxe_ds_StringMap,this.root=new iron_object_Object,this.traitInits=[]};$hxClasses["iron.Scene"]=iron_Scene,iron_Scene.__name__=["iron","Scene"],iron_Scene.create=function(e,t){iron_Scene.active=new iron_Scene,iron_Scene.active.waiting=!0,iron_Scene.active.raw=e,iron_data_Data.getWorld(e.name,e.world_ref,function(a){iron_Scene.active.world=a,iron_Scene.active.addScene(e.name,null,function(a){0==iron_Scene.active.cameras.length&&(haxe_Log.trace('No camera found for scene "'+Std.string(e)+'.name"!',{fileName:"Scene.hx",lineNumber:72,className:"iron.Scene",methodName:"create"}),t(null)),iron_Scene.active.camera=iron_Scene.active.getCamera(e.camera_ref),t(a);for(var r=0,i=iron_Scene.active.traitInits;r<i.length;){var s=i[r];++r,s()}iron_Scene.active.traitInits=[]})})},iron_Scene.patch=function(){var e=iron_Scene.active.camera.transform;iron_data_Data.clearSceneData(),iron_Scene.setActive(iron_Scene.active.raw.name,function(t){iron_Scene.active.camera.transform=e})},iron_Scene.setActive=function(e,t){null!=iron_Scene.active&&iron_Scene.active.remove(),iron_data_Data.getSceneRaw(e,function(e){iron_Scene.create(e,function(e){t(e),iron_Scene.active.waiting=!1})})},iron_Scene.generateTranform=function(e,t){t.matrix=iron_math_Mat4.fromArray(e.transform.values),t.matrix.decompose(t.loc,t.rot,t.scale),null!=e.local_transform_only&&(t.localOnly=e.local_transform_only)},iron_Scene.setupAnimation=function(e,t){null!=e&&t.setupAnimation(e.start_track,e.names,e.starts,e.ends,e.speeds,e.loops,e.reflects,e.max_bones)},iron_Scene.createTraits=function(e,t){if(null!=e)for(var a=0;a<e.length;){var r=e[a];if(++a,"Script"==r.type){var i=[];null!=r.parameters&&(i=r.parameters);var s=iron_Scene.createTraitClassInstance(r.class_name,i);if(null==s){haxe_Log.trace("Error: Trait '"+r.class_name+"' referenced in object '"+t.name+"' not found",{fileName:"Scene.hx",lineNumber:409,className:"iron.Scene",methodName:"createTraits"});continue}t.addTrait(s)}}},iron_Scene.createConstraints=function(e,t){if(null!=e){t.constraints=[];for(var a=0;a<e.length;){var r=e[a];++a,t.constraints.push(new iron_object_Constraint(r))}}},iron_Scene.createTraitClassInstance=function(e,t){var a=Type.resolveClass(e);return null==a?null:Type.createInstance(a,t)},iron_Scene.prototype={remove:function(){for(var e=0,t=this.meshes;e<t.length;){var a=t[e];++e,a.remove()}for(var r=0,i=this.lamps;r<i.length;){var s=i[r];++r,s.remove()}for(var n=0,_=this.cameras;n<_.length;){var o=_[n];++n,o.remove()}for(var h=0,l=this.speakers;h<l.length;){var c=l[h];++h,c.remove()}for(var d=0,u=this.decals;d<u.length;){var g=u[d];++d,g.remove()}this.root.remove()},updateFrame:function(){for(var e=0,t=this.animations;e<t.length;){var a=t[e];++e,a.update(.016666666666666666)}},renderFrame:function(e){if(!this.waiting){for(var t=this.camera,a=0,r=this.cameras;a<r.length;){var i=r[a];++a,null!=i.data.mirror&&(this.camera=i,this.camera.renderFrame(e,this.root,this.lamps))}this.camera=t,this.camera.renderFrame(e,this.root,this.lamps)}},addObject:function(e){var t=new iron_object_Object;return null!=e?e.addChild(t):this.root.addChild(t),t},getChild:function(e){return this.root.getChild(e)},getMesh:function(e){for(var t=0,a=this.meshes;t<a.length;){var r=a[t];if(++t,r.name==e)return r}return null},getLamp:function(e){for(var t=0,a=this.lamps;t<a.length;){var r=a[t];if(++t,r.name==e)return r}return null},getCamera:function(e){for(var t=0,a=this.cameras;t<a.length;){var r=a[t];if(++t,r.name==e)return r}return null},getSpeaker:function(e){for(var t=0,a=this.speakers;t<a.length;){var r=a[t];if(++t,r.name==e)return r}return null},addMeshObject:function(e,t,a){var r=new iron_object_MeshObject(e,t);return null!=a?a.addChild(r):this.root.addChild(r),r},addLampObject:function(e,t){var a=new iron_object_LampObject(e);return null!=t?t.addChild(a):this.root.addChild(a),a},addCameraObject:function(e,t){var a=new iron_object_CameraObject(e);return null!=t?t.addChild(a):this.root.addChild(a),a},addSpeakerObject:function(e,t){var a=new iron_object_SpeakerObject(e);return null!=t?t.addChild(a):this.root.addChild(a),a},addDecalObject:function(e,t){var a=new iron_object_DecalObject(e);return null!=t?t.addChild(a):this.root.addChild(a),a},addScene:function(e,t,a){var r=this;null==t&&(t=this.addObject()),iron_data_Data.getSceneRaw(e,function(i){iron_Scene.createTraits(i.traits,t),r.loadEmbeddedData(i.embedded_datas,function(){if(null!=i.grease_pencil_ref){var s=i.grease_pencil_ref.split("/"),n="",_="";2==s.length?(n=s[0],_=s[1]):(n=e,_=i.grease_pencil_ref),iron_data_Data.getGreasePencil(n,_,function(e){r.greasePencil=e})}r.objectsTraversed=0;var o=r.getObjectsCount(i.objects);r.traverseObjects(i,e,t,i.objects,null,function(){a(t)},o)})})},getObjectsCount:function(e){for(var t=e.length,a=0;a<e.length;){var r=e[a];++a,null!=r.children&&(t+=this.getObjectsCount(r.children))}return t},traverseObjects:function(e,t,a,r,i,s,n){var _=this;if(null!=r)for(var o=0,h=r.length;o<h;){var l=[r[o++]];null==l[0].spawn||0!=l[0].spawn?this.createObject(l[0],e,t,a,i,function(a){return function(r){null!=r&&_.traverseObjects(e,t,r,a[0].children,a[0],s,n),_.objectsTraversed++,_.objectsTraversed==n&&s()}}(l)):(this.objectsTraversed++,this.objectsTraversed==n&&s())}},spawnObject:function(e,t,a){this.createObject(this.getObj(this.raw,e),this.raw,this.raw.name,t,null,a)},parseObject:function(e,t,a,r){var i=this;iron_data_Data.getSceneRaw(e,function(t){var s=i.getObj(t,e);null==s&&r(null),i.createObject(s,t,e,a,null,r)})},getObj:function(e,t){for(var a=0,r=e.objects;a<r.length;){var i=r[a];if(++a,i.name==t)return i}return null},createObject:function(e,t,a,r,i,s){var n=this;if("camera_object"==e.type)iron_data_Data.getCamera(a,e.data_ref,function(t){n.returnObject(n.addCameraObject(t,r),e,s)});else if("lamp_object"==e.type)iron_data_Data.getLamp(a,e.data_ref,function(t){n.returnObject(n.addLampObject(t,r),e,s)});else if("mesh_object"==e.type)if(0==e.material_refs.length){var _=this.addObject(r);this.setTransformDimensions(_.transform,e.dimensions),this.returnObject(_,e,s)}else for(var o=e.material_refs.length,h=new Array(o),l=0,c=0,d=e.material_refs.length;c<d;){var u=[c++];iron_data_Data.getMaterial(a,e.material_refs[u[0]],function(t){return function(_){if(h[t[0]]=_,++l,l==e.material_refs.length){var o=e.data_ref.split("/"),c="",d="";2==o.length?(c=o[0],d=o[1]):(c=a,d=e.data_ref),null!=i&&null!=i.bones_ref?iron_data_Data.getSceneRaw(i.bones_ref,function(){return function(t){n.returnMeshObject(c,d,a,t.objects,h,r,e,s)}}()):n.returnMeshObject(c,d,a,null,h,r,e,s)}}}(u))}else"speaker_object"==e.type?this.returnObject(this.addSpeakerObject(iron_data_Data.getSpeakerRawByName(t.speaker_datas,e.data_ref),r),e,s):"decal_object"==e.type?null!=e.material_refs&&e.material_refs.length>0?iron_data_Data.getMaterial(a,e.material_refs[0],function(t){n.returnObject(n.addDecalObject(t,r),e,s)}):this.returnObject(this.addDecalObject(null,r),e,s):"object"==e.type?this.returnObject(this.addObject(r),e,s):s(null)},returnMeshObject:function(e,t,a,r,i,s,n,_){var o=this;iron_data_Data.getMesh(e,t,r,function(e){var t=o.addMeshObject(e,i,s);null!=n.particle_refs&&n.particle_refs.length>0&&js_Boot.__cast(t,iron_object_MeshObject).setupParticleSystem(a,n.particle_refs[0]),o.setTransformDimensions(t.transform,n.dimensions),o.returnObject(t,n,_)})},setTransformDimensions:function(e,t){e.size.set(t[0],t[1],t[2]),e.computeRadius()},returnObject:function(e,t,a){null!=e&&(e.raw=t,e.name=t.name,null!=t.visible&&(e.visible=t.visible),iron_Scene.createTraits(t.traits,e),iron_Scene.createConstraints(t.constraints,e),iron_Scene.generateTranform(t,e.transform),iron_Scene.setupAnimation(t.animation_setup,e)),a(e)},loadEmbeddedData:function(e,t){var a=this;if(null==e)return void t();for(var r=0,i=0;i<e.length;){var s=[e[i]];++i,iron_data_Data.getImage(s[0],function(i){return function(s){var n=a.embedded;null!=__map_reserved[i[0]]?n.setReserved(i[0],s):n.h[i[0]]=s,++r,r==e.length&&t()}}(s))}},notifyOnInit:function(e){this.waiting?this.traitInits.push(e):e()},removeInit:function(e){HxOverrides.remove(this.traitInits,e)},__class__:iron_Scene};var iron_system_Time=function(){};$hxClasses["iron.system.Time"]=iron_system_Time,iron_system_Time.__name__=["iron","system","Time"],iron_system_Time.time=function(){return kha_Scheduler.time()};var armory_trait_internal_JSScriptAPI=$hx_exports.armory=function(){};$hxClasses["armory.trait.internal.JSScriptAPI"]=armory_trait_internal_JSScriptAPI,armory_trait_internal_JSScriptAPI.__name__=["armory","trait","internal","JSScriptAPI"],armory_trait_internal_JSScriptAPI.prototype={__class__:armory_trait_internal_JSScriptAPI};var kha_math_FastMatrix4=function(e,t,a,r,i,s,n,_,o,h,l,c,d,u,g,p){this._00=e,this._10=t,this._20=a,this._30=r,this._01=i,this._11=s,this._21=n,this._31=_,this._02=o,this._12=h,this._22=l,this._32=c,this._03=d,this._13=u,this._23=g,this._33=p};$hxClasses["kha.math.FastMatrix4"]=kha_math_FastMatrix4,kha_math_FastMatrix4.__name__=["kha","math","FastMatrix4"],kha_math_FastMatrix4.fromMatrix4=function(e){return new kha_math_FastMatrix4(e._00,e._10,e._20,e._30,e._01,e._11,e._21,e._31,e._02,e._12,e._22,e._32,e._03,e._13,e._23,e._33)},kha_math_FastMatrix4.orthogonalProjection=function(e,t,a,r,i,s){return new kha_math_FastMatrix4(2/(t-e),0,0,-(t+e)/(t-e),0,2/(r-a),0,-(r+a)/(r-a),0,0,-2/(s-i),-(s+i)/(s-i),0,0,0,1)},kha_math_FastMatrix4.perspectiveProjection=function(e,t,a,r){var i=1/Math.tan(e/2);return new kha_math_FastMatrix4(i/t,0,0,0,0,i,0,0,0,0,(r+a)/(a-r),2*r*a/(a-r),0,0,-1,0)},kha_math_FastMatrix4.lookAt=function(e,t,a){var r=new kha_math_FastVector3(t.x-e.x,t.y-e.y,t.z-e.z);r.set_length(1);var i=new kha_math_FastVector3(r.y*a.z-r.z*a.y,r.z*a.x-r.x*a.z,r.x*a.y-r.y*a.x);i.set_length(1);var s=i.y*r.z-i.z*r.y,n=i.z*r.x-i.x*r.z,_=i.x*r.y-i.y*r.x;return new kha_math_FastMatrix4(i.x,i.y,i.z,-(i.x*e.x+i.y*e.y+i.z*e.z),s,n,_,-(s*e.x+n*e.y+_*e.z),-r.x,-r.y,-r.z,r.x*e.x+r.y*e.y+r.z*e.z,0,0,0,1)},kha_math_FastMatrix4.prototype={__class__:kha_math_FastMatrix4};var iron_math_Vec4=function(e,t,a,r){null==r&&(r=1),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t,this.z=a,this.w=r};$hxClasses["iron.math.Vec4"]=iron_math_Vec4,iron_math_Vec4.__name__=["iron","math","Vec4"],iron_math_Vec4.lerp=function(e,t,a){var r=new iron_math_Vec4;return r.x=t.x+(e.x-t.x)*a,r.y=t.y+(e.y-t.y)*a,r.z=t.z+(e.z-t.z)*a,r},iron_math_Vec4.distance3d=function(e,t){var a=e.x,r=e.y,i=e.z,s=t.x,n=t.y,_=t.z,o=a-s,h=r-n,l=i-_;return Math.sqrt(o*o+h*h+l*l)},iron_math_Vec4.distance3df=function(e,t,a,r,i,s){var n=e-r,_=t-i,o=a-s;return Math.sqrt(n*n+_*_+o*o)},iron_math_Vec4.xAxis=function(){return new iron_math_Vec4(1,0,0)},iron_math_Vec4.yAxis=function(){return new iron_math_Vec4(0,1,0)},iron_math_Vec4.zAxis=function(){return new iron_math_Vec4(0,0,1)},iron_math_Vec4.prototype={cross:function(e){var t=this.y*e.z-this.z*e.y,a=this.z*e.x-this.x*e.z,r=this.x*e.y-this.y*e.x;return this.x=t,this.y=a,this.z=r,this},crossvecs:function(e,t){var a=e.y*t.z-e.z*t.y,r=e.z*t.x-e.x*t.z,i=e.x*t.y-e.y*t.x;return this.x=a,this.y=r,this.z=i,this},set:function(e,t,a){return this.x=e,this.y=t,this.z=a,this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},addf:function(e,t,a){return this.x+=e,this.y+=t,this.z+=a,this},subvecs:function(e,t){var a=e.x-t.x,r=e.y-t.y,i=e.z-t.z;return this.x=a,this.y=r,this.z=i,this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);if(e>0){var t=1/e;this.x*=t,this.y*=t,this.z*=t}return this},mult:function(e){return this.x*=e,this.y*=e,this.z*=e,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},setFrom:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},clone:function(){return new iron_math_Vec4(this.x,this.y,this.z)},applyproj:function(e){var t=this.x,a=this.y,r=this.z,i=1/(e.self._03*t+e.self._13*a+e.self._23*r+e.self._33);return this.x=(e.self._00*t+e.self._10*a+e.self._20*r+e.self._30)*i,this.y=(e.self._01*t+e.self._11*a+e.self._21*r+e.self._31)*i,this.z=(e.self._02*t+e.self._12*a+e.self._22*r+e.self._32)*i,this},applymat:function(e){var t=this.x,a=this.y,r=this.z;return this.x=e.self._00*t+e.self._10*a+e.self._20*r+e.self._30,this.y=e.self._01*t+e.self._11*a+e.self._21*r+e.self._31,
this.z=e.self._02*t+e.self._12*a+e.self._22*r+e.self._32,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},sub:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},unproject:function(e,t){var a=iron_math_Mat4.identity(),r=iron_math_Mat4.identity(),i=iron_math_Mat4.identity();return r.getInverse(e),i.getInverse(t),a.multmats(i,r),this.applyproj(a)},distanceTo:function(e){return Math.sqrt((e.x-this.x)*(e.x-this.x)+(e.y-this.y)*(e.y-this.y)+(e.z-this.z)*(e.z-this.z))},toString:function(){return this.x+", "+this.y+", "+this.z},__class__:iron_math_Vec4};var iron_math_Mat4=function(e,t,a,r,i,s,n,_,o,h,l,c,d,u,g,p){this.self=new kha_math_FastMatrix4(e,t,a,r,i,s,n,_,o,h,l,c,d,u,g,p)};$hxClasses["iron.math.Mat4"]=iron_math_Mat4,iron_math_Mat4.__name__=["iron","math","Mat4"],iron_math_Mat4.identity=function(){return new iron_math_Mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},iron_math_Mat4.fromArray=function(e){return new iron_math_Mat4(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},iron_math_Mat4.perspective=function(e,t,a,r){var i=1/Math.tan(e/2);return new iron_math_Mat4(i/t,0,0,0,0,i,0,0,0,0,(r+a)/(a-r),2*r*a/(a-r),0,0,-1,0)},iron_math_Mat4.orthogonal=function(e,t,a,r,i,s,n){null==n&&(n=2);var _=t-e,o=r-a,h=s-i;return new iron_math_Mat4(n/_,0,0,-((t+e)/_),0,n/o,0,-((r+a)/o),0,0,-n/h,-((s+i)/h),0,0,0,1)},iron_math_Mat4.lookAt=function(e,t,a){var r=e.x,i=e.y,s=e.z,n=a.x,_=a.y,o=a.z,h=t.x-r,l=t.y-i,c=t.z-s,d=1/Math.sqrt(h*h+l*l+c*c);h*=d,l*=d,c*=d;var u=l*o-c*_,g=c*n-h*o,p=h*_-l*n;return d=1/Math.sqrt(u*u+g*g+p*p),u*=d,g*=d,p*=d,n=g*c-p*l,_=p*h-u*c,o=u*l-g*h,new iron_math_Mat4(u,g,p,-r*u-i*g-s*p,n,_,o,-r*n-i*_-s*o,-h,-l,-c,r*h+i*l+s*c,0,0,0,1)},iron_math_Mat4.prototype={compose:function(e,t,a){return this.fromQuaternion(t),this.scale(a),this.setPosition(e),this},decompose:function(e,t,a){iron_math_Mat4.helpVec.w=0;var r=iron_math_Mat4.helpVec.set(this.self._00,this.self._01,this.self._02),i=Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z),s=iron_math_Mat4.helpVec.set(this.self._10,this.self._11,this.self._12),n=Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z),_=iron_math_Mat4.helpVec.set(this.self._20,this.self._21,this.self._22),o=Math.sqrt(_.x*_.x+_.y*_.y+_.z*_.z),h=this.self,l=h._11,c=h._21,d=h._31,u=h._12,g=h._22,p=h._32,m=h._13,f=h._23,v=h._33,k=l*(g*v-p*f)-c*(u*v-p*m)+d*(u*f-g*m),y=h._10,b=h._20,I=h._30,S=h._12,x=h._22,C=h._32,w=h._13,B=h._23,A=h._33,T=y*(x*A-C*B)-b*(S*A-C*w)+I*(S*B-x*w),M=h._10,V=h._20,D=h._30,F=h._11,R=h._21,E=h._31,G=h._13,N=h._23,j=h._33,z=M*(R*j-E*N)-V*(F*j-E*G)+D*(F*N-R*G),P=h._10,H=h._20,Z=h._30,K=h._11,W=h._21,L=h._31,$=h._12,U=h._22,O=h._32;h._00*k-h._01*T+h._02*z-h._03*(P*(W*O-L*U)-H*(K*O-L*$)+Z*(K*U-W*$))<0&&(i=-i),e.x=this.self._30,e.y=this.self._31,e.z=this.self._32,iron_math_Mat4.helpMat.self._00=this.self._00,iron_math_Mat4.helpMat.self._10=this.self._10,iron_math_Mat4.helpMat.self._20=this.self._20,iron_math_Mat4.helpMat.self._30=this.self._30,iron_math_Mat4.helpMat.self._01=this.self._01,iron_math_Mat4.helpMat.self._11=this.self._11,iron_math_Mat4.helpMat.self._21=this.self._21,iron_math_Mat4.helpMat.self._31=this.self._31,iron_math_Mat4.helpMat.self._02=this.self._02,iron_math_Mat4.helpMat.self._12=this.self._12,iron_math_Mat4.helpMat.self._22=this.self._22,iron_math_Mat4.helpMat.self._32=this.self._32,iron_math_Mat4.helpMat.self._03=this.self._03,iron_math_Mat4.helpMat.self._13=this.self._13,iron_math_Mat4.helpMat.self._23=this.self._23,iron_math_Mat4.helpMat.self._33=this.self._33;var Y=1/i,X=1/n,Q=1/o,J=iron_math_Mat4.helpMat;J.self._00=J.self._00*Y;var q=iron_math_Mat4.helpMat;q.self._01=q.self._01*Y;var ee=iron_math_Mat4.helpMat;ee.self._02=ee.self._02*Y,iron_math_Mat4.helpMat.self._03=0;var te=iron_math_Mat4.helpMat;te.self._10=te.self._10*X;var ae=iron_math_Mat4.helpMat;ae.self._11=ae.self._11*X;var re=iron_math_Mat4.helpMat;re.self._12=re.self._12*X,iron_math_Mat4.helpMat.self._13=0;var ie=iron_math_Mat4.helpMat;ie.self._20=ie.self._20*Q;var se=iron_math_Mat4.helpMat;se.self._21=se.self._21*Q;var ne=iron_math_Mat4.helpMat;return ne.self._22=ne.self._22*Q,iron_math_Mat4.helpMat.self._23=0,iron_math_Mat4.helpMat.self._30=0,iron_math_Mat4.helpMat.self._31=0,iron_math_Mat4.helpMat.self._32=0,iron_math_Mat4.helpMat.self._33=0,t.fromRotationMat(iron_math_Mat4.helpMat),a.x=i,a.y=n,a.z=o,this},setPosition:function(e){return this.self._30=e.x,this.self._31=e.y,this.self._32=e.z,this},fromQuaternion:function(e){var t=e.x,a=e.y,r=e.z,i=e.w,s=t+t,n=a+a,_=r+r,o=t*s,h=t*n,l=t*_,c=a*n,d=a*_,u=r*_,g=i*s,p=i*n,m=i*_;return this.self._00=1-(c+u),this.self._10=h-m,this.self._20=l+p,this.self._01=h+m,this.self._11=1-(o+u),this.self._21=d-g,this.self._02=l-p,this.self._12=d+g,this.self._22=1-(o+c),this.self._03=0,this.self._13=0,this.self._23=0,this.self._30=0,this.self._31=0,this.self._32=0,this.self._33=1,this},setIdentity:function(){return this.self._00=1,this.self._01=0,this.self._02=0,this.self._03=0,this.self._10=0,this.self._11=1,this.self._12=0,this.self._13=0,this.self._20=0,this.self._21=0,this.self._22=1,this.self._23=0,this.self._30=0,this.self._31=0,this.self._32=0,this.self._33=1,this},initTranslate:function(e,t,a){null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.self._00=1,this.self._01=0,this.self._02=0,this.self._03=0,this.self._10=0,this.self._11=1,this.self._12=0,this.self._13=0,this.self._20=0,this.self._21=0,this.self._22=1,this.self._23=0,this.self._30=e,this.self._31=t,this.self._32=a,this.self._33=1},translate:function(e,t,a){null==a&&(a=0),null==t&&(t=0),null==e&&(e=0);var r=this;r.self._00=r.self._00+e*this.self._03;var i=this;i.self._01=i.self._01+t*this.self._03;var s=this;s.self._02=s.self._02+a*this.self._03;var n=this;n.self._10=n.self._10+e*this.self._13;var _=this;_.self._11=_.self._11+t*this.self._13;var o=this;o.self._12=o.self._12+a*this.self._13;var h=this;h.self._20=h.self._20+e*this.self._23;var l=this;l.self._21=l.self._21+t*this.self._23;var c=this;c.self._22=c.self._22+a*this.self._23;var d=this;d.self._30=d.self._30+e*this.self._33;var u=this;u.self._31=u.self._31+t*this.self._33;var g=this;g.self._32=g.self._32+a*this.self._33},scale:function(e){var t=this;t.self._00=t.self._00*e.x;var a=this;a.self._01=a.self._01*e.x;var r=this;r.self._02=r.self._02*e.x;var i=this;i.self._03=i.self._03*e.x;var s=this;s.self._10=s.self._10*e.y;var n=this;n.self._11=n.self._11*e.y;var _=this;_.self._12=_.self._12*e.y;var o=this;o.self._13=o.self._13*e.y;var h=this;h.self._20=h.self._20*e.z;var l=this;l.self._21=l.self._21*e.z;var c=this;c.self._22=c.self._22*e.z;var d=this;d.self._23=d.self._23*e.z},multmat3x4:function(e,t){var a=e.self._00,r=e.self._01,i=e.self._02,s=e.self._10,n=e.self._11,_=e.self._12,o=e.self._20,h=e.self._21,l=e.self._22,c=e.self._30,d=e.self._31,u=e.self._32,g=t.self._00,p=t.self._01,m=t.self._02,f=t.self._10,v=t.self._11,k=t.self._12,y=t.self._20,b=t.self._21,I=t.self._22,S=t.self._30,x=t.self._31,C=t.self._32;this.self._00=a*g+r*f+i*y,this.self._01=a*p+r*v+i*b,this.self._02=a*m+r*k+i*I,this.self._03=0,this.self._10=s*g+n*f+_*y,this.self._11=s*p+n*v+_*b,this.self._12=s*m+n*k+_*I,this.self._13=0,this.self._20=o*g+h*f+l*y,this.self._21=o*p+h*v+l*b,this.self._22=o*m+h*k+l*I,this.self._23=0,this.self._30=c*g+d*f+u*y+S,this.self._31=c*p+d*v+u*b+x,this.self._32=c*m+d*k+u*I+C,this.self._33=1},multmat:function(e){return new iron_math_Mat4(this.self._00*e.self._00+this.self._10*e.self._01+this.self._20*e.self._02+this.self._30*e.self._03,this.self._00*e.self._10+this.self._10*e.self._11+this.self._20*e.self._12+this.self._30*e.self._13,this.self._00*e.self._20+this.self._10*e.self._21+this.self._20*e.self._22+this.self._30*e.self._23,this.self._00*e.self._30+this.self._10*e.self._31+this.self._20*e.self._32+this.self._30*e.self._33,this.self._01*e.self._00+this.self._11*e.self._01+this.self._21*e.self._02+this.self._31*e.self._03,this.self._01*e.self._10+this.self._11*e.self._11+this.self._21*e.self._12+this.self._31*e.self._13,this.self._01*e.self._20+this.self._11*e.self._21+this.self._21*e.self._22+this.self._31*e.self._23,this.self._01*e.self._30+this.self._11*e.self._31+this.self._21*e.self._32+this.self._31*e.self._33,this.self._02*e.self._00+this.self._12*e.self._01+this.self._22*e.self._02+this.self._32*e.self._03,this.self._02*e.self._10+this.self._12*e.self._11+this.self._22*e.self._12+this.self._32*e.self._13,this.self._02*e.self._20+this.self._12*e.self._21+this.self._22*e.self._22+this.self._32*e.self._23,this.self._02*e.self._30+this.self._12*e.self._31+this.self._22*e.self._32+this.self._32*e.self._33,this.self._03*e.self._00+this.self._13*e.self._01+this.self._23*e.self._02+this.self._33*e.self._03,this.self._03*e.self._10+this.self._13*e.self._11+this.self._23*e.self._12+this.self._33*e.self._13,this.self._03*e.self._20+this.self._13*e.self._21+this.self._23*e.self._22+this.self._33*e.self._23,this.self._03*e.self._30+this.self._13*e.self._31+this.self._23*e.self._32+this.self._33*e.self._33)},multmat2:function(e){var t=this.self._00,a=this.self._01,r=this.self._02,i=this.self._03,s=this.self._10,n=this.self._11,_=this.self._12,o=this.self._13,h=this.self._20,l=this.self._21,c=this.self._22,d=this.self._23,u=this.self._30,g=this.self._31,p=this.self._32,m=this.self._33,f=e.self._00,v=e.self._01,k=e.self._02,y=e.self._03,b=e.self._10,I=e.self._11,S=e.self._12,x=e.self._13,C=e.self._20,w=e.self._21,B=e.self._22,A=e.self._23,T=e.self._30,M=e.self._31,V=e.self._32,D=e.self._33;return this.self._00=t*f+a*b+r*C+i*T,this.self._01=t*v+a*I+r*w+i*M,this.self._02=t*k+a*S+r*B+i*V,this.self._03=t*y+a*x+r*A+i*D,this.self._10=s*f+n*b+_*C+o*T,this.self._11=s*v+n*I+_*w+o*M,this.self._12=s*k+n*S+_*B+o*V,this.self._13=s*y+n*x+_*A+o*D,this.self._20=h*f+l*b+c*C+d*T,this.self._21=h*v+l*I+c*w+d*M,this.self._22=h*k+l*S+c*B+d*V,this.self._23=h*y+l*x+c*A+d*D,this.self._30=u*f+g*b+p*C+m*T,this.self._31=u*v+g*I+p*w+m*M,this.self._32=u*k+g*S+p*B+m*V,this.self._33=u*y+g*x+p*A+m*D,this},multmats:function(e,t){var a=e.self._00,r=e.self._10,i=e.self._20,s=e.self._30,n=e.self._01,_=e.self._11,o=e.self._21,h=e.self._31,l=e.self._02,c=e.self._12,d=e.self._22,u=e.self._32,g=e.self._03,p=e.self._13,m=e.self._23,f=e.self._33,v=t.self._00,k=t.self._10,y=t.self._20,b=t.self._30,I=t.self._01,S=t.self._11,x=t.self._21,C=t.self._31,w=t.self._02,B=t.self._12,A=t.self._22,T=t.self._32,M=t.self._03,V=t.self._13,D=t.self._23,F=t.self._33;return this.self._00=a*v+r*I+i*w+s*M,this.self._10=a*k+r*S+i*B+s*V,this.self._20=a*y+r*x+i*A+s*D,this.self._30=a*b+r*C+i*T+s*F,this.self._01=n*v+_*I+o*w+h*M,this.self._11=n*k+_*S+o*B+h*V,this.self._21=n*y+_*x+o*A+h*D,this.self._31=n*b+_*C+o*T+h*F,this.self._02=l*v+c*I+d*w+u*M,this.self._12=l*k+c*S+d*B+u*V,this.self._22=l*y+c*x+d*A+u*D,this.self._32=l*b+c*C+d*T+u*F,this.self._03=g*v+p*I+m*w+f*M,this.self._13=g*k+p*S+m*B+f*V,this.self._23=g*y+p*x+m*A+f*D,this.self._33=g*b+p*C+m*T+f*F,this},getInverse:function(e){var t=e.self._00,a=e.self._10,r=e.self._20,i=e.self._30,s=e.self._01,n=e.self._11,_=e.self._21,o=e.self._31,h=e.self._02,l=e.self._12,c=e.self._22,d=e.self._32,u=e.self._03,g=e.self._13,p=e.self._23,m=e.self._33;this.self._00=_*d*g-o*c*g+o*l*p-n*d*p-_*l*m+n*c*m,this.self._10=i*c*g-r*d*g-i*l*p+a*d*p+r*l*m-a*c*m,this.self._20=r*o*g-i*_*g+i*n*p-a*o*p-r*n*m+a*_*m,this.self._30=i*_*l-r*o*l-i*n*c+a*o*c+r*n*d-a*_*d,this.self._01=o*c*u-_*d*u-o*h*p+s*d*p+_*h*m-s*c*m,this.self._11=r*d*u-i*c*u+i*h*p-t*d*p-r*h*m+t*c*m,this.self._21=i*_*u-r*o*u-i*s*p+t*o*p+r*s*m-t*_*m,this.self._31=r*o*h-i*_*h+i*s*c-t*o*c-r*s*d+t*_*d,this.self._02=n*d*u-o*l*u+o*h*g-s*d*g-n*h*m+s*l*m,this.self._12=i*l*u-a*d*u-i*h*g+t*d*g+a*h*m-t*l*m,this.self._22=a*o*u-i*n*u+i*s*g-t*o*g-a*s*m+t*n*m,this.self._32=i*n*h-a*o*h-i*s*l+t*o*l+a*s*d-t*n*d,this.self._03=_*l*u-n*c*u-_*h*g+s*c*g+n*h*p-s*l*p,this.self._13=a*c*u-r*l*u+r*h*g-t*c*g-a*h*p+t*l*p,this.self._23=r*n*u-a*_*u-r*s*g+t*_*g+a*s*p-t*n*p,this.self._33=a*_*h-r*n*h+r*s*l-t*_*l-a*s*c+t*n*c;var f=t*this.self._00+s*this.self._10+h*this.self._20+u*this.self._30;return 0==f?this.setIdentity():(this.mult(1/f),this)},transpose:function(){var e=this.self._01;this.self._01=this.self._10,this.self._10=e,e=this.self._02,this.self._02=this.self._20,this.self._20=e,e=this.self._03,this.self._03=this.self._30,this.self._30=e,e=this.self._12,this.self._12=this.self._21,this.self._21=e,e=this.self._13,this.self._13=this.self._31,this.self._31=e,e=this.self._23,this.self._23=this.self._32,this.self._32=e},transpose3x3:function(){var e=this.self._01;this.self._01=this.self._10,this.self._10=e,e=this.self._02,this.self._02=this.self._20,this.self._20=e,e=this.self._12,this.self._12=this.self._21,this.self._21=e},clone:function(){var e=iron_math_Mat4.identity();return e.self._00=this.self._00,e.self._01=this.self._01,e.self._02=this.self._02,e.self._03=this.self._03,e.self._10=this.self._10,e.self._11=this.self._11,e.self._12=this.self._12,e.self._13=this.self._13,e.self._20=this.self._20,e.self._21=this.self._21,e.self._22=this.self._22,e.self._23=this.self._23,e.self._30=this.self._30,e.self._31=this.self._31,e.self._32=this.self._32,e.self._33=this.self._33,e},set:function(e){this.self._00=e[0],this.self._10=e[1],this.self._20=e[2],this.self._30=e[3],this.self._01=e[4],this.self._11=e[5],this.self._21=e[6],this.self._31=e[7],this.self._02=e[8],this.self._12=e[9],this.self._22=e[10],this.self._32=e[11],this.self._03=e[12],this.self._13=e[13],this.self._23=e[14],this.self._33=e[15]},setFrom:function(e){this.self._00=e.self._00,this.self._01=e.self._01,this.self._02=e.self._02,this.self._03=e.self._03,this.self._10=e.self._10,this.self._11=e.self._11,this.self._12=e.self._12,this.self._13=e.self._13,this.self._20=e.self._20,this.self._21=e.self._21,this.self._22=e.self._22,this.self._23=e.self._23,this.self._30=e.self._30,this.self._31=e.self._31,this.self._32=e.self._32,this.self._33=e.self._33},getLoc:function(){return new iron_math_Vec4(this.self._30,this.self._31,this.self._32,this.self._33)},getScale:function(){return new iron_math_Vec4(Math.sqrt(this.self._00*this.self._00+this.self._10*this.self._10+this.self._20*this.self._20),Math.sqrt(this.self._01*this.self._01+this.self._11*this.self._11+this.self._21*this.self._21),Math.sqrt(this.self._02*this.self._02+this.self._12*this.self._12+this.self._22*this.self._22))},mult:function(e){var t=this;t.self._00=t.self._00*e;var a=this;a.self._10=a.self._10*e;var r=this;r.self._20=r.self._20*e;var i=this;i.self._30=i.self._30*e;var s=this;s.self._01=s.self._01*e;var n=this;n.self._11=n.self._11*e;var _=this;_.self._21=_.self._21*e;var o=this;o.self._31=o.self._31*e;var h=this;h.self._02=h.self._02*e;var l=this;l.self._12=l.self._12*e;var c=this;c.self._22=c.self._22*e;var d=this;d.self._32=d.self._32*e;var u=this;u.self._03=u.self._03*e;var g=this;g.self._13=g.self._13*e;var p=this;p.self._23=p.self._23*e;var m=this;return m.self._33=m.self._33*e,this},toRotation:function(){var e=new iron_math_Vec4,t=e.set(this.self._00,this.self._01,this.self._02),a=1/Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z),r=e.set(this.self._10,this.self._11,this.self._12),i=1/Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z),s=e.set(this.self._20,this.self._21,this.self._22),n=1/Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z);return this.self._00=this.self._00*a,this.self._01=this.self._01*a,this.self._02=this.self._02*a,this.self._03=0,this.self._10=this.self._10*i,this.self._11=this.self._11*i,this.self._12=this.self._12*i,this.self._13=0,this.self._20=this.self._20*n,this.self._21=this.self._21*n,this.self._22=this.self._22*n,this.self._23=0,this.self._30=0,this.self._31=0,this.self._32=0,this.self._33=1,this},getQuat:function(){this.clone().toRotation();var e=new iron_math_Quat,t=this.self._00,a=this.self._10,r=this.self._20,i=this.self._01,s=this.self._11,n=this.self._21,_=this.self._02,o=this.self._12,h=this.self._22,l=t+s+h,c=0;return l>0?(c=.5/Math.sqrt(l+1),e.w=.25/c,e.x=(o-n)*c,e.y=(r-_)*c,e.z=(i-a)*c):t>s&&t>h?(c=2*Math.sqrt(1+t-s-h),e.w=(o-n)/c,e.x=.25*c,e.y=(a+i)/c,e.z=(r+_)/c):s>h?(c=2*Math.sqrt(1+s-t-h),e.w=(r-_)/c,e.x=(a+i)/c,e.y=.25*c,e.z=(n+o)/c):(c=2*Math.sqrt(1+h-t-s),e.w=(i-a)/c,e.x=(r+_)/c,e.y=(n+o)/c,e.z=.25*c),e},multvec:function(e){var t=this.self,a=new kha_math_FastVector4;return a.x=t._00*e.x+t._10*e.y+t._20*e.z+t._30*e.w,a.y=t._01*e.x+t._11*e.y+t._21*e.z+t._31*e.w,a.z=t._02*e.x+t._12*e.y+t._22*e.z+t._32*e.w,a.w=t._03*e.x+t._13*e.y+t._23*e.z+t._33*e.w,a},right:function(){return new iron_math_Vec4(this.self._00,this.self._01,this.self._02)},up:function(){return new iron_math_Vec4(this.self._20,this.self._21,this.self._22)},look:function(){return new iron_math_Vec4(this.self._10,this.self._11,this.self._12)},get__00:function(){return this.self._00},set__00:function(e){return this.self._00=e},get__01:function(){return this.self._01},set__01:function(e){return this.self._01=e},get__02:function(){return this.self._02},set__02:function(e){return this.self._02=e},get__03:function(){return this.self._03},set__03:function(e){return this.self._03=e},get__10:function(){return this.self._10},set__10:function(e){return this.self._10=e},get__11:function(){return this.self._11},set__11:function(e){return this.self._11=e},get__12:function(){return this.self._12},set__12:function(e){return this.self._12=e},get__13:function(){return this.self._13},set__13:function(e){return this.self._13=e},get__20:function(){return this.self._20},set__20:function(e){return this.self._20=e},get__21:function(){return this.self._21},set__21:function(e){return this.self._21=e},get__22:function(){return this.self._22},set__22:function(e){return this.self._22=e},get__23:function(){return this.self._23},set__23:function(e){return this.self._23=e},get__30:function(){return this.self._30},set__30:function(e){return this.self._30=e},get__31:function(){return this.self._31},set__31:function(e){return this.self._31=e},get__32:function(){return this.self._32},set__32:function(e){return this.self._32=e},get__33:function(){return this.self._33},set__33:function(e){return this.self._33=e},__class__:iron_math_Mat4,__properties__:{set__33:"set__33",get__33:"get__33",set__32:"set__32",get__32:"get__32",set__31:"set__31",get__31:"get__31",set__30:"set__30",get__30:"get__30",set__23:"set__23",get__23:"get__23",set__22:"set__22",get__22:"get__22",set__21:"set__21",get__21:"get__21",set__20:"set__20",get__20:"get__20",set__13:"set__13",get__13:"get__13",set__12:"set__12",get__12:"get__12",set__11:"set__11",get__11:"get__11",set__10:"set__10",get__10:"get__10",set__03:"set__03",get__03:"get__03",set__02:"set__02",get__02:"get__02",set__01:"set__01",get__01:"get__01",set__00:"set__00",get__00:"get__00"}};var iron_math_Quat=function(e,t,a,r){null==r&&(r=1),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t,this.z=a,this.w=r};$hxClasses["iron.math.Quat"]=iron_math_Quat,iron_math_Quat.__name__=["iron","math","Quat"],iron_math_Quat.lerp=function(e,t,a){var r=new iron_math_Quat,i=new iron_math_Quat;return i.setFrom(e),e.dot(t)<0&&(i.w=-i.w,i.x=-i.x,i.y=-i.y,i.z=-i.z),r.x=i.x+(t.x-i.x)*a,r.y=i.y+(t.y-i.y)*a,r.z=i.z+(t.z-i.z)*a,r.w=i.w+(t.w-i.w)*a,r.normalize(),r},iron_math_Quat.prototype={set:function(e,t,a,r){this.x=e,this.y=t,this.z=a,this.w=r},fromAxisAngle:function(e,t){var a=Math.sin(.5*t);this.x=e.x*a,this.y=e.y*a,this.z=e.z*a,this.w=Math.cos(.5*t)},fromRotationMat:function(e){var t=e.self._00,a=e.self._10,r=e.self._20,i=e.self._01,s=e.self._11,n=e.self._21,_=e.self._02,o=e.self._12,h=e.self._22,l=t+s+h,c=0;return l>0?(c=.5/Math.sqrt(l+1),this.w=.25/c,this.x=(o-n)*c,this.y=(r-_)*c,this.z=(i-a)*c):t>s&&t>h?(c=2*Math.sqrt(1+t-s-h),this.w=(o-n)/c,this.x=.25*c,this.y=(a+i)/c,this.z=(r+_)/c):s>h?(c=2*Math.sqrt(1+s-t-h),this.w=(r-_)/c,this.x=(a+i)/c,this.y=.25*c,this.z=(n+o)/c):(c=2*Math.sqrt(1+h-t-s),this.w=(i-a)/c,this.x=(r+_)/c,this.y=(n+o)/c,this.z=.25*c),this},mult:function(e){this.multquats(this,e)},multquats:function(e,t){var a=e.x*t.w+e.w*t.x+e.y*t.z-e.z*t.y,r=e.w*t.y-e.x*t.z+e.y*t.w+e.z*t.x,i=e.w*t.z+e.x*t.y-e.y*t.x+e.z*t.w,s=e.w*t.w-e.x*t.x-e.y*t.y-e.z*t.z;this.x=a,this.y=r,this.z=i,this.w=s},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0==e?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e)},setFrom:function(e){this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w},getEuler:function(){var e=NaN,t=0,a=0,r=this.x*this.y+this.z*this.w;if(r>.499&&(e=2*Math.atan2(this.x,this.w),t=Math.PI/2,a=0),r<-.499&&(e=-2*Math.atan2(this.x,this.w),t=-Math.PI/2,a=0),isNaN(e)){var i=this.x*this.x,s=this.y*this.y,n=this.z*this.z;e=Math.atan2(2*this.y*this.w-2*this.x*this.z,1-2*s-2*n),t=Math.asin(2*r),a=Math.atan2(2*this.x*this.w-2*this.y*this.z,1-2*i-2*n)}return new iron_math_Vec4(a,e,t)},fromEuler:function(e,t,a){var r=Math.cos(e/2),i=Math.cos(t/2),s=Math.cos(a/2),n=Math.sin(e/2),_=Math.sin(t/2),o=Math.sin(a/2);return this.x=n*i*s+r*_*o,this.y=r*_*s+n*i*o,this.z=r*i*o-n*_*s,this.w=r*i*s-n*_*o,this},toMat:function(e){var t=this.x+this.x,a=this.y+this.y,r=this.z+this.z,i=this.x*t,s=this.x*a,n=this.x*r,_=this.y*a,o=this.y*r,h=this.z*r,l=this.w*t,c=this.w*a,d=this.w*r;return e.self._00=1-(_+h),e.self._10=s-d,e.self._20=n+c,e.self._01=s+d,e.self._11=1-(i+h),e.self._21=o-l,e.self._02=n-c,e.self._12=o+l,e.self._22=1-(i+_),e.self._03=0,e.self._13=0,e.self._23=0,e.self._30=0,e.self._31=0,e.self._32=0,e.self._33=1,e},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},toString:function(){return this.x+", "+this.y+", "+this.z+", "+this.w},__class__:iron_math_Quat};var armory_trait_internal_JSScriptAPIMath=$hx_exports.armory.math=function(){};$hxClasses["armory.trait.internal.JSScriptAPIMath"]=armory_trait_internal_JSScriptAPIMath,armory_trait_internal_JSScriptAPIMath.__name__=["armory","trait","internal","JSScriptAPIMath"];var armory_trait_internal_MovieTexture=function(e){iron_Trait.call(this),this.videoName=e,armory_trait_internal_MovieTexture.created||(armory_trait_internal_MovieTexture.created=!0,this.notifyOnInit($bind(this,this.init)),this.notifyOnRender2D($bind(this,this.render)))};$hxClasses["armory.trait.internal.MovieTexture"]=armory_trait_internal_MovieTexture,armory_trait_internal_MovieTexture.__name__=["armory","trait","internal","MovieTexture"],armory_trait_internal_MovieTexture.__super__=iron_Trait,armory_trait_internal_MovieTexture.prototype=$extend(iron_Trait.prototype,{pow:function(e){for(var t=1,a=0;a<e;)++a,t*=2;return t},getPower2:function(e){for(var t=0;;){var a=this.pow(t);if(a>=e)return a;++t}},init:function(){var e=this;iron_data_Data.getVideo(this.videoName,function(t){e.video=t,e.video.play(!0),armory_trait_internal_MovieTexture.image=kha_Image.createRenderTarget(e.getPower2(e.video.width()),e.getPower2(e.video.height())),js_Boot.__cast(e.object,iron_object_MeshObject).materials[0].contexts[0].textures[0]=armory_trait_internal_MovieTexture.image})},render:function(e){if(null!=this.video){e.end();var t=armory_trait_internal_MovieTexture.image.get_g2();t.begin(!0,-16777216),t.set_color(-1),t.drawVideo(this.video,0,0,1024,512),t.end(),e.begin(!1)}},__class__:armory_trait_internal_MovieTexture});var armory_trait_internal_NodeExecutor=function(){this.nodeUpdates=[],this.nodeInits=[],iron_Trait.call(this),this.notifyOnUpdate($bind(this,this.update))};$hxClasses["armory.trait.internal.NodeExecutor"]=armory_trait_internal_NodeExecutor,armory_trait_internal_NodeExecutor.__name__=["armory","trait","internal","NodeExecutor"],armory_trait_internal_NodeExecutor.__super__=iron_Trait,armory_trait_internal_NodeExecutor.prototype=$extend(iron_Trait.prototype,{start:function(e){this.baseNode=e,e.start(this)},update:function(){if(this.nodeInits.length>0){for(var e=0,t=this.nodeInits;e<t.length;){var a=t[e];if(++e,0==this.nodeInits.length)break;a(),a=null}this.nodeInits.splice(0,this.nodeInits.length)}for(var r=0,i=this.nodeUpdates;r<i.length;){var s=i[r];++r,s()}},notifyOnNodeInit:function(e){this.nodeInits.push(e)},notifyOnNodeUpdate:function(e){this.nodeUpdates.push(e)},__class__:armory_trait_internal_NodeExecutor});var armory_trait_internal_PathTracer=function(){iron_Trait.call(this),this.notifyOnInit($bind(this,this.init))};$hxClasses["armory.trait.internal.PathTracer"]=armory_trait_internal_PathTracer,armory_trait_internal_PathTracer.__name__=["armory","trait","internal","PathTracer"],armory_trait_internal_PathTracer.__super__=iron_Trait,armory_trait_internal_PathTracer.prototype=$extend(iron_Trait.prototype,{getColorFromNode:function(e){for(var t=0,a=e.materials[0].contexts[0].raw.bind_constants;t<a.length;){var r=a[t];if(++t,"baseCol"==r.name)return r.vec4}return null},init:function(){var e=this;iron_data_Data.getMaterial("pt_material","",function(t){e.context=t.getContext("pt_trace_pass"),e.context.raw.bind_constants.push({name:"glossiness",float:.6}),e.context.raw.bind_constants.push({name:"ray00",vec3:[0,0,0]}),e.ray00Location=e.context.raw.bind_constants.length-1,e.context.raw.bind_constants.push({name:"ray01",vec3:[0,0,0]}),e.ray01Location=e.context.raw.bind_constants.length-1,e.context.raw.bind_constants.push({name:"ray10",vec3:[0,0,0]}),e.ray10Location=e.context.raw.bind_constants.length-1,e.context.raw.bind_constants.push({name:"ray11",vec3:[0,0,0]}),e.ray11Location=e.context.raw.bind_constants.length-1,e.objectLocations=[],e.transformMap=new haxe_ds_IntMap;for(var a=0,r=0,i=0,s=iron_Scene.active.meshes;i<s.length;){var n=s[i];if(++i,"Sphere"==n.name.split(".")[0]){e.context.raw.bind_constants.push({name:"sphereCenter"+a,vec3:[0,0,0]});var _=e.context.raw.bind_constants.length-1;e.objectLocations.push(_),e.transformMap.h[_]=n.transform,e.context.raw.bind_constants.push({name:"sphereRadius"+a,float:n.transform.size.x/2-.02});var o=e.getColorFromNode(n);e.context.raw.bind_constants.push({name:"sphereColor"+a,vec3:[o[0],o[1],o[2]]}),++a}else if("Cube"==n.name.split(".")[0]){e.context.raw.bind_constants.push({name:"cubeCenter"+r,vec3:[0,0,0]});var h=e.context.raw.bind_constants.length-1;e.objectLocations.push(h),e.transformMap.h[h]=n.transform,e.context.raw.bind_constants.push({name:"cubeSize"+r,vec3:[n.transform.size.x/2,n.transform.size.y/2,n.transform.size.z/2]});var l=e.getColorFromNode(n);e.context.raw.bind_constants.push({name:"cubeColor"+r,vec3:[l[0],l[1],l[2]]}),++r}}e.notifyOnUpdate($bind(e,e.update))})},update:function(){var e=iron_Scene.active.camera,t=e.transform.loc,a=iron_math_Mat4.identity();a.multmat2(e.V),a.multmat2(e.P);var r=iron_math_Mat4.identity(),i=this.getEyeRay(r,-1,-1,t);this.context.raw.bind_constants[this.ray00Location].vec3=[i.x,i.y,i.z];var s=this.getEyeRay(r,-1,1,t);this.context.raw.bind_constants[this.ray01Location].vec3=[s.x,s.y,s.z];var n=this.getEyeRay(r,1,-1,t);this.context.raw.bind_constants[this.ray10Location].vec3=[n.x,n.y,n.z];var _=this.getEyeRay(r,1,1,t);this.context.raw.bind_constants[this.ray11Location].vec3=[_.x,_.y,_.z];for(var o=0,h=this.objectLocations;o<h.length;){var l=h[o];++o;var c=this.transformMap.h[l];c.buildMatrix();var d=this.context.raw.bind_constants[l];d.vec3[0]=c.matrix.self._30,d.vec3[1]=c.matrix.self._31,d.vec3[2]=c.matrix.self._32}},getEyeRay:function(e,t,a,r){var i=new iron_math_Vec4,s=new kha_math_FastVector4(t,a,0,1),n=e.self,_=new kha_math_FastVector4;return _.x=n._00*s.x+n._10*s.y+n._20*s.z+n._30*s.w,_.y=n._01*s.x+n._11*s.y+n._21*s.z+n._31*s.w,_.z=n._02*s.x+n._12*s.y+n._22*s.z+n._32*s.w,_.w=n._03*s.x+n._13*s.y+n._23*s.z+n._33*s.w,s=_,i.x=_.x,i.y=_.y,i.z=_.z,i.w=_.w,i.x/=i.w,i.y/=i.w,i.z/=i.w,i.w/=i.w,i.sub(r),i},__class__:armory_trait_internal_PathTracer});var armory_trait_internal_ContactPair=function(e,t){this.a=e,this.b=t};$hxClasses["armory.trait.internal.ContactPair"]=armory_trait_internal_ContactPair,armory_trait_internal_ContactPair.__name__=["armory","trait","internal","ContactPair"],armory_trait_internal_ContactPair.prototype={__class__:armory_trait_internal_ContactPair};var armory_trait_internal_PhysicsWorld=function(){iron_Trait.call(this)};$hxClasses["armory.trait.internal.PhysicsWorld"]=armory_trait_internal_PhysicsWorld,armory_trait_internal_PhysicsWorld.__name__=["armory","trait","internal","PhysicsWorld"],armory_trait_internal_PhysicsWorld.__super__=iron_Trait,armory_trait_internal_PhysicsWorld.prototype=$extend(iron_Trait.prototype,{__class__:armory_trait_internal_PhysicsWorld});var armory_trait_internal_RigidBody=function(){iron_Trait.call(this)};$hxClasses["armory.trait.internal.RigidBody"]=armory_trait_internal_RigidBody,armory_trait_internal_RigidBody.__name__=["armory","trait","internal","RigidBody"],armory_trait_internal_RigidBody.__super__=iron_Trait,armory_trait_internal_RigidBody.prototype=$extend(iron_Trait.prototype,{__class__:armory_trait_internal_RigidBody});var haxe_IMap=function(){};$hxClasses["haxe.IMap"]=haxe_IMap,haxe_IMap.__name__=["haxe","IMap"],haxe_IMap.prototype={__class__:haxe_IMap};var haxe__$Int64__$_$_$Int64=function(e,t){this.high=e,this.low=t};$hxClasses["haxe._Int64.___Int64"]=haxe__$Int64__$_$_$Int64,haxe__$Int64__$_$_$Int64.__name__=["haxe","_Int64","___Int64"],haxe__$Int64__$_$_$Int64.prototype={__class__:haxe__$Int64__$_$_$Int64};var haxe_Log=function(){};$hxClasses["haxe.Log"]=haxe_Log,haxe_Log.__name__=["haxe","Log"],haxe_Log.trace=function(e,t){js_Boot.__trace(e,t)};var haxe_Serializer=function(){this.buf=new StringBuf,this.cache=[],this.useCache=haxe_Serializer.USE_CACHE,this.useEnumIndex=haxe_Serializer.USE_ENUM_INDEX,this.shash=new haxe_ds_StringMap,this.scount=0};$hxClasses["haxe.Serializer"]=haxe_Serializer,haxe_Serializer.__name__=["haxe","Serializer"],haxe_Serializer.run=function(e){var t=new haxe_Serializer;return t.serialize(e),t.toString()},haxe_Serializer.prototype={toString:function(){return this.buf.b},serializeString:function(e){var t=this.shash,a=null!=__map_reserved[e]?t.getReserved(e):t.h[e];if(null!=a)return this.buf.b+="R",void(this.buf.b+=null==a?"null":""+a);var r=this.shash,i=this.scount++;null!=__map_reserved[e]?r.setReserved(e,i):r.h[e]=i,this.buf.b+="y",e=encodeURIComponent(e),this.buf.b+=Std.string(e.length),this.buf.b+=":",this.buf.b+=null==e?"null":""+e},serializeRef:function(e){for(var t=typeof e,a=0,r=this.cache.length;a<r;){var i=a++,s=this.cache[i];if(typeof s==t&&s==e)return this.buf.b+="r",this.buf.b+=null==i?"null":""+i,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var t=0,a=Reflect.fields(e);t<a.length;){var r=a[t];++t,this.serializeString(r),this.serialize(Reflect.field(e,r))}this.buf.b+="g"},serialize:function(e){var t=Type.typeof(e);switch(t[1]){case 0:this.buf.b+="n";break;case 1:var a=e;if(0==a)return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==a?"null":""+a;break;case 2:var r=e;isNaN(r)?this.buf.b+="k":isFinite(r)?(this.buf.b+="d",this.buf.b+=null==r?"null":""+r):this.buf.b+=r<0?"m":"p";break;case 3:this.buf.b+=e?"t":"f";break;case 4:if(js_Boot.__instanceof(e,Class)){var i=Type.getClassName(e);this.buf.b+="A",this.serializeString(i)}else if(js_Boot.__instanceof(e,Enum))this.buf.b+="B",this.serializeString(Type.getEnumName(e));else{if(this.useCache&&this.serializeRef(e))return;this.buf.b+="o",this.serializeFields(e)}break;case 5:throw new js__$Boot_HaxeError("Cannot serialize function");case 6:var s=t[2];if(s==String)return void this.serializeString(e);if(this.useCache&&this.serializeRef(e))return;switch(s){case Array:var n=0;this.buf.b+="a";for(var _=e.length,o=0,h=_;o<h;){var l=o++;null==e[l]?++n:(n>0&&(1==n?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==n?"null":""+n),n=0),this.serialize(e[l]))}n>0&&(1==n?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==n?"null":""+n)),this.buf.b+="h";break;case Date:var c=e;this.buf.b+="v",this.buf.b+=Std.string(c.getTime());break;case List:this.buf.b+="l";for(var d=e,u=d.h;null!=u;){var g=u.item;u=u.next,this.serialize(g)}this.buf.b+="h";break;case haxe_ds_IntMap:this.buf.b+="q";for(var p=e,m=p.keys();m.hasNext();){var f=m.next();this.buf.b+=":",this.buf.b+=null==f?"null":""+f,this.serialize(p.h[f])}this.buf.b+="h";break;case haxe_ds_ObjectMap:this.buf.b+="M";for(var v=e,k=v.keys();k.hasNext();){
var y=k.next(),b=Reflect.field(y,"__id__");Reflect.deleteField(y,"__id__"),this.serialize(y),y.__id__=b,this.serialize(v.h[y.__id__])}this.buf.b+="h";break;case haxe_ds_StringMap:this.buf.b+="b";for(var I=e,S=I.keys();S.hasNext();){var x=S.next();this.serializeString(x),this.serialize(null!=__map_reserved[x]?I.getReserved(x):I.h[x])}this.buf.b+="h";break;case haxe_io_Bytes:var C=e;this.buf.b+="s",this.buf.b+=Std.string(Math.ceil(8*C.length/6)),this.buf.b+=":";var w=0,B=C.length-2,A=haxe_Serializer.BASE64_CODES;if(null==A){var T=haxe_Serializer.BASE64.length;A=new Array(T);for(var M=0,V=haxe_Serializer.BASE64.length;M<V;){var D=M++;A[D]=HxOverrides.cca(haxe_Serializer.BASE64,D)}haxe_Serializer.BASE64_CODES=A}for(;w<B;){var F=C.b[w++],R=C.b[w++],E=C.b[w++];this.buf.b+=String.fromCharCode(A[F>>2]),this.buf.b+=String.fromCharCode(A[63&(F<<4|R>>4)]),this.buf.b+=String.fromCharCode(A[63&(R<<2|E>>6)]),this.buf.b+=String.fromCharCode(A[63&E])}if(w==B){var G=C.b[w++],N=C.b[w++];this.buf.b+=String.fromCharCode(A[G>>2]),this.buf.b+=String.fromCharCode(A[63&(G<<4|N>>4)]),this.buf.b+=String.fromCharCode(A[N<<2&63])}else if(w==B+1){var j=C.b[w++];this.buf.b+=String.fromCharCode(A[j>>2]),this.buf.b+=String.fromCharCode(A[j<<4&63])}break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(Type.getClassName(s)),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(Type.getClassName(s)),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 7:if(this.useCache){if(this.serializeRef(e))return;this.cache.pop()}this.buf.b+=Std.string(this.useEnumIndex?"j":"w"),this.serializeString(Type.getEnumName(t[2])),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=Std.string(e[1])):this.serializeString(e[0]),this.buf.b+=":";var z=e.length;this.buf.b+=Std.string(z-2);for(var P=2,H=z;P<H;)this.serialize(e[P++]);this.useCache&&this.cache.push(e);break;default:throw new js__$Boot_HaxeError("Cannot serialize "+Std.string(e))}},__class__:haxe_Serializer};var haxe__$Unserializer_DefaultResolver=function(){};$hxClasses["haxe._Unserializer.DefaultResolver"]=haxe__$Unserializer_DefaultResolver,haxe__$Unserializer_DefaultResolver.__name__=["haxe","_Unserializer","DefaultResolver"],haxe__$Unserializer_DefaultResolver.prototype={resolveClass:function(e){return Type.resolveClass(e)},resolveEnum:function(e){return Type.resolveEnum(e)},__class__:haxe__$Unserializer_DefaultResolver};var haxe_Unserializer=function(e){this.buf=e,this.length=e.length,this.pos=0,this.scache=[],this.cache=[];var t=haxe_Unserializer.DEFAULT_RESOLVER;null==t&&(t=new haxe__$Unserializer_DefaultResolver,haxe_Unserializer.DEFAULT_RESOLVER=t),this.resolver=t};$hxClasses["haxe.Unserializer"]=haxe_Unserializer,haxe_Unserializer.__name__=["haxe","Unserializer"],haxe_Unserializer.initCodes=function(){for(var e=[],t=0,a=haxe_Unserializer.BASE64.length;t<a;){var r=t++;e[haxe_Unserializer.BASE64.charCodeAt(r)]=r}return e},haxe_Unserializer.run=function(e){return new haxe_Unserializer(e).unserialize()},haxe_Unserializer.prototype={readDigits:function(){for(var e=0,t=!1,a=this.pos;;){var r=this.buf.charCodeAt(this.pos);if(r!=r)break;if(45!=r){if(r<48||r>57)break;e=10*e+(r-48),this.pos++}else{if(this.pos!=a)break;t=!0,this.pos++}}return t&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var t=this.buf.charCodeAt(this.pos);if(t!=t)break;if(!(t>=43&&t<58||101==t||69==t))break;this.pos++}var a=HxOverrides.substr(this.buf,e,this.pos-e);return parseFloat(a)},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw new js__$Boot_HaxeError("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var t=this.unserialize();if("string"!=typeof t)throw new js__$Boot_HaxeError("Invalid object key");e[t]=this.unserialize()}this.pos++},unserializeEnum:function(e,t){if(58!=this.buf.charCodeAt(this.pos++))throw new js__$Boot_HaxeError("Invalid enum format");var a=this.readDigits();if(0==a)return Type.createEnum(e,t);for(var r=[];a-- >0;)r.push(this.unserialize());return Type.createEnum(e,t,r)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var e=this.unserialize(),t=this.resolver.resolveClass(e);if(null==t)throw new js__$Boot_HaxeError("Class not found "+e);return t;case 66:var a=this.unserialize(),r=this.resolver.resolveEnum(a);if(null==r)throw new js__$Boot_HaxeError("Enum not found "+a);return r;case 67:var i=this.unserialize(),s=this.resolver.resolveClass(i);if(null==s)throw new js__$Boot_HaxeError("Class not found "+i);var n=Type.createEmptyInstance(s);if(this.cache.push(n),n.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw new js__$Boot_HaxeError("Invalid custom data");return n;case 77:var _=new haxe_ds_ObjectMap;this.cache.push(_);for(this.buf;104!=this.buf.charCodeAt(this.pos);)_.set(this.unserialize(),this.unserialize());return this.pos++,_;case 82:var o=this.readDigits();if(o<0||o>=this.scache.length)throw new js__$Boot_HaxeError("Invalid string reference");return this.scache[o];case 97:var h=(this.buf,[]);for(this.cache.push(h);;){var l=this.buf.charCodeAt(this.pos);if(104==l){this.pos++;break}if(117==l){this.pos++;var c=this.readDigits();h[h.length+c-1]=null}else h.push(this.unserialize())}return h;case 98:var d=new haxe_ds_StringMap;this.cache.push(d);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var u=this.unserialize(),g=this.unserialize();null!=__map_reserved[u]?d.setReserved(u,g):d.h[u]=g}return this.pos++,d;case 99:var p=this.unserialize(),m=this.resolver.resolveClass(p);if(null==m)throw new js__$Boot_HaxeError("Class not found "+p);var f=Type.createEmptyInstance(m);return this.cache.push(f),this.unserializeObject(f),f;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:var v=this.unserialize(),k=this.resolver.resolveEnum(v);if(null==k)throw new js__$Boot_HaxeError("Enum not found "+v);this.pos++;var y=this.readDigits(),b=k.__constructs__.slice()[y];if(null==b)throw new js__$Boot_HaxeError("Unknown enum index "+v+"@"+y);var I=this.unserializeEnum(k,b);return this.cache.push(I),I;case 107:return NaN;case 108:var S=new List;this.cache.push(S);for(this.buf;104!=this.buf.charCodeAt(this.pos);)S.add(this.unserialize());return this.pos++,S;case 109:return-(1/0);case 110:return null;case 111:var x={};return this.cache.push(x),this.unserializeObject(x),x;case 112:return 1/0;case 113:var C=new haxe_ds_IntMap;this.cache.push(C);for(var w=(this.buf,this.buf.charCodeAt(this.pos++));58==w;){var B=this.readDigits(),A=this.unserialize();C.h[B]=A,w=this.buf.charCodeAt(this.pos++)}if(104!=w)throw new js__$Boot_HaxeError("Invalid IntMap format");return C;case 114:var T=this.readDigits();if(T<0||T>=this.cache.length)throw new js__$Boot_HaxeError("Invalid reference");return this.cache[T];case 115:var M=this.readDigits(),V=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<M)throw new js__$Boot_HaxeError("Invalid bytes length");var D=haxe_Unserializer.CODES;null==D&&(D=haxe_Unserializer.initCodes(),haxe_Unserializer.CODES=D);for(var F=this.pos,R=3&M,E=3*(M>>2)+(R>=2?R-1:0),G=F+(M-R),N=new haxe_io_Bytes(new ArrayBuffer(E)),j=0;F<G;){var z=D[V.charCodeAt(F++)],P=D[V.charCodeAt(F++)];N.b[j++]=255&(z<<2|P>>4);var H=D[V.charCodeAt(F++)];N.b[j++]=255&(P<<4|H>>2);var Z=D[V.charCodeAt(F++)];N.b[j++]=255&(H<<6|Z)}if(R>=2){var K=D[V.charCodeAt(F++)],W=D[V.charCodeAt(F++)];if(N.b[j++]=255&(K<<2|W>>4),3==R){var L=D[V.charCodeAt(F++)];N.b[j++]=255&(W<<4|L>>2)}}return this.pos+=M,this.cache.push(N),N;case 116:return!0;case 118:var $;if(this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4))$=HxOverrides.strDate(HxOverrides.substr(this.buf,this.pos,19)),this.pos+=19;else{var U=this.readFloat();$=new Date(U)}return this.cache.push($),$;case 119:var O=this.unserialize(),Y=this.resolver.resolveEnum(O);if(null==Y)throw new js__$Boot_HaxeError("Enum not found "+O);var X=this.unserializeEnum(Y,this.unserialize());return this.cache.push(X),X;case 120:throw js__$Boot_HaxeError.wrap(this.unserialize());case 121:var Q=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<Q)throw new js__$Boot_HaxeError("Invalid string length");var J=HxOverrides.substr(this.buf,this.pos,Q);return this.pos+=Q,J=decodeURIComponent(J.split("+").join(" ")),this.scache.push(J),J;case 122:return 0}throw this.pos--,new js__$Boot_HaxeError("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:haxe_Unserializer};var haxe_crypto_Adler32=function(){this.a1=1,this.a2=0};$hxClasses["haxe.crypto.Adler32"]=haxe_crypto_Adler32,haxe_crypto_Adler32.__name__=["haxe","crypto","Adler32"],haxe_crypto_Adler32.read=function(e){var t=new haxe_crypto_Adler32,a=e.readByte(),r=e.readByte();return t.a1=e.readByte()<<8|e.readByte(),t.a2=a<<8|r,t},haxe_crypto_Adler32.prototype={update:function(e,t,a){for(var r=this.a1,i=this.a2,s=t,n=t+a;s<n;)r=(r+e.b[s++])%65521,i=(i+r)%65521;this.a1=r,this.a2=i},equals:function(e){return e.a1==this.a1&&e.a2==this.a2},__class__:haxe_crypto_Adler32};var haxe_ds_IntMap=function(){this.h={}};$hxClasses["haxe.ds.IntMap"]=haxe_ds_IntMap,haxe_ds_IntMap.__name__=["haxe","ds","IntMap"],haxe_ds_IntMap.__interfaces__=[haxe_IMap],haxe_ds_IntMap.prototype={set:function(e,t){this.h[e]=t},get:function(e){return this.h[e]},exists:function(e){return this.h.hasOwnProperty(e)},keys:function(){var e=[];for(var t in this.h)this.h.hasOwnProperty(t)&&e.push(0|t);return HxOverrides.iter(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e]}}},__class__:haxe_ds_IntMap};var haxe_ds_ObjectMap=function(){this.h={__keys__:{}}};$hxClasses["haxe.ds.ObjectMap"]=haxe_ds_ObjectMap,haxe_ds_ObjectMap.__name__=["haxe","ds","ObjectMap"],haxe_ds_ObjectMap.__interfaces__=[haxe_IMap],haxe_ds_ObjectMap.prototype={set:function(e,t){var a=e.__id__||(e.__id__=++haxe_ds_ObjectMap.count);this.h[a]=t,this.h.__keys__[a]=e},get:function(e){return this.h[e.__id__]},exists:function(e){return null!=this.h.__keys__[e.__id__]},keys:function(){var e=[];for(var t in this.h.__keys__)this.h.hasOwnProperty(t)&&e.push(this.h.__keys__[t]);return HxOverrides.iter(e)},__class__:haxe_ds_ObjectMap};var haxe_ds__$StringMap_StringMapIterator=function(e,t){this.map=e,this.keys=t,this.index=0,this.count=t.length};$hxClasses["haxe.ds._StringMap.StringMapIterator"]=haxe_ds__$StringMap_StringMapIterator,haxe_ds__$StringMap_StringMapIterator.__name__=["haxe","ds","_StringMap","StringMapIterator"],haxe_ds__$StringMap_StringMapIterator.prototype={hasNext:function(){return this.index<this.count},next:function(){var e=this.map,t=this.keys[this.index++];return null!=__map_reserved[t]?e.getReserved(t):e.h[t]},__class__:haxe_ds__$StringMap_StringMapIterator};var haxe_ds_StringMap=function(){this.h={}};$hxClasses["haxe.ds.StringMap"]=haxe_ds_StringMap,haxe_ds_StringMap.__name__=["haxe","ds","StringMap"],haxe_ds_StringMap.__interfaces__=[haxe_IMap],haxe_ds_StringMap.prototype={set:function(e,t){null!=__map_reserved[e]?this.setReserved(e,t):this.h[e]=t},get:function(e){return null!=__map_reserved[e]?this.getReserved(e):this.h[e]},exists:function(e){return null!=__map_reserved[e]?this.existsReserved(e):this.h.hasOwnProperty(e)},setReserved:function(e,t){null==this.rh&&(this.rh={}),this.rh["$"+e]=t},getReserved:function(e){return null==this.rh?null:this.rh["$"+e]},existsReserved:function(e){return null!=this.rh&&this.rh.hasOwnProperty("$"+e)},remove:function(e){return null!=__map_reserved[e]?(e="$"+e,!(null==this.rh||!this.rh.hasOwnProperty(e))&&(delete this.rh[e],!0)):!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){return HxOverrides.iter(this.arrayKeys())},arrayKeys:function(){var e=[];for(var t in this.h)this.h.hasOwnProperty(t)&&e.push(t);if(null!=this.rh)for(var t in this.rh)36==t.charCodeAt(0)&&e.push(t.substr(1));return e},__class__:haxe_ds_StringMap};var haxe_io_Bytes=function(e){this.length=e.byteLength,this.b=new Uint8Array(e),this.b.bufferValue=e,e.hxBytes=this,e.bytes=this.b};$hxClasses["haxe.io.Bytes"]=haxe_io_Bytes,haxe_io_Bytes.__name__=["haxe","io","Bytes"],haxe_io_Bytes.ofString=function(e){for(var t=[],a=0;a<e.length;){var r=e.charCodeAt(a++);55296<=r&&r<=56319&&(r=r-55232<<10|1023&e.charCodeAt(a++)),r<=127?t.push(r):r<=2047?(t.push(192|r>>6),t.push(128|63&r)):r<=65535?(t.push(224|r>>12),t.push(128|r>>6&63),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|r>>12&63),t.push(128|r>>6&63),t.push(128|63&r))}return new haxe_io_Bytes(new Uint8Array(t).buffer)},haxe_io_Bytes.ofData=function(e){var t=e.hxBytes;return null!=t?t:new haxe_io_Bytes(e)},haxe_io_Bytes.prototype={blit:function(e,t,a,r){if(e<0||a<0||r<0||e+r>this.length||a+r>t.length)throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);0==a&&r==t.length?this.b.set(t.b,e):this.b.set(t.b.subarray(a,a+r),e)},sub:function(e,t){if(e<0||t<0||e+t>this.length)throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);return new haxe_io_Bytes(this.b.buffer.slice(e+this.b.byteOffset,e+this.b.byteOffset+t))},getDouble:function(e){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat64(e,!0)},getFloat:function(e){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat32(e,!0)},setDouble:function(e,t){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat64(e,t,!0)},setFloat:function(e,t){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat32(e,t,!0)},getUInt16:function(e){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getUint16(e,!0)},getInt32:function(e){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getInt32(e,!0)},setInt32:function(e,t){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setInt32(e,t,!0)},getString:function(e,t){if(e<0||t<0||e+t>this.length)throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);for(var a="",r=this.b,i=String.fromCharCode,s=e,n=e+t;s<n;){var _=r[s++];if(_<128){if(0==_)break;a+=i(_)}else if(_<224)a+=i((63&_)<<6|127&r[s++]);else if(_<240)a+=i((31&_)<<12|(127&r[s++])<<6|127&r[s++]);else{var o=(15&_)<<18|(127&r[s++])<<12|(127&r[s++])<<6|127&r[s++];a+=i((o>>10)+55232),a+=i(1023&o|56320)}}return a},toString:function(){return this.getString(0,this.length)},__class__:haxe_io_Bytes};var haxe_io_BytesBuffer=function(){this.b=[]};$hxClasses["haxe.io.BytesBuffer"]=haxe_io_BytesBuffer,haxe_io_BytesBuffer.__name__=["haxe","io","BytesBuffer"],haxe_io_BytesBuffer.prototype={getBytes:function(){var e=new haxe_io_Bytes(new Uint8Array(this.b).buffer);return this.b=null,e},__class__:haxe_io_BytesBuffer};var haxe_io_Input=function(){};$hxClasses["haxe.io.Input"]=haxe_io_Input,haxe_io_Input.__name__=["haxe","io","Input"],haxe_io_Input.prototype={readByte:function(){throw new js__$Boot_HaxeError("Not implemented")},readBytes:function(e,t,a){var r=a,i=e.b;if(t<0||a<0||t+a>e.length)throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);try{for(;r>0;)i[t]=this.readByte(),++t,--r}catch(e){if(e instanceof js__$Boot_HaxeError&&(e=e.val),!js_Boot.__instanceof(e,haxe_io_Eof))throw e}return a-r},set_bigEndian:function(e){return this.bigEndian=e,e},readFullBytes:function(e,t,a){for(;a>0;){var r=this.readBytes(e,t,a);if(0==r)throw new js__$Boot_HaxeError(haxe_io_Error.Blocked);t+=r,a-=r}},read:function(e){for(var t=new haxe_io_Bytes(new ArrayBuffer(e)),a=0;e>0;){var r=this.readBytes(t,a,e);if(0==r)throw new js__$Boot_HaxeError(haxe_io_Error.Blocked);a+=r,e-=r}return t},readDouble:function(){var e=this.readInt32(),t=this.readInt32();return this.bigEndian?haxe_io_FPHelper.i64ToDouble(t,e):haxe_io_FPHelper.i64ToDouble(e,t)},readInt8:function(){var e=this.readByte();return e>=128?e-256:e},readInt16:function(){var e=this.readByte(),t=this.readByte(),a=this.bigEndian?t|e<<8:e|t<<8;return 0!=(32768&a)?a-65536:a},readUInt16:function(){var e=this.readByte(),t=this.readByte();return this.bigEndian?t|e<<8:e|t<<8},readInt32:function(){var e=this.readByte(),t=this.readByte(),a=this.readByte(),r=this.readByte();return this.bigEndian?r|a<<8|t<<16|e<<24:e|t<<8|a<<16|r<<24},readString:function(e){var t=new haxe_io_Bytes(new ArrayBuffer(e));return this.readFullBytes(t,0,e),t.toString()},__class__:haxe_io_Input,__properties__:{set_bigEndian:"set_bigEndian"}};var haxe_io_BytesInput=function(e,t,a){if(null==t&&(t=0),null==a&&(a=e.length-t),t<0||a<0||t+a>e.length)throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);this.b=e.b,this.pos=t,this.len=a,this.totlen=a};$hxClasses["haxe.io.BytesInput"]=haxe_io_BytesInput,haxe_io_BytesInput.__name__=["haxe","io","BytesInput"],haxe_io_BytesInput.__super__=haxe_io_Input,haxe_io_BytesInput.prototype=$extend(haxe_io_Input.prototype,{set_position:function(e){return e<0?e=0:e>this.totlen&&(e=this.totlen),this.len=this.totlen-e,this.pos=e},readByte:function(){if(0==this.len)throw new js__$Boot_HaxeError(new haxe_io_Eof);return this.len--,this.b[this.pos++]},readBytes:function(e,t,a){if(t<0||a<0||t+a>e.length)throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);if(0==this.len&&a>0)throw new js__$Boot_HaxeError(new haxe_io_Eof);this.len<a&&(a=this.len);for(var r=this.b,i=e.b,s=0,n=a;s<n;){var _=s++;i[t+_]=r[this.pos+_]}return this.pos+=a,this.len-=a,a},__class__:haxe_io_BytesInput,__properties__:$extend(haxe_io_Input.prototype.__properties__,{set_position:"set_position"})});var haxe_io_Output=function(){};$hxClasses["haxe.io.Output"]=haxe_io_Output,haxe_io_Output.__name__=["haxe","io","Output"],haxe_io_Output.prototype={writeByte:function(e){throw new js__$Boot_HaxeError("Not implemented")},writeBytes:function(e,t,a){if(t<0||a<0||t+a>e.length)throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);for(var r=e.b,i=a;i>0;)this.writeByte(r[t]),++t,--i;return a},set_bigEndian:function(e){return this.bigEndian=e,e},write:function(e){for(var t=e.length,a=0;t>0;){var r=this.writeBytes(e,a,t);if(0==r)throw new js__$Boot_HaxeError(haxe_io_Error.Blocked);a+=r,t-=r}},writeFullBytes:function(e,t,a){for(;a>0;){var r=this.writeBytes(e,t,a);t+=r,a-=r}},writeDouble:function(e){var t=haxe_io_FPHelper.doubleToI64(e);this.bigEndian?(this.writeInt32(t.high),this.writeInt32(t.low)):(this.writeInt32(t.low),this.writeInt32(t.high))},writeInt8:function(e){if(e<-128||e>=128)throw new js__$Boot_HaxeError(haxe_io_Error.Overflow);this.writeByte(255&e)},writeInt16:function(e){if(e<-32768||e>=32768)throw new js__$Boot_HaxeError(haxe_io_Error.Overflow);this.writeUInt16(65535&e)},writeUInt16:function(e){if(e<0||e>=65536)throw new js__$Boot_HaxeError(haxe_io_Error.Overflow);this.bigEndian?(this.writeByte(e>>8),this.writeByte(255&e)):(this.writeByte(255&e),this.writeByte(e>>8))},writeInt32:function(e){this.bigEndian?(this.writeByte(e>>>24),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)):(this.writeByte(255&e),this.writeByte(e>>8&255),this.writeByte(e>>16&255),this.writeByte(e>>>24))},writeString:function(e){var t=haxe_io_Bytes.ofString(e);this.writeFullBytes(t,0,t.length)},__class__:haxe_io_Output,__properties__:{set_bigEndian:"set_bigEndian"}};var haxe_io_BytesOutput=function(){this.b=new haxe_io_BytesBuffer};$hxClasses["haxe.io.BytesOutput"]=haxe_io_BytesOutput,haxe_io_BytesOutput.__name__=["haxe","io","BytesOutput"],haxe_io_BytesOutput.__super__=haxe_io_Output,haxe_io_BytesOutput.prototype=$extend(haxe_io_Output.prototype,{writeByte:function(e){this.b.b.push(e)},writeBytes:function(e,t,a){var r=this.b;if(t<0||a<0||t+a>e.length)throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);for(var i=e.b,s=t,n=t+a;s<n;)r.b.push(i[s++]);return a},getBytes:function(){return this.b.getBytes()},__class__:haxe_io_BytesOutput});var haxe_io_Eof=function(){};$hxClasses["haxe.io.Eof"]=haxe_io_Eof,haxe_io_Eof.__name__=["haxe","io","Eof"],haxe_io_Eof.prototype={toString:function(){return"Eof"},__class__:haxe_io_Eof};var haxe_io_Error=$hxClasses["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};haxe_io_Error.Blocked=["Blocked",0],haxe_io_Error.Blocked.toString=$estr,haxe_io_Error.Blocked.__enum__=haxe_io_Error,haxe_io_Error.Overflow=["Overflow",1],haxe_io_Error.Overflow.toString=$estr,haxe_io_Error.Overflow.__enum__=haxe_io_Error,haxe_io_Error.OutsideBounds=["OutsideBounds",2],haxe_io_Error.OutsideBounds.toString=$estr,haxe_io_Error.OutsideBounds.__enum__=haxe_io_Error,haxe_io_Error.Custom=function(e){var t=["Custom",3,e];return t.__enum__=haxe_io_Error,t.toString=$estr,t};var haxe_io_FPHelper=function(){};$hxClasses["haxe.io.FPHelper"]=haxe_io_FPHelper,haxe_io_FPHelper.__name__=["haxe","io","FPHelper"],haxe_io_FPHelper.i32ToFloat=function(e){var t=1-(e>>>31<<1),a=e>>>23&255,r=8388607&e;return 0==r&&0==a?0:t*(1+Math.pow(2,-23)*r)*Math.pow(2,a-127)},haxe_io_FPHelper.floatToI32=function(e){if(0==e)return 0;var t=e<0?-e:e,a=Math.floor(Math.log(t)/.6931471805599453);return a<-127?a=-127:a>128&&(a=128),(e<0?-2147483648:0)|a+127<<23|8388607&Math.round(8388608*(t/Math.pow(2,a)-1))},haxe_io_FPHelper.i64ToDouble=function(e,t){var a=1-(t>>>31<<1),r=(t>>20&2047)-1023,i=4294967296*(1048575&t)+2147483648*(e>>>31)+(2147483647&e);return 0==i&&r==-1023?0:a*(1+Math.pow(2,-52)*i)*Math.pow(2,r)},haxe_io_FPHelper.doubleToI64=function(e){var t=haxe_io_FPHelper.i64tmp;if(0==e)t.low=0,t.high=0;else{var a=e<0?-e:e,r=Math.floor(Math.log(a)/.6931471805599453),i=Math.round(4503599627370496*(a/Math.pow(2,r)-1));t.low=0|i,t.high=(e<0?-2147483648:0)|r+1023<<20|(i/4294967296|0)}return t};var haxe_io__$UInt8Array_UInt8Array_$Impl_$={};$hxClasses["haxe.io._UInt8Array.UInt8Array_Impl_"]=haxe_io__$UInt8Array_UInt8Array_$Impl_$,haxe_io__$UInt8Array_UInt8Array_$Impl_$.__name__=["haxe","io","_UInt8Array","UInt8Array_Impl_"],haxe_io__$UInt8Array_UInt8Array_$Impl_$.fromBytes=function(e,t,a){return null==t&&(t=0),null==a&&(a=e.length-t),new Uint8Array(e.b.bufferValue,t,a)};var haxe_zip_ExtraField=$hxClasses["haxe.zip.ExtraField"]={__ename__:["haxe","zip","ExtraField"],__constructs__:["FUnknown","FInfoZipUnicodePath","FUtf8"]};haxe_zip_ExtraField.FUnknown=function(e,t){var a=["FUnknown",0,e,t];return a.__enum__=haxe_zip_ExtraField,a.toString=$estr,a},haxe_zip_ExtraField.FInfoZipUnicodePath=function(e,t){var a=["FInfoZipUnicodePath",1,e,t];return a.__enum__=haxe_zip_ExtraField,a.toString=$estr,a},haxe_zip_ExtraField.FUtf8=["FUtf8",2],haxe_zip_ExtraField.FUtf8.toString=$estr,haxe_zip_ExtraField.FUtf8.__enum__=haxe_zip_ExtraField;var haxe_zip_Huffman=$hxClasses["haxe.zip.Huffman"]={__ename__:["haxe","zip","Huffman"],__constructs__:["Found","NeedBit","NeedBits"]};haxe_zip_Huffman.Found=function(e){var t=["Found",0,e];return t.__enum__=haxe_zip_Huffman,t.toString=$estr,t},haxe_zip_Huffman.NeedBit=function(e,t){var a=["NeedBit",1,e,t];return a.__enum__=haxe_zip_Huffman,a.toString=$estr,a},haxe_zip_Huffman.NeedBits=function(e,t){var a=["NeedBits",2,e,t];return a.__enum__=haxe_zip_Huffman,a.toString=$estr,a};var haxe_zip_HuffTools=function(){};$hxClasses["haxe.zip.HuffTools"]=haxe_zip_HuffTools,haxe_zip_HuffTools.__name__=["haxe","zip","HuffTools"],haxe_zip_HuffTools.prototype={treeDepth:function(e){switch(e[1]){case 0:return 0;case 1:var t=e[3],a=this.treeDepth(e[2]),r=this.treeDepth(t);return 1+(a<r?a:r);case 2:throw new js__$Boot_HaxeError("assert")}},treeCompress:function(e){var t=this.treeDepth(e);if(0==t)return e;if(1==t){if(1==e[1])return haxe_zip_Huffman.NeedBit(this.treeCompress(e[2]),this.treeCompress(e[3]));throw new js__$Boot_HaxeError("assert")}for(var a=1<<t,r=[],i=0;i<a;)++i,r.push(haxe_zip_Huffman.Found(-1));return this.treeWalk(r,0,0,t,e),haxe_zip_Huffman.NeedBits(t,r)},treeWalk:function(e,t,a,r,i){if(1==i[1]){var s=i[3],n=i[2];r>0?(this.treeWalk(e,t,a+1,r-1,n),this.treeWalk(e,t|1<<a,a+1,r-1,s)):e[t]=this.treeCompress(i)}else e[t]=this.treeCompress(i)},treeMake:function(e,t,a,r){if(r>t)throw new js__$Boot_HaxeError("Invalid huffman");var i=a<<5|r;return e.h.hasOwnProperty(i)?haxe_zip_Huffman.Found(e.h[i]):(a<<=1,++r,haxe_zip_Huffman.NeedBit(this.treeMake(e,t,a,r),this.treeMake(e,t,1|a,r)))},make:function(e,t,a,r){var i=[],s=[];if(r>32)throw new js__$Boot_HaxeError("Invalid huffman");for(var n=0;n<r;)++n,i.push(0),s.push(0);for(var _=0;_<a;){var o=e[_++ +t];if(o>=r)throw new js__$Boot_HaxeError("Invalid huffman");i[o]++}for(var h=0,l=1,c=r-1;l<c;){var d=l++;h=h+i[d]<<1,s[d]=h}for(var u=new haxe_ds_IntMap,g=0;g<a;){var p=g++,m=e[p+t];if(0!=m){var f=s[m-1];s[m-1]=f+1,u.h[f<<5|m]=p}}return this.treeCompress(haxe_zip_Huffman.NeedBit(this.treeMake(u,r,0,1),this.treeMake(u,r,1,1)))},__class__:haxe_zip_HuffTools};var haxe_zip__$InflateImpl_Window=function(e){this.buffer=new haxe_io_Bytes(new ArrayBuffer(65536)),this.pos=0,e&&(this.crc=new haxe_crypto_Adler32)};$hxClasses["haxe.zip._InflateImpl.Window"]=haxe_zip__$InflateImpl_Window,haxe_zip__$InflateImpl_Window.__name__=["haxe","zip","_InflateImpl","Window"],haxe_zip__$InflateImpl_Window.prototype={slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var e=new haxe_io_Bytes(new ArrayBuffer(65536));this.pos-=32768,e.blit(0,this.buffer,32768,this.pos),this.buffer=e},addBytes:function(e,t,a){this.pos+a>65536&&this.slide(),this.buffer.blit(this.pos,e,t,a),this.pos+=a},addByte:function(e){65536==this.pos&&this.slide(),this.buffer.b[this.pos]=255&e,this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){return null!=this.crc&&this.crc.update(this.buffer,0,this.pos),this.crc},__class__:haxe_zip__$InflateImpl_Window};var haxe_zip__$InflateImpl_State=$hxClasses["haxe.zip._InflateImpl.State"]={__ename__:["haxe","zip","_InflateImpl","State"],__constructs__:["Head","Block","CData","Flat","Crc","Dist","DistOne","Done"]};haxe_zip__$InflateImpl_State.Head=["Head",0],haxe_zip__$InflateImpl_State.Head.toString=$estr,haxe_zip__$InflateImpl_State.Head.__enum__=haxe_zip__$InflateImpl_State,haxe_zip__$InflateImpl_State.Block=["Block",1],haxe_zip__$InflateImpl_State.Block.toString=$estr,haxe_zip__$InflateImpl_State.Block.__enum__=haxe_zip__$InflateImpl_State,haxe_zip__$InflateImpl_State.CData=["CData",2],haxe_zip__$InflateImpl_State.CData.toString=$estr,haxe_zip__$InflateImpl_State.CData.__enum__=haxe_zip__$InflateImpl_State,haxe_zip__$InflateImpl_State.Flat=["Flat",3],haxe_zip__$InflateImpl_State.Flat.toString=$estr,haxe_zip__$InflateImpl_State.Flat.__enum__=haxe_zip__$InflateImpl_State,haxe_zip__$InflateImpl_State.Crc=["Crc",4],haxe_zip__$InflateImpl_State.Crc.toString=$estr,haxe_zip__$InflateImpl_State.Crc.__enum__=haxe_zip__$InflateImpl_State,haxe_zip__$InflateImpl_State.Dist=["Dist",5],haxe_zip__$InflateImpl_State.Dist.toString=$estr,haxe_zip__$InflateImpl_State.Dist.__enum__=haxe_zip__$InflateImpl_State,haxe_zip__$InflateImpl_State.DistOne=["DistOne",6],haxe_zip__$InflateImpl_State.DistOne.toString=$estr,haxe_zip__$InflateImpl_State.DistOne.__enum__=haxe_zip__$InflateImpl_State,haxe_zip__$InflateImpl_State.Done=["Done",7],haxe_zip__$InflateImpl_State.Done.toString=$estr,haxe_zip__$InflateImpl_State.Done.__enum__=haxe_zip__$InflateImpl_State;var haxe_zip_InflateImpl=function(e,t,a){null==a&&(a=!0),null==t&&(t=!0),this.final=!1,this.htools=new haxe_zip_HuffTools,this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.len=0,this.dist=0,this.state=t?haxe_zip__$InflateImpl_State.Head:haxe_zip__$InflateImpl_State.Block,this.input=e,this.bits=0,this.nbits=0,this.needed=0,this.output=null,this.outpos=0,this.lengths=[];for(var r=0;r<19;)++r,this.lengths.push(-1);this.window=new haxe_zip__$InflateImpl_Window(a)};$hxClasses["haxe.zip.InflateImpl"]=haxe_zip_InflateImpl,haxe_zip_InflateImpl.__name__=["haxe","zip","InflateImpl"],haxe_zip_InflateImpl.prototype={buildFixedHuffman:function(){if(null!=haxe_zip_InflateImpl.FIXED_HUFFMAN)return haxe_zip_InflateImpl.FIXED_HUFFMAN;for(var e=[],t=0;t<288;){var a=t++;e.push(a<=143?8:a<=255?9:a<=279?7:8)}return haxe_zip_InflateImpl.FIXED_HUFFMAN=this.htools.make(e,0,288,10),haxe_zip_InflateImpl.FIXED_HUFFMAN},readBytes:function(e,t,a){if(this.needed=a,this.outpos=t,this.output=e,a>0)for(;this.inflateLoop(););return a-this.needed},getBits:function(e){for(;this.nbits<e;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var t=this.bits&(1<<e)-1;return this.nbits-=e,this.bits>>=e,t},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var e=1==(1&this.bits);return this.nbits--,this.bits>>=1,e},getRevBits:function(e){return 0==e?0:this.getBit()?1<<e-1|this.getRevBits(e-1):this.getRevBits(e-1)},resetBits:function(){this.bits=0,this.nbits=0},addBytes:function(e,t,a){this.window.addBytes(e,t,a),this.output.blit(this.outpos,e,t,a),this.needed-=a,this.outpos+=a},addByte:function(e){this.window.addByte(e),this.output.b[this.outpos]=255&e,this.needed--,this.outpos++},addDistOne:function(e){for(var t=this.window.getLastChar(),a=0;a<e;)++a,this.addByte(t)},addDist:function(e,t){this.addBytes(this.window.buffer,this.window.pos-e,t)},applyHuffman:function(e){switch(e[1]){case 0:return e[2];case 1:var t=e[3],a=e[2];return this.applyHuffman(this.getBit()?t:a);case 2:return this.applyHuffman(e[3][this.getBits(e[2])])}},inflateLengths:function(e,t){for(var a=0,r=0;a<t;){var i=this.applyHuffman(this.huffman);switch(i){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:r=i,e[a]=i,++a;break;case 16:var s=a+3+this.getBits(2);if(s>t)throw new js__$Boot_HaxeError("Invalid data");for(;a<s;)e[a]=r,++a;break;case 17:if(a+=3+this.getBits(3),a>t)throw new js__$Boot_HaxeError("Invalid data");break;case 18:if(a+=11+this.getBits(7),a>t)throw new js__$Boot_HaxeError("Invalid data");break;default:throw new js__$Boot_HaxeError("Invalid data")}}},inflateLoop:function(){switch(this.state[1]){case 0:var e=this.input.readByte();if(8!=(15&e))throw new js__$Boot_HaxeError("Invalid data");var t=this.input.readByte(),a=0!=(32&t);if(((e<<8)+t)%31!=0)throw new js__$Boot_HaxeError("Invalid data");if(a)throw new js__$Boot_HaxeError("Unsupported dictionary");return this.state=haxe_zip__$InflateImpl_State.Block,!0;case 1:switch(this.final=this.getBit(),this.getBits(2)){case 0:if(this.len=this.input.readUInt16(),this.input.readUInt16()!=65535-this.len)throw new js__$Boot_HaxeError("Invalid data");this.state=haxe_zip__$InflateImpl_State.Flat;var r=this.inflateLoop();return this.resetBits(),r;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=haxe_zip__$InflateImpl_State.CData,!0;case 2:for(var i=this.getBits(5)+257,s=this.getBits(5)+1,n=this.getBits(4)+4,_=0;_<n;)this.lengths[haxe_zip_InflateImpl.CODE_LENGTHS_POS[_++]]=this.getBits(3);for(var o=n;o<19;)this.lengths[haxe_zip_InflateImpl.CODE_LENGTHS_POS[o++]]=0;this.huffman=this.htools.make(this.lengths,0,19,8);for(var h=[],l=0,c=i+s;l<c;)++l,h.push(0);return this.inflateLengths(h,i+s),this.huffdist=this.htools.make(h,i,s,16),this.huffman=this.htools.make(h,0,i,16),this.state=haxe_zip__$InflateImpl_State.CData,!0;default:throw new js__$Boot_HaxeError("Invalid data")}break;case 2:var d=this.applyHuffman(this.huffman);if(d<256)return this.addByte(d),this.needed>0;if(256==d)return this.state=this.final?haxe_zip__$InflateImpl_State.Crc:haxe_zip__$InflateImpl_State.Block,!0;d-=257;var u=haxe_zip_InflateImpl.LEN_EXTRA_BITS_TBL[d];if(u==-1)throw new js__$Boot_HaxeError("Invalid data");this.len=haxe_zip_InflateImpl.LEN_BASE_VAL_TBL[d]+this.getBits(u);var g=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);
if(u=haxe_zip_InflateImpl.DIST_EXTRA_BITS_TBL[g],u==-1)throw new js__$Boot_HaxeError("Invalid data");if(this.dist=haxe_zip_InflateImpl.DIST_BASE_VAL_TBL[g]+this.getBits(u),this.dist>this.window.available())throw new js__$Boot_HaxeError("Invalid data");return this.state=1==this.dist?haxe_zip__$InflateImpl_State.DistOne:haxe_zip__$InflateImpl_State.Dist,!0;case 3:var p=this.len<this.needed?this.len:this.needed,m=this.input.read(p);return this.len-=p,this.addBytes(m,0,p),0==this.len&&(this.state=this.final?haxe_zip__$InflateImpl_State.Crc:haxe_zip__$InflateImpl_State.Block),this.needed>0;case 4:var f=this.window.checksum();if(null==f)return this.state=haxe_zip__$InflateImpl_State.Done,!0;if(!f.equals(haxe_crypto_Adler32.read(this.input)))throw new js__$Boot_HaxeError("Invalid CRC");return this.state=haxe_zip__$InflateImpl_State.Done,!0;case 5:for(;this.len>0&&this.needed>0;){var v=this.len<this.dist?this.len:this.dist,k=this.needed<v?this.needed:v;this.addDist(this.dist,k),this.len-=k}return 0==this.len&&(this.state=haxe_zip__$InflateImpl_State.CData),this.needed>0;case 6:var y=this.len<this.needed?this.len:this.needed;return this.addDistOne(y),this.len-=y,0==this.len&&(this.state=haxe_zip__$InflateImpl_State.CData),this.needed>0;case 7:return!1}},__class__:haxe_zip_InflateImpl};var haxe_zip_Reader=function(e){this.i=e};$hxClasses["haxe.zip.Reader"]=haxe_zip_Reader,haxe_zip_Reader.__name__=["haxe","zip","Reader"],haxe_zip_Reader.readZip=function(e){return new haxe_zip_Reader(e).read()},haxe_zip_Reader.unzip=function(e){if(!e.compressed)return e.data;var t=new haxe_zip_Uncompress(-15),a=new haxe_io_Bytes(new ArrayBuffer(e.fileSize)),r=t.execute(e.data,0,a,0);if(t.close(),!r.done||r.read!=e.data.length||r.write!=e.fileSize)throw new js__$Boot_HaxeError("Invalid compressed data for "+e.fileName);return e.compressed=!1,e.dataSize=e.fileSize,e.data=a,e.data},haxe_zip_Reader.prototype={readZipDate:function(){var e=this.i.readUInt16(),t=e>>11&31,a=e>>5&63,r=31&e,i=this.i.readUInt16();return new Date((i>>9)+1980,(i>>5&15)-1,31&i,t,a,r<<1)},readExtraFields:function(e){for(var t=new List;e>0;){if(e<4)throw new js__$Boot_HaxeError("Invalid extra fields data");var a=this.i.readUInt16(),r=this.i.readUInt16();if(e<r)throw new js__$Boot_HaxeError("Invalid extra fields data");if(28789==a){var i=this.i.readByte();if(1!=i){var s=new haxe_io_BytesBuffer;s.b.push(i);for(var n=this.i.read(r-1),_=n.b,o=0,h=n.length;o<h;)s.b.push(_[o++]);t.add(haxe_zip_ExtraField.FUnknown(a,s.getBytes()))}else{var l=this.i.readInt32();t.add(haxe_zip_ExtraField.FInfoZipUnicodePath(this.i.read(r-5).toString(),l))}}else t.add(haxe_zip_ExtraField.FUnknown(a,this.i.read(r)));e-=4+r}return t},readEntryHeader:function(){var e=this.i,t=e.readInt32();if(33639248==t||101010256==t)return null;if(67324752!=t)throw new js__$Boot_HaxeError("Invalid Zip Data");e.readUInt16();var a=e.readUInt16(),r=0!=(2048&a);if(0!=(63473&a))throw new js__$Boot_HaxeError("Unsupported flags "+a);var i=e.readUInt16(),s=0!=i;if(s&&8!=i)throw new js__$Boot_HaxeError("Unsupported compression "+i);var n=this.readZipDate(),_=e.readInt32(),o=e.readInt32(),h=e.readInt32(),l=e.readInt16(),c=e.readInt16(),d=e.readString(l),u=this.readExtraFields(c);r&&u.push(haxe_zip_ExtraField.FUtf8);var g=null;return 0!=(8&a)&&(_=null),{fileName:d,fileSize:h,fileTime:n,compressed:s,dataSize:o,data:g,crc32:_,extraFields:u}},read:function(){for(var e=new List,t=null;;){var a=this.readEntryHeader();if(null==a)break;if(null==a.crc32){if(a.compressed){null==t&&(t=new haxe_io_Bytes(new ArrayBuffer(65536)));for(var r=new haxe_io_BytesBuffer,i=new haxe_zip_InflateImpl(this.i,!1,!1);;){var s=i.readBytes(t,0,65536);if(s<0||s>t.length)throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds);for(var n=t.b,_=0;_<s;)r.b.push(n[_++]);if(s<65536)break}a.data=r.getBytes()}else a.data=this.i.read(a.dataSize);a.crc32=this.i.readInt32(),134695760==a.crc32&&(a.crc32=this.i.readInt32()),a.dataSize=this.i.readInt32(),a.fileSize=this.i.readInt32(),a.dataSize=a.fileSize,a.compressed=!1}else a.data=this.i.read(a.dataSize);e.add(a)}return e},__class__:haxe_zip_Reader};var haxe_zip_Uncompress=function(e){throw new js__$Boot_HaxeError("Not implemented for this platform")};$hxClasses["haxe.zip.Uncompress"]=haxe_zip_Uncompress,haxe_zip_Uncompress.__name__=["haxe","zip","Uncompress"],haxe_zip_Uncompress.prototype={execute:function(e,t,a,r){return null},close:function(){},__class__:haxe_zip_Uncompress};var iron_data_CameraData=function(e,t){this.mirror=null;var a=this;iron_data_Data.call(this),this.raw=e,this.name=e.name;var r=e.render_path.split("/");iron_data_Data.getRenderPath(r[0],r[1],function(r){a.pathdata=r,e.is_mirror&&(a.mirror=kha_Image.createRenderTarget(e.mirror_resolution_x,e.mirror_resolution_y,kha_graphics4_TextureFormat.RGBA32,0)),t(a)})};$hxClasses["iron.data.CameraData"]=iron_data_CameraData,iron_data_CameraData.__name__=["iron","data","CameraData"],iron_data_CameraData.parse=function(e,t,a){iron_data_Data.getSceneRaw(e,function(e){var r=iron_data_Data.getCameraRawByName(e.camera_datas,t);null==r&&(haxe_Log.trace('Camera data "'+t+'" not found!',{fileName:"CameraData.hx",lineNumber:37,className:"iron.data.CameraData",methodName:"parse"}),a(null)),new iron_data_CameraData(r,a)})},iron_data_CameraData.__super__=iron_data_Data,iron_data_CameraData.prototype=$extend(iron_data_Data.prototype,{__class__:iron_data_CameraData});var iron_data_ConstData=function(){};$hxClasses["iron.data.ConstData"]=iron_data_ConstData,iron_data_ConstData.__name__=["iron","data","ConstData"];var iron_data_GreasePencilData=function(e,t){var a=this;if(iron_data_Data.call(this),this.raw=e,this.name=e.name,null==iron_data_GreasePencilData.structure&&(iron_data_GreasePencilData.structure=new kha_graphics4_VertexStructure,iron_data_GreasePencilData.structure.add("pos",kha_graphics4_VertexData.Float3),iron_data_GreasePencilData.structure.add("col",kha_graphics4_VertexData.Float4),iron_data_GreasePencilData.usage=kha_graphics4_Usage.StaticUsage),iron_data_GreasePencilData.first){iron_data_GreasePencilData.first=!1;var r=e.shader.split("/");iron_data_Data.getShader(r[0],r[1],null,function(e){iron_data_GreasePencilData.shaderData=e,a.makeLayers(t)})}else this.makeLayers(t)};$hxClasses["iron.data.GreasePencilData"]=iron_data_GreasePencilData,iron_data_GreasePencilData.__name__=["iron","data","GreasePencilData"],iron_data_GreasePencilData.parse=function(e,t,a){iron_data_Data.getSceneRaw(e,function(e){var r=iron_data_Data.getGreasePencilRawByName(e.grease_pencil_datas,t);null==r&&(haxe_Log.trace('Grease pencil data "'+t+'" not found!',{fileName:"GreasePencilData.hx",lineNumber:66,className:"iron.data.GreasePencilData",methodName:"parse"}),a(null)),new iron_data_GreasePencilData(r,a)})},iron_data_GreasePencilData.getContext=function(e){return iron_data_GreasePencilData.shaderData.getContext(e)},iron_data_GreasePencilData.__super__=iron_data_Data,iron_data_GreasePencilData.prototype=$extend(iron_data_Data.prototype,{makeLayers:function(e){this.layers=[];for(var t=0,a=this.raw.layers;t<a.length;){var r=a[t];++t,this.layers.push(new iron_data_GreasePencilLayer(r))}e(this)},__class__:iron_data_GreasePencilData});var iron_data_GreasePencilLayer=function(e){this.currentFrame=0,this.name=e.name,this.frames=[];for(var t=0,a=e.frames;t<a.length;){var r=a[t];++t,this.frames.push(new iron_data_GreasePencilFrame(r))}};$hxClasses["iron.data.GreasePencilLayer"]=iron_data_GreasePencilLayer,iron_data_GreasePencilLayer.__name__=["iron","data","GreasePencilLayer"],iron_data_GreasePencilLayer.prototype={__class__:iron_data_GreasePencilLayer};var iron_data_GreasePencilFrame=function(e){this.raw=e;var t=e.vertex_array.values,a=e.col_array.values,r=e.colfill_array.values,i=e.index_array.values;this.numVertices=t.length/3|0,this.vertexBuffer=new kha_graphics4_VertexBuffer(this.numVertices,iron_data_GreasePencilData.structure,iron_data_GreasePencilData.usage);for(var s=this.vertexBuffer.lock(),n=-1,_=0,o=this.numVertices;_<o;){var h=_++;s[++n]=t[3*h],s[++n]=t[3*h+1],s[++n]=t[3*h+2],s[++n]=r[4*h],s[++n]=r[4*h+1],s[++n]=r[4*h+2],s[++n]=r[4*h+3]}this.vertexBuffer.unlock(),this.indexBuffer=new kha_graphics4_IndexBuffer(i.length,iron_data_GreasePencilData.usage);for(var l=this.indexBuffer.lock(),c=0,d=l.length;c<d;){var u=c++;l[u]=i[u]}this.indexBuffer.unlock(),this.vertexStrokeBuffer=new kha_graphics4_VertexBuffer(this.numVertices,iron_data_GreasePencilData.structure,iron_data_GreasePencilData.usage),s=this.vertexStrokeBuffer.lock(),n=-1;for(var g=0,p=this.numVertices;g<p;){var m=g++;s[++n]=t[3*m],s[++n]=t[3*m+1],s[++n]=t[3*m+2],s[++n]=a[4*m],s[++n]=a[4*m+1],s[++n]=a[4*m+2],s[++n]=a[4*m+3]}this.vertexStrokeBuffer.unlock(),iron_data_GreasePencilData.frameEnd<this.raw.frame_number&&(iron_data_GreasePencilData.frameEnd=this.raw.frame_number)};$hxClasses["iron.data.GreasePencilFrame"]=iron_data_GreasePencilFrame,iron_data_GreasePencilFrame.__name__=["iron","data","GreasePencilFrame"],iron_data_GreasePencilFrame.prototype={delete:function(){this.vertexBuffer.delete()},__class__:iron_data_GreasePencilFrame};var iron_data_LampData=function(e,t){this.P=null,iron_data_Data.call(this),this.raw=e,this.name=e.name;var a=e.type,r=e.fov;"sun"==a?this.P=iron_math_Mat4.orthogonal(25*-r,25*r,25*-r,25*r,-e.far_plane,e.far_plane):"point"==a?this.P=iron_math_Mat4.perspective(r,1,e.near_plane,e.far_plane):"spot"==a&&(this.P=iron_math_Mat4.perspective(r,1,e.near_plane,e.far_plane)),t(this)};$hxClasses["iron.data.LampData"]=iron_data_LampData,iron_data_LampData.__name__=["iron","data","LampData"],iron_data_LampData.typeToInt=function(e){return"sun"==e?0:"point"==e?1:2},iron_data_LampData.parse=function(e,t,a){iron_data_Data.getSceneRaw(e,function(e){var r=iron_data_Data.getLampRawByName(e.lamp_datas,t);null==r&&(haxe_Log.trace('Lamp data "'+t+'" not found!',{fileName:"LampData.hx",lineNumber:43,className:"iron.data.LampData",methodName:"parse"}),a(null)),new iron_data_LampData(r,a)})},iron_data_LampData.__super__=iron_data_Data,iron_data_LampData.prototype=$extend(iron_data_Data.prototype,{__class__:iron_data_LampData});var iron_data_MaterialData=function(e,t){this.contexts=null;var a=this;iron_data_Data.call(this),this.raw=e,this.name=e.name;var r=e.shader.split("/");iron_data_Data.getShader(r[0],r[1],e.override_context,function(r){a.shader=r;var i=e.contexts.length;a.contexts=new Array(i);for(var s=0,n=0,_=e.contexts.length;n<_;){var o=[n++];new iron_data_MaterialContext(e.contexts[o[0]],function(r){return function(i){a.contexts[r[0]]=i,++s,s==e.contexts.length&&t(a)}}(o))}})};$hxClasses["iron.data.MaterialData"]=iron_data_MaterialData,iron_data_MaterialData.__name__=["iron","data","MaterialData"],iron_data_MaterialData.parse=function(e,t,a){iron_data_Data.getSceneRaw(e,function(e){var r=iron_data_Data.getMaterialRawByName(e.material_datas,t);null==r&&(haxe_Log.trace('Material data "'+t+'" not found!',{fileName:"MaterialData.hx",lineNumber:45,className:"iron.data.MaterialData",methodName:"parse"}),a(null)),new iron_data_MaterialData(r,a)})},iron_data_MaterialData.__super__=iron_data_Data,iron_data_MaterialData.prototype=$extend(iron_data_Data.prototype,{getContext:function(e){for(var t=0,a=this.contexts;t<a.length;){var r=a[t];if(++t,HxOverrides.substr(r.raw.name,0,e.length)==e)return r}return null},__class__:iron_data_MaterialData});var iron_data_MaterialContext=function(e,t){this.id=0,this.textures=null;var a=this;if(this.raw=e,this.id=iron_data_MaterialContext.num++,null!=e.bind_textures&&e.bind_textures.length>0){var r=e.bind_textures.length;this.textures=new Array(r);for(var i=0,s=0,n=e.bind_textures.length;s<n;){var _=[s++],o=[e.bind_textures[_[0]]],h=function(r,s){return function(n){if(a.textures[s[0]]=n,++i,null!=r[0].mipmaps){for(var _=[];_.length<r[0].mipmaps.length;)_.push(null);for(var o=0,h=0,l=r[0].mipmaps.length;h<l;){var c=[h++];iron_data_Data.getImage(r[0].mipmaps[c[0]],function(r,s){return function(h){_[r[0]]=h,++o,o==s[0].mipmaps.length&&(n.setMipmaps(_),s[0].mipmaps=null,s[0].generate_mipmaps=!1,i==e.bind_textures.length&&t(a))}}(c,r))}}else 1==r[0].generate_mipmaps&&null!=n?(n.generateMipmaps(1e3),r[0].mipmaps=null,r[0].generate_mipmaps=!1,i==e.bind_textures.length&&t(a)):i==e.bind_textures.length&&t(a)}}(o,_);iron_data_Data.getImage(o[0].file,h,!1,null!=o[0].format?o[0].format:"RGBA32")}}else t(this)};$hxClasses["iron.data.MaterialContext"]=iron_data_MaterialContext,iron_data_MaterialContext.__name__=["iron","data","MaterialContext"],iron_data_MaterialContext.prototype={setTextureParameters:function(e,t,a,r){var i=this.raw.bind_textures[t];null==i.params_set&&(a.setTextureParameters(e,r,i),i.params_set=!0)},__class__:iron_data_MaterialContext};var iron_data_Mesh=function(e,t,a,r,i,s,n,_,o,h){this.skeletonTransformsI=null,this.skeletonTransforms=null,this.skeletonBones=null,this.skeletonBoneRefs=null,this.skinBoneWeights=null,this.skinBoneIndices=null,this.skinBoneCounts=null,this.skinTransformI=null,this.skinTransform=null,this.instanceCount=0,this.instanced=!1,null==h&&(h=kha_graphics4_Usage.StaticUsage),this.ids=e,this.materialIndices=t,this.usage=h,this.positions=a,this.normals=r,this.uvs=i,this.cols=s,this.tangents=n,this.bones=_,this.weights=o,this.build()};$hxClasses["iron.data.Mesh"]=iron_data_Mesh,iron_data_Mesh.__name__=["iron","data","Mesh"],iron_data_Mesh.getVertexStructure=function(e,t,a,r,i,s,n){null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),null==r&&(r=!1),null==a&&(a=!1),null==t&&(t=!1),null==e&&(e=!1);var _=new kha_graphics4_VertexStructure;return e&&_.add("pos",kha_graphics4_VertexData.Float3),t&&_.add("nor",kha_graphics4_VertexData.Float3),a&&_.add("tex",kha_graphics4_VertexData.Float2),r&&_.add("col",kha_graphics4_VertexData.Float3),i&&_.add("tan",kha_graphics4_VertexData.Float3),s&&_.add("bone",kha_graphics4_VertexData.Float4),n&&_.add("weight",kha_graphics4_VertexData.Float4),_},iron_data_Mesh.buildVertices=function(e,t,a,r,i,s,n,_){for(var o=t.length/3|0,h=-1,l=0;l<o;){var c=l++;e[++h]=t[3*c],e[++h]=t[3*c+1],e[++h]=t[3*c+2],null!=a&&(e[++h]=a[3*c],e[++h]=a[3*c+1],e[++h]=a[3*c+2]),null!=r&&(e[++h]=r[2*c],e[++h]=r[2*c+1]),null!=i&&(e[++h]=i[3*c],e[++h]=i[3*c+1],e[++h]=i[3*c+2]),null!=s&&(e[++h]=s[3*c],e[++h]=s[3*c+1],e[++h]=s[3*c+2]),null!=n&&(e[++h]=n[4*c],e[++h]=n[4*c+1],e[++h]=n[4*c+2],e[++h]=n[4*c+3]),null!=_&&(e[++h]=_[4*c],e[++h]=_[4*c+1],e[++h]=_[4*c+2],e[++h]=_[4*c+3])}},iron_data_Mesh.prototype={delete:function(){this.vertexBuffer.delete();for(var e=0,t=this.indexBuffers;e<t.length;){var a=t[e];++e,a.delete()}},setupInstanced:function(e,t){this.offsetVecs=[];for(var a=0,r=e.length/3|0;a<r;){var i=a++;this.offsetVecs.push(new iron_math_Vec4(e[3*i],e[3*i+1],e[3*i+2]))}this.instanced=!0,this.instanceCount=e.length/3|0;var s=new kha_graphics4_VertexStructure;s.add("off",kha_graphics4_VertexData.Float3);for(var n=new kha_graphics4_VertexBuffer(this.instanceCount,s,t,1),_=n.lock(),o=0,h=_.length;o<h;){var l=o++;_[l]=e[l]}n.unlock(),this.instancedVertexBuffers=[this.vertexBuffer,n]},sortInstanced:function(e,t,a){for(var r=0,i=this.offsetVecs;r<i.length;){var s=i[r];++r;var n=s.x,_=s.y,o=s.z,h=e-n,l=t-_,c=a-o;s.w=Math.sqrt(h*h+l*l+c*c)}this.offsetVecs.sort(function(e,t){return e.w>t.w?1:-1});for(var d=this.instancedVertexBuffers[1],u=d.lock(),g=0,p=u.length/3|0;g<p;){var m=g++;u[3*m]=this.offsetVecs[m].x,u[3*m+1]=this.offsetVecs[m].y,u[3*m+2]=this.offsetVecs[m].z}d.unlock()},build:function(){var e=iron_data_Mesh.getVertexStructure(null!=this.positions,null!=this.normals,null!=this.uvs,null!=this.cols,null!=this.tangents,null!=this.bones,null!=this.weights);this.structLength=e.byteSize()/4|0,this.vertexBuffer=new kha_graphics4_VertexBuffer(this.positions.length/3|0,e,this.usage),this.vertices=this.vertexBuffer.lock(),iron_data_Mesh.buildVertices(this.vertices,this.positions,this.normals,this.uvs,this.cols,this.tangents,this.bones,this.weights),this.vertexBuffer.unlock(),this.indexBuffers=[],this.indices=[];for(var t=0,a=this.ids;t<a.length;){var r=a[t];++t;for(var i=new kha_graphics4_IndexBuffer(r.length,this.usage),s=i.lock(),n=0,_=s.length;n<_;){var o=n++;s[o]=r[o]}i.unlock(),this.indexBuffers.push(i),this.indices.push(s)}},getVerticesCount:function(){return this.positions.length/3|0},initSkeletonBones:function(e){this.skeletonBones=[];for(var t=0,a=this.skeletonBoneRefs;t<a.length;){var r=a[t];++t;for(var i=0;i<e.length;){var s=e[i];++i,s.name==r&&this.skeletonBones.push(s)}}},initSkeletonTransforms:function(e){this.skeletonTransforms=[],this.skeletonTransformsI=[];for(var t=0;t<e.length;){var a=e[t];++t;var r=iron_math_Mat4.fromArray(a);this.skeletonTransforms.push(r);var i=iron_math_Mat4.identity();i.getInverse(r),this.skeletonTransformsI.push(i)}},initSkinTransform:function(e){this.skinTransform=iron_math_Mat4.fromArray(e),this.skinTransformI=iron_math_Mat4.identity(),this.skinTransformI.getInverse(this.skinTransform)},__class__:iron_data_Mesh};var iron_data_MeshData=function(e,t){this.bones=[],iron_data_Data.call(this),this.raw=e,this.name=e.name;for(var a=[],r=[],i=0,s=e.mesh.index_arrays;i<s.length;){var n=s[i];++i,a.push(n.values),r.push(n.material)}var _=this.getVertexArray("position"),o=null!=_?_.values:null,h=this.getVertexArray("normal"),l=null!=h?h.values:null,c=this.getVertexArray("texcoord"),d=null!=c?c.values:null,u=this.getVertexArray("color"),g=null!=u?u.values:null,p=this.getVertexArray("tangent"),m=null!=p?p.values:null;this.isSkinned=null!=e.mesh.skin;var f=kha_graphics4_Usage.StaticUsage;null!=e.mesh.dynamic_usage&&1==e.mesh.dynamic_usage&&(f=kha_graphics4_Usage.DynamicUsage);var v=f,k=null,y=null;if(this.isSkinned){k=[],y=[];for(var b=0,I=0,S=o.length/3|0;I<S;){for(var x=e.mesh.skin.bone_count_array[I++],C=b,w=b+x;C<w;){var B=C++;k.push(e.mesh.skin.bone_index_array[B]),y.push(e.mesh.skin.bone_weight_array[B])}for(var A=x;A<4;)++A,k.push(0),y.push(0);b+=x}}this.mesh=new iron_data_Mesh(a,r,o,l,d,g,m,k,y,v),null!=e.mesh.instance_offsets&&this.mesh.setupInstanced(e.mesh.instance_offsets,v),t(this)};$hxClasses["iron.data.MeshData"]=iron_data_MeshData,iron_data_MeshData.__name__=["iron","data","MeshData"],iron_data_MeshData.parse=function(e,t,a,r){iron_data_Data.getSceneRaw(e,function(e){var i=iron_data_Data.getMeshRawByName(e.mesh_datas,t);null==i&&(haxe_Log.trace('Mesh data "'+t+'" not found!',{fileName:"MeshData.hx",lineNumber:102,className:"iron.data.MeshData",methodName:"parse"}),r(null)),new iron_data_MeshData(i,function(t){if(null!=i.mesh.skin){for(var s=null!=a?a:e.objects,n=0;n<s.length;){var _=s[n];++n,iron_data_MeshData.setParents(_)}iron_data_MeshData.traverseObjects(s,function(e){"bone_object"==e.type&&t.bones.push(e)}),t.mesh.initSkinTransform(i.mesh.skin.transform.values),t.mesh.skinBoneCounts=i.mesh.skin.bone_count_array,t.mesh.skinBoneIndices=i.mesh.skin.bone_index_array,t.mesh.skinBoneWeights=i.mesh.skin.bone_weight_array,t.mesh.skeletonBoneRefs=i.mesh.skin.skeleton.bone_ref_array,t.mesh.initSkeletonBones(t.bones),t.mesh.initSkeletonTransforms(i.mesh.skin.skeleton.transforms)}r(t)})})},iron_data_MeshData.setParents=function(e){if(null!=e.children)for(var t=0,a=e.children;t<a.length;){var r=a[t];++t,r.parent=e,iron_data_MeshData.setParents(r)}},iron_data_MeshData.traverseObjects=function(e,t){for(var a=0,r=e.length;a<r;)iron_data_MeshData.traverseObjectsStep(e[a++],t)},iron_data_MeshData.traverseObjectsStep=function(e,t){if(t(e),null!=e.children)for(var a=0,r=e.children.length;a<r;)iron_data_MeshData.traverseObjectsStep(e.children[a++],t)},iron_data_MeshData.__super__=iron_data_Data,iron_data_MeshData.prototype=$extend(iron_data_Data.prototype,{delete:function(){this.mesh.delete()},getVertexArray:function(e){for(var t=0,a=this.raw.mesh.vertex_arrays;t<a.length;){var r=a[t];if(++t,r.attrib==e)return r}return null},__class__:iron_data_MeshData});var iron_data_ParticleData=function(e,t){iron_data_Data.call(this),this.raw=e,this.name=e.name,t(this)};$hxClasses["iron.data.ParticleData"]=iron_data_ParticleData,iron_data_ParticleData.__name__=["iron","data","ParticleData"],iron_data_ParticleData.parse=function(e,t,a){iron_data_Data.getSceneRaw(e,function(e){var r=iron_data_Data.getParticleRawByName(e.particle_datas,t);null==r&&(haxe_Log.trace('Particle data "'+t+'" not found!',{fileName:"ParticleData.hx",lineNumber:23,className:"iron.data.ParticleData",methodName:"parse"}),a(null)),new iron_data_ParticleData(r,a)})},iron_data_ParticleData.__super__=iron_data_Data,iron_data_ParticleData.prototype=$extend(iron_data_Data.prototype,{__class__:iron_data_ParticleData});var iron_data_RenderPath=function(e){this.drawPerformed=!1,this.loopFinished=0,this.cachedShaderContexts=new haxe_ds_StringMap,this.currentLampIndex=0,this.nestedParams=new haxe_ds_StringMap,this.nestedCommands=new haxe_ds_StringMap,this.currentStageIndex=0;var t=this;this.camera=e,this.data=e.data,this.waiting=!0;var a=this.data.pathdata.raw.stages.length;this.stageCommands=new Array(a),this.stageParams=new Array(a),this.cacheStageCommands(this.stageCommands,this.stageParams,this.data.pathdata.raw.stages,function(){t.waiting=!1}),null==iron_data_RenderPath.screenAlignedVB&&iron_data_RenderPath.createScreenAlignedData(),null==iron_data_RenderPath.boxVB&&iron_data_RenderPath.createBoxData(),null==iron_data_RenderPath.skydomeVB&&iron_data_RenderPath.createSkydomeData()};$hxClasses["iron.data.RenderPath"]=iron_data_RenderPath,iron_data_RenderPath.__name__=["iron","data","RenderPath"],iron_data_RenderPath.createScreenAlignedData=function(){var e=[-1,-1,3,-1,-1,3],t=[0,1,2],a=new kha_graphics4_VertexStructure;a.add("pos",kha_graphics4_VertexData.Float2),iron_data_RenderPath.screenAlignedVB=new kha_graphics4_VertexBuffer(e.length/(a.byteSize()/4|0)|0,a,kha_graphics4_Usage.StaticUsage);for(var r=iron_data_RenderPath.screenAlignedVB.lock(),i=0,s=r.length;i<s;){var n=i++;r[n]=e[n]}iron_data_RenderPath.screenAlignedVB.unlock(),iron_data_RenderPath.screenAlignedIB=new kha_graphics4_IndexBuffer(t.length,kha_graphics4_Usage.StaticUsage);for(var _=iron_data_RenderPath.screenAlignedIB.lock(),o=0,h=_.length;o<h;){var l=o++;_[l]=t[l]}iron_data_RenderPath.screenAlignedIB.unlock()},iron_data_RenderPath.createBoxData=function(){var e=[-1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,1,-1,1,1,1,1,-1,1,1,-1,-1,1],t=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],a=new kha_graphics4_VertexStructure;a.add("pos",kha_graphics4_VertexData.Float3),iron_data_RenderPath.boxVB=new kha_graphics4_VertexBuffer(e.length/(a.byteSize()/4|0)|0,a,kha_graphics4_Usage.StaticUsage);for(var r=iron_data_RenderPath.boxVB.lock(),i=0,s=r.length;i<s;){var n=i++;r[n]=e[n]}iron_data_RenderPath.boxVB.unlock(),iron_data_RenderPath.boxIB=new kha_graphics4_IndexBuffer(t.length,kha_graphics4_Usage.StaticUsage);for(var _=iron_data_RenderPath.boxIB.lock(),o=0,h=_.length;o<h;){var l=o++;_[l]=t[l]}iron_data_RenderPath.boxIB.unlock()},iron_data_RenderPath.createSkydomeData=function(){var e=new kha_graphics4_VertexStructure;e.add("pos",kha_graphics4_VertexData.Float3),e.add("nor",kha_graphics4_VertexData.Float3);var t=e.byteSize()/4|0,a=iron_data_ConstData.skydomePos,r=iron_data_ConstData.skydomeNor;iron_data_RenderPath.skydomeVB=new kha_graphics4_VertexBuffer(a.length/3|0,e,kha_graphics4_Usage.StaticUsage);for(var i=iron_data_RenderPath.skydomeVB.lock(),s=0,n=i.length/t|0;s<n;){var _=s++;i[_*t]=a[3*_],i[_*t+1]=a[3*_+1],i[_*t+2]=a[3*_+2],i[_*t+3]=-r[3*_],i[_*t+4]=-r[3*_+1],i[_*t+5]=-r[3*_+2]}iron_data_RenderPath.skydomeVB.unlock();var o=iron_data_ConstData.skydomeIndices;iron_data_RenderPath.skydomeIB=new kha_graphics4_IndexBuffer(o.length,kha_graphics4_Usage.StaticUsage);for(var h=iron_data_RenderPath.skydomeIB.lock(),l=0,c=h.length;l<c;){var d=l++;h[d]=o[d]}iron_data_RenderPath.skydomeIB.unlock()},iron_data_RenderPath.prototype={renderFrame:function(e,t,a){if(!this.waiting){this.frameRenderTarget=null==this.camera.data.mirror?e:this.camera.data.mirror.get_g4(),this.currentRenderTarget=e,this.currentRenderTargetW=kha_System.windowWidth(),this.currentRenderTargetH=kha_System.windowHeight(),this.currentRenderTargetD=1,this.sorted=!1,this.lamps=a,this.currentLampIndex=0;for(var r=0;r<a.length;){var i=a[r];++r,i.buildMatrices(this.camera)}for(var s=0,n=this.stageCommands.length;s<n;){var _=s++;this.currentStageIndex=_,this.stageCommands[_](this.stageParams[_],t)}}},setTarget:function(e,t){null!=iron_data_RenderPath.lastPongRT&&this.drawPerformed&&0==this.loopFinished&&(iron_data_RenderPath.lastPongRT.pongState=!iron_data_RenderPath.lastPongRT.pongState,iron_data_RenderPath.lastPongRT=null),this.drawPerformed=!1;var a=e[1];if(""==a)this.currentRenderTarget=this.frameRenderTarget,this.currentRenderTargetW=kha_System.windowWidth(),this.currentRenderTargetH=kha_System.windowHeight(),this.currentRenderTargetD=1,this.currentRenderTarget.begin(null);else{var r=this.data.pathdata.renderTargets,i=null!=__map_reserved[a]?r.getReserved(a):r.h[a],s=null;if(e.length>2){s=[];for(var n=2,_=e.length;n<_;){var o=n++,h=this.data.pathdata.renderTargets,l=e[o];s.push((null!=__map_reserved[l]?h.getReserved(l):h.h[l]).image)}}null!=i.pong&&(iron_data_RenderPath.lastPongRT=i,i.pongState&&(i=i.pong)),this.currentRenderTarget=i.image.get_g4(),this.currentRenderTargetW=i.image.get_width(),this.currentRenderTargetH=i.image.get_height(),i.is3D&&(this.currentRenderTargetD=i.image.get_depth()),this.currentRenderTarget.begin(s)}var c=parseFloat(e[0]);if(1!=c){var d=this.currentRenderTargetW*c|0,u=this.currentRenderTargetH*c|0;this.currentRenderTarget.viewport(0,u,d,u)}this.bindParams=null},setViewport:function(e,t){var a=0|parseFloat(e[0]),r=0|parseFloat(e[1]);this.currentRenderTarget.viewport(0,this.currentRenderTargetH-r,a,r)},clearTarget:function(e,t){for(var a=null,r=null,i=0,s=e.length/2|0;i<s;){var n=2*i++,_=n+1;"color"==e[n]?a="-1"==e[_]?iron_Scene.active.world.raw.background_color:kha__$Color_Color_$Impl_$.fromString(e[_]):"depth"==e[n]&&(r="1.0"==e[_]?1:0)}this.currentRenderTarget.clear(a,r,null)},generateMipmaps:function(e,t){var a=e[0],r=this.data.pathdata.renderTargets;(null!=__map_reserved[a]?r.getReserved(a):r.h[a]).image.generateMipmaps(1e3)},drawMeshes:function(e,t){var a=e[0],r=this.lamps[this.currentLampIndex];if(a!=this.data.pathdata.raw.shadows_context||r.data.raw.cast_shadow){if(!this.sorted&&"front_to_back"==e[1]){for(var i=this.camera.transform.matrix.self._30,s=this.camera.transform.matrix.self._31,n=this.camera.transform.matrix.self._32,_=0,o=iron_Scene.active.meshes;_<o.length;){var h=o[_];++_;var l=h.transform.matrix.self._30,c=h.transform.matrix.self._31,d=h.transform.matrix.self._32,u=i-l,g=s-c,p=n-d;h.cameraDistance=Math.sqrt(u*u+g*g+p*p)}iron_Scene.active.meshes.sort(function(e,t){return e.cameraDistance>t.cameraDistance?1:-1}),this.sorted=!0}for(var m=this.currentRenderTarget,f=0,v=iron_Scene.active.meshes;f<v.length;){var k=v[f];++f,k.render(m,a,this.camera,r,this.bindParams)}m.end(),this.bindParams=null,this.drawPerformed=!0}},drawDecals:function(e,t){for(var a=e[0],r=this.currentRenderTarget,i=this.lamps[this.currentLampIndex],s=0,n=iron_Scene.active.decals;s<n.length;){var _=n[s];++s,_.render(r,a,this.camera,i,this.bindParams),r.setVertexBuffer(iron_data_RenderPath.boxVB),r.setIndexBuffer(iron_data_RenderPath.boxIB),r.drawIndexedVertices()}r.end(),this.bindParams=null,this.drawPerformed=!0},drawGreasePencil:function(e,t){var a=iron_Scene.active.greasePencil;if(null!=a){var r=this.currentRenderTarget,i=this.lamps[this.currentLampIndex],s=iron_data_GreasePencilData.getContext(e[0]);r.setPipeline(s.pipeState),iron_object_Uniforms.setConstants(r,s,null,this.camera,i,null);for(var n=0,_=a.layers;n<_.length;){var o=_[n];++n,o.frames.length-1>o.currentFrame&&iron_data_RenderPath.gpFrame>=o.frames[o.currentFrame+1].raw.frame_number&&o.currentFrame++;var h=o.frames[o.currentFrame];if(h.numVertices>0){r.setVertexBuffer(h.vertexStrokeBuffer),kha_SystemImpl.gl.lineWidth(3);for(var l=0,c=0,d=h.raw.num_stroke_points;c<d.length;){var u=d[c];++c,kha_SystemImpl.gl.drawArrays(3,l,u),l+=u}r.setVertexBuffer(h.vertexBuffer),r.setIndexBuffer(h.indexBuffer),r.drawIndexedVertices()}}if(iron_data_RenderPath.gpFrame++,iron_data_RenderPath.gpFrame>iron_data_GreasePencilData.frameEnd){iron_data_RenderPath.gpFrame=0;for(var g=0,p=a.layers;g<p.length;){var m=p[g];++g,m.currentFrame=0}}r.end(),this.bindParams=null,this.drawPerformed=!0}},parseMaterialLink:function(e){return"_worldMaterial"==e?iron_Scene.active.world.raw.material_ref.split("/"):null},drawSkydome:function(e,t){var a=e[0],r=this.cachedShaderContexts,i=null!=__map_reserved[a]?r.getReserved(a):r.h[a],s=this.currentRenderTarget;s.setPipeline(i.context.pipeState),iron_object_Uniforms.setConstants(s,i.context,null,this.camera,this.lamps[this.currentLampIndex],this.bindParams),null!=i.materialContext&&iron_object_Uniforms.setMaterialConstants(s,i.context,i.materialContext),s.setVertexBuffer(iron_data_RenderPath.skydomeVB),s.setIndexBuffer(iron_data_RenderPath.skydomeIB),s.drawIndexedVertices(),s.end(),this.bindParams=null,this.drawPerformed=!0},drawLampVolume:function(e,t){var a=e[0],r=this.cachedShaderContexts,i=null!=__map_reserved[a]?r.getReserved(a):r.h[a],s=this.currentRenderTarget;s.setPipeline(i.context.pipeState),iron_object_Uniforms.setConstants(s,i.context,null,this.camera,this.lamps[this.currentLampIndex],this.bindParams),null!=i.materialContext&&iron_object_Uniforms.setMaterialConstants(s,i.context,i.materialContext),s.setVertexBuffer(iron_data_RenderPath.boxVB),s.setIndexBuffer(iron_data_RenderPath.boxIB),s.drawIndexedVertices(),s.end(),this.bindParams=null,this.drawPerformed=!0},bindTarget:function(e,t){if(null!=this.bindParams)for(var a=0;a<e.length;){var r=e[a];++a,this.bindParams.push(r)}else this.bindParams=e},drawShaderQuad:function(e,t){var a=e[0],r=this.cachedShaderContexts;this.drawQuad(null!=__map_reserved[a]?r.getReserved(a):r.h[a],t)},drawMaterialQuad:function(e,t){var a=e[0],r=this.cachedShaderContexts;this.drawQuad(null!=__map_reserved[a]?r.getReserved(a):r.h[a],t)},drawQuad:function(e,t){var a=this.currentRenderTarget;a.setPipeline(e.context.pipeState),iron_object_Uniforms.setConstants(a,e.context,null,this.camera,this.lamps[this.currentLampIndex],this.bindParams),null!=e.materialContext&&iron_object_Uniforms.setMaterialConstants(a,e.context,e.materialContext),a.setVertexBuffer(iron_data_RenderPath.screenAlignedVB),a.setIndexBuffer(iron_data_RenderPath.screenAlignedIB),a.drawIndexedVertices(),a.end(),this.bindParams=null,this.drawPerformed=!0},callFunction:function(e,t){var a=e[0],r=a.lastIndexOf("."),i=Type.resolveClass(HxOverrides.substr(a,0,r)),s=HxOverrides.substr(a,r+1,null),n=this.data.pathdata.raw.stages[this.currentStageIndex];if(null==n.returns_true&&null==n.returns_false)Reflect.field(i,s).apply(i,[]);else{var _=Reflect.field(i,s).apply(i,[]),o=this.currentStageIndex+"";o+=_?"_true":"_false";for(var h=this.nestedCommands,l=null!=__map_reserved[o]?h.getReserved(o):h.h[o],c=this.nestedParams,d=null!=__map_reserved[o]?c.getReserved(o):c.h[o],u=0,g=l.length;u<g;){var p=u++;l[p](d[p],t)}}},loopLamps:function(e,t){var a=this.currentStageIndex+"_true",r=this.nestedCommands,i=null!=__map_reserved[a]?r.getReserved(a):r.h[a],s=this.nestedParams,n=null!=__map_reserved[a]?s.getReserved(a):s.h[a];this.currentLampIndex=0,this.loopFinished++;for(var _=0,o=this.lamps.length;_<o;){var h=_++;if(this.lamps[h].visible){this.currentLampIndex=h;for(var l=0,c=i.length;l<c;){var d=l++;i[d](n[d],t)}}}this.currentLampIndex=0,this.loopFinished--},begin:function(e,t){e.begin(t)},end:function(e){e.end(),this.bindParams=null,this.drawPerformed=!0},cacheStageCommands:function(e,t,a,r){for(var i=0,s=0,n=a.length;s<n;){var _=[s++],o=a[_[0]];t[_[0]]=o.params,this.commandToFunction(o,_[0],function(t){return function(s){e[t[0]]=s,++i,i==a.length&&r()}}(_))}},commandToFunction:function(e,t,a){var r=this,i=e.params.length>0?e.params[0]:"";
switch(e.command){case"bind_target":a($bind(this,this.bindTarget));break;case"call_function":this.cacheReturnsBoth(e,t,function(){a($bind(r,r.callFunction))});break;case"clear_target":a($bind(this,this.clearTarget));break;case"draw_decals":a($bind(this,this.drawDecals));break;case"draw_grease_pencil":a($bind(this,this.drawGreasePencil));break;case"draw_lamp_volume":this.cacheShaderQuad(i,function(){a($bind(r,r.drawLampVolume))});break;case"draw_material_quad":this.cacheMaterialQuad(i,function(){a($bind(r,r.drawMaterialQuad))});break;case"draw_meshes":a($bind(this,this.drawMeshes));break;case"draw_shader_quad":this.cacheShaderQuad(i,function(){a($bind(r,r.drawShaderQuad))});break;case"draw_skydome":this.cacheMaterialQuad(i,function(){a($bind(r,r.drawSkydome))});break;case"generate_mipmaps":a($bind(this,this.generateMipmaps));break;case"loop_lamps":this.cacheReturnsTrue(e,t,function(){a($bind(r,r.loopLamps))});break;case"set_target":a($bind(this,this.setTarget));break;case"set_viewport":a($bind(this,this.setViewport));break;default:a(null)}},cacheReturnsBoth:function(e,t,a){var r=t+"",i=0,s=0;if(null!=e.returns_true&&++s,null!=e.returns_false&&++s,0==s&&a(),null!=e.returns_true){var n=e.returns_true.length,_=new Array(n),o=new Array(n),h=this.nestedCommands,l=r+"_true";null!=__map_reserved[l]?h.setReserved(l,_):h.h[l]=_;var c=this.nestedParams,d=r+"_true";null!=__map_reserved[d]?c.setReserved(d,o):c.h[d]=o,this.cacheStageCommands(_,o,e.returns_true,function(){++i,i==s&&a()})}if(null!=e.returns_false){var u=e.returns_false.length,g=new Array(u),p=new Array(u),m=this.nestedCommands,f=r+"_false";null!=__map_reserved[f]?m.setReserved(f,g):m.h[f]=g;var v=this.nestedParams,k=r+"_false";null!=__map_reserved[k]?v.setReserved(k,p):v.h[k]=p,this.cacheStageCommands(g,p,e.returns_false,function(){++i,i==s&&a()})}},cacheReturnsTrue:function(e,t,a){var r=t+"_true";if(null!=e.returns_true){var i=e.returns_true.length,s=new Array(i),n=new Array(i),_=this.nestedCommands;null!=__map_reserved[r]?_.setReserved(r,s):_.h[r]=s;var o=this.nestedParams;null!=__map_reserved[r]?o.setReserved(r,n):o.h[r]=n,this.cacheStageCommands(s,n,e.returns_true,a)}else a()},cacheMaterialQuad:function(e,t){var a=this.cachedShaderContexts,r=null!=__map_reserved[e]?a.getReserved(e):a.h[e];if(null!=r)return void t();r=new iron_data_CachedShaderContext;var i=this.cachedShaderContexts;null!=__map_reserved[e]?i.setReserved(e,r):i.h[e]=r;var s=null;s="_"==e.charAt(0)?this.parseMaterialLink(e):e.split("/"),iron_data_Data.getMaterial(s[0],s[1],function(e){r.materialContext=e.getContext(s[2]),r.context=e.shader.getContext(s[2]),t()})},cacheShaderQuad:function(e,t){var a=this.cachedShaderContexts,r=null!=__map_reserved[e]?a.getReserved(e):a.h[e];if(null!=r)return void t();r=new iron_data_CachedShaderContext;var i=this.cachedShaderContexts;null!=__map_reserved[e]?i.setReserved(e,r):i.h[e]=r;var s=e.split("/");iron_data_Data.getShader(s[0],s[1],null,function(e){r.materialContext=null,r.context=e.getContext(s[2]),t()})},__class__:iron_data_RenderPath};var iron_data_CachedShaderContext=function(){};$hxClasses["iron.data.CachedShaderContext"]=iron_data_CachedShaderContext,iron_data_CachedShaderContext.__name__=["iron","data","CachedShaderContext"],iron_data_CachedShaderContext.prototype={__class__:iron_data_CachedShaderContext};var iron_data_RenderPathData=function(e,t){if(this.depthToRenderTarget=null,this.renderTargets=null,iron_data_Data.call(this),this.raw=e,this.name=e.name,e.render_targets.length>0){this.renderTargets=new haxe_ds_StringMap,null!=e.depth_buffers&&e.depth_buffers.length>0&&(this.depthToRenderTarget=new haxe_ds_StringMap);for(var a=0,r=e.render_targets;a<r.length;){var i=r[a];++a;var s=this.makeRenderTarget(i);null!=i.ping_pong&&i.ping_pong&&(s.pong=this.makeRenderTarget(i));var n=this.renderTargets,_=i.name;null!=__map_reserved[_]?n.setReserved(_,s):n.h[_]=s}}t(this)};$hxClasses["iron.data.RenderPathData"]=iron_data_RenderPathData,iron_data_RenderPathData.__name__=["iron","data","RenderPathData"],iron_data_RenderPathData.parse=function(e,t,a){iron_data_Data.getSceneRaw(e,function(e){var r=iron_data_Data.getRenderPathRawByName(e.renderpath_datas,t);null==r&&(haxe_Log.trace('Render path data "'+t+'" not found!',{fileName:"RenderPathData.hx",lineNumber:42,className:"iron.data.RenderPathData",methodName:"parse"}),a(null)),new iron_data_RenderPathData(r,a)})},iron_data_RenderPathData.__super__=iron_data_Data,iron_data_RenderPathData.prototype=$extend(iron_data_Data.prototype,{makeRenderTarget:function(e){var t=new iron_data_RenderTarget;if(null!=e.depth_buffer){t.hasDepth=!0;var a=this.depthToRenderTarget,r=e.depth_buffer,i=null!=__map_reserved[r]?a.getReserved(r):a.h[r];if(null==i)for(var s=0,n=this.raw.depth_buffers;s<n.length;){var _=n[s];if(++s,_.name==e.depth_buffer){var o=this.depthToRenderTarget,h=_.name;null!=__map_reserved[h]?o.setReserved(h,t):o.h[h]=t,t.image=this.createImage(e,_.stencil_buffer?3:1);break}}else t.image=this.createImage(e,0),t.image.setDepthStencilFrom(i.image)}else t.hasDepth=!1,null!=e.depth&&e.depth>1&&(t.is3D=!0),t.image=this.createImage(e,0);return t},createImage:function(e,t){var a=0==e.width?kha_System.windowWidth():e.width,r=0==e.height?kha_System.windowHeight():e.height,i=null!=e.depth?e.depth:0;if(null!=e.scale&&(a=a*e.scale|0,r=r*e.scale|0,i=i*e.scale|0),null!=e.depth&&e.depth>1){var s;if(null!=e.format){var n;switch(e.format){case"A16":n=kha_graphics4_TextureFormat.A16;break;case"A32":n=kha_graphics4_TextureFormat.A32;break;case"A8":n=kha_graphics4_TextureFormat.L8;break;case"DEPTH16":n=kha_graphics4_TextureFormat.DEPTH16;break;case"RGBA128":n=kha_graphics4_TextureFormat.RGBA128;break;case"RGBA32":n=kha_graphics4_TextureFormat.RGBA32;break;case"RGBA64":n=kha_graphics4_TextureFormat.RGBA64;break;default:n=kha_graphics4_TextureFormat.RGBA32}s=n}else s=kha_graphics4_TextureFormat.RGBA32;return kha_Image.create3D(a,r,i,s)}if(null!=e.is_image&&e.is_image){var _;if(null!=e.format){var o;switch(e.format){case"A16":o=kha_graphics4_TextureFormat.A16;break;case"A32":o=kha_graphics4_TextureFormat.A32;break;case"A8":o=kha_graphics4_TextureFormat.L8;break;case"DEPTH16":o=kha_graphics4_TextureFormat.DEPTH16;break;case"RGBA128":o=kha_graphics4_TextureFormat.RGBA128;break;case"RGBA32":o=kha_graphics4_TextureFormat.RGBA32;break;case"RGBA64":o=kha_graphics4_TextureFormat.RGBA64;break;default:o=kha_graphics4_TextureFormat.RGBA32}_=o}else _=kha_graphics4_TextureFormat.RGBA32;return kha_Image.create(a,r,_)}var h;if(null!=e.format){var l;switch(e.format){case"A16":l=kha_graphics4_TextureFormat.A16;break;case"A32":l=kha_graphics4_TextureFormat.A32;break;case"A8":l=kha_graphics4_TextureFormat.L8;break;case"DEPTH16":l=kha_graphics4_TextureFormat.DEPTH16;break;case"RGBA128":l=kha_graphics4_TextureFormat.RGBA128;break;case"RGBA32":l=kha_graphics4_TextureFormat.RGBA32;break;case"RGBA64":l=kha_graphics4_TextureFormat.RGBA64;break;default:l=kha_graphics4_TextureFormat.RGBA32}h=l}else h=kha_graphics4_TextureFormat.RGBA32;return kha_Image.createRenderTarget(a,r,h,t)},getTextureFormat:function(e){switch(e){case"A16":return kha_graphics4_TextureFormat.A16;case"A32":return kha_graphics4_TextureFormat.A32;case"A8":return kha_graphics4_TextureFormat.L8;case"DEPTH16":return kha_graphics4_TextureFormat.DEPTH16;case"RGBA128":return kha_graphics4_TextureFormat.RGBA128;case"RGBA32":return kha_graphics4_TextureFormat.RGBA32;case"RGBA64":return kha_graphics4_TextureFormat.RGBA64;default:return kha_graphics4_TextureFormat.RGBA32}},getDepthStencilFormat:function(e,t){return e&&t?3:e?1:0},__class__:iron_data_RenderPathData});var iron_data_RenderTarget=function(){this.is3D=!1,this.pong=null,this.pongState=!1};$hxClasses["iron.data.RenderTarget"]=iron_data_RenderTarget,iron_data_RenderTarget.__name__=["iron","data","RenderTarget"],iron_data_RenderTarget.prototype={__class__:iron_data_RenderTarget};var iron_data_ShaderData=function(e,t,a){this.contexts=[],this.structureLength=0,iron_data_Data.call(this),this.raw=e,this.name=e.name,this.parseVertexStructure();for(var r=0,i=e.contexts;r<i.length;){var s=i[r];++r,null!=Reflect.field(kha_Shaders,StringTools.replace(s.fragment_shader,".","_"))&&this.contexts.push(new iron_data_ShaderContext(s,this.structure,t))}a(this)};$hxClasses["iron.data.ShaderData"]=iron_data_ShaderData,iron_data_ShaderData.__name__=["iron","data","ShaderData"],iron_data_ShaderData.parse=function(e,t,a,r){iron_data_Data.getSceneRaw(e,function(e){var i=iron_data_Data.getShaderRawByName(e.shader_datas,t);null==i&&(haxe_Log.trace('Shader data "'+t+'" not found!',{fileName:"ShaderData.hx",lineNumber:53,className:"iron.data.ShaderData",methodName:"parse"}),r(null)),new iron_data_ShaderData(i,a,r)})},iron_data_ShaderData.__super__=iron_data_Data,iron_data_ShaderData.prototype=$extend(iron_data_Data.prototype,{delete:function(){for(var e=0,t=this.contexts;e<t.length;){var a=t[e];++e,a.delete()}},sizeToVD:function(e){return 1==e?kha_graphics4_VertexData.Float1:2==e?kha_graphics4_VertexData.Float2:3==e?kha_graphics4_VertexData.Float3:4==e?kha_graphics4_VertexData.Float4:null},parseVertexStructure:function(){this.structure=new kha_graphics4_VertexStructure;for(var e=0,t=this.raw.vertex_structure;e<t.length;){var a=t[e];++e,this.structure.add(a.name,this.sizeToVD(a.size)),this.structureLength+=a.size}},getContext:function(e){for(var t=0,a=this.contexts;t<a.length;){var r=a[t];if(++t,HxOverrides.substr(r.raw.name,0,e.length)==e)return r}return null},__class__:iron_data_ShaderData});var iron_data_ShaderContext=function(e,t,a){if(this.textureUnits=[],this.constants=[],this.raw=e,this.pipeState=new kha_graphics4_PipelineState,e.vertex_shader.indexOf("_Instancing")!=-1){var r=new kha_graphics4_VertexStructure;r.add("off",kha_graphics4_VertexData.Float3),this.pipeState.inputLayout=[t,r]}else this.pipeState.inputLayout=[t];this.pipeState.depthWrite=e.depth_write,this.pipeState.depthMode=this.getCompareMode(e.compare_mode),null!=e.stencil_mode&&("always"==e.stencil_mode?this.pipeState.stencilMode=kha_graphics4_CompareMode.Always:"equal"==e.stencil_mode?this.pipeState.stencilMode=kha_graphics4_CompareMode.Equal:"not_equal"==e.stencil_mode&&(this.pipeState.stencilMode=kha_graphics4_CompareMode.NotEqual)),null!=e.stencil_pass&&("replace"==e.stencil_pass?this.pipeState.stencilBothPass=kha_graphics4_StencilAction.Replace:"keep"==e.stencil_pass&&(this.pipeState.stencilBothPass=kha_graphics4_StencilAction.Keep)),null!=e.stencil_fail&&"keep"==e.stencil_fail&&(this.pipeState.stencilDepthFail=kha_graphics4_StencilAction.Keep,this.pipeState.stencilFail=kha_graphics4_StencilAction.Keep),null!=e.stencil_reference_value&&(this.pipeState.stencilReferenceValue=e.stencil_reference_value),this.pipeState.cullMode=this.getCullMode(e.cull_mode),null!=e.blend_source&&(this.pipeState.blendSource=this.getBlendingFactor(e.blend_source)),null!=e.blend_destination&&(this.pipeState.blendDestination=this.getBlendingFactor(e.blend_destination)),null!=e.blend_operation&&(this.pipeState.blendOperation=this.getBlendingOperation(e.blend_operation)),null!=e.alpha_blend_source&&(this.pipeState.alphaBlendSource=this.getBlendingFactor(e.alpha_blend_source)),null!=e.alpha_blend_destination&&(this.pipeState.alphaBlendDestination=this.getBlendingFactor(e.alpha_blend_destination)),null!=e.alpha_blend_operation&&(this.pipeState.alphaBlendOperation=this.getBlendingOperation(e.alpha_blend_operation)),null!=e.color_write_red&&(this.pipeState.colorWriteMaskRed=e.color_write_red),null!=e.color_write_green&&(this.pipeState.colorWriteMaskGreen=e.color_write_green),null!=e.color_write_blue&&(this.pipeState.colorWriteMaskBlue=e.color_write_blue),null!=e.color_write_alpha&&(this.pipeState.colorWriteMaskAlpha=e.color_write_alpha),this.pipeState.fragmentShader=Reflect.field(kha_Shaders,StringTools.replace(e.fragment_shader,".","_")),this.pipeState.vertexShader=Reflect.field(kha_Shaders,StringTools.replace(e.vertex_shader,".","_")),null!=e.geometry_shader&&(this.pipeState.geometryShader=Reflect.field(kha_Shaders,StringTools.replace(e.geometry_shader,".","_"))),null!=e.tesscontrol_shader&&(this.pipeState.tessellationControlShader=Reflect.field(kha_Shaders,StringTools.replace(e.tesscontrol_shader,".","_"))),null!=e.tesseval_shader&&(this.pipeState.tessellationEvaluationShader=Reflect.field(kha_Shaders,StringTools.replace(e.tesseval_shader,".","_"))),null!=a&&null!=a.cull_mode&&(this.pipeState.cullMode=this.getCullMode(a.cull_mode)),this.pipeState.compile();for(var i=0,s=e.constants;i<s.length;){var n=s[i];++i,this.addConstant(n)}for(var _=0,o=e.texture_units;_<o.length;){var h=o[_];++_,this.addTexture(h)}};$hxClasses["iron.data.ShaderContext"]=iron_data_ShaderContext,iron_data_ShaderContext.__name__=["iron","data","ShaderContext"],iron_data_ShaderContext.prototype={delete:function(){this.pipeState.fragmentShader.delete(),this.pipeState.vertexShader.delete(),this.pipeState.delete()},getCompareMode:function(e){switch(e){case"always":return kha_graphics4_CompareMode.Always;case"equal":return kha_graphics4_CompareMode.Equal;case"greater":return kha_graphics4_CompareMode.Greater;case"greater_equal":return kha_graphics4_CompareMode.GreaterEqual;case"less":return kha_graphics4_CompareMode.Less;case"less_equal":return kha_graphics4_CompareMode.LessEqual;case"never":return kha_graphics4_CompareMode.Never;case"not_equal":return kha_graphics4_CompareMode.NotEqual;default:return kha_graphics4_CompareMode.Less}},getCullMode:function(e){switch(e){case"clockwise":return kha_graphics4_CullMode.Clockwise;case"none":return kha_graphics4_CullMode.None;default:return kha_graphics4_CullMode.CounterClockwise}},getBlendingOperation:function(e){switch(e){case"add":return kha_graphics4_BlendingOperation.Add;case"max":return kha_graphics4_BlendingOperation.Max;case"min":return kha_graphics4_BlendingOperation.Min;case"reverse_substract":return kha_graphics4_BlendingOperation.ReverseSubtract;case"substract":return kha_graphics4_BlendingOperation.Subtract;default:return kha_graphics4_BlendingOperation.Add}},getBlendingFactor:function(e){switch(e){case"blend_one":return kha_graphics4_BlendingFactor.BlendOne;case"blend_zero":return kha_graphics4_BlendingFactor.BlendZero;case"destination_alpha":return kha_graphics4_BlendingFactor.DestinationAlpha;case"destination_color":return kha_graphics4_BlendingFactor.DestinationColor;case"inverse_destination_alpha":return kha_graphics4_BlendingFactor.InverseDestinationAlpha;case"inverse_destination_color":return kha_graphics4_BlendingFactor.InverseDestinationColor;case"inverse_source_alpha":return kha_graphics4_BlendingFactor.InverseSourceAlpha;case"inverse_source_color":return kha_graphics4_BlendingFactor.InverseSourceColor;case"source_alpha":return kha_graphics4_BlendingFactor.SourceAlpha;case"source_color":return kha_graphics4_BlendingFactor.SourceColor;default:return kha_graphics4_BlendingFactor.Undefined}},getTextureAddresing:function(e){switch(e){case"mirror":return kha_graphics4_TextureAddressing.Mirror;case"repeat":return kha_graphics4_TextureAddressing.Repeat;default:return kha_graphics4_TextureAddressing.Clamp}},getTextureFilter:function(e){switch(e){case"linear":return kha_graphics4_TextureFilter.LinearFilter;case"point":return kha_graphics4_TextureFilter.PointFilter;default:return kha_graphics4_TextureFilter.AnisotropicFilter}},getMipmapFilter:function(e){switch(e){case"no":return kha_graphics4_MipMapFilter.NoMipFilter;case"point":return kha_graphics4_MipMapFilter.PointMipFilter;default:return kha_graphics4_MipMapFilter.LinearMipFilter}},addConstant:function(e){this.constants.push(this.pipeState.getConstantLocation(e.name))},addTexture:function(e){this.textureUnits.push(this.pipeState.getTextureUnit(e.name))},setTextureParameters:function(e,t,a){e.setTextureParameters(this.textureUnits[t],null==a.u_addressing?kha_graphics4_TextureAddressing.Repeat:this.getTextureAddresing(a.u_addressing),null==a.v_addressing?kha_graphics4_TextureAddressing.Repeat:this.getTextureAddresing(a.v_addressing),null==a.min_filter?kha_graphics4_TextureFilter.LinearFilter:this.getTextureFilter(a.min_filter),null==a.mag_filter?kha_graphics4_TextureFilter.LinearFilter:this.getTextureFilter(a.mag_filter),null==a.mipmap_filter?kha_graphics4_MipMapFilter.NoMipFilter:this.getMipmapFilter(a.mipmap_filter))},__class__:iron_data_ShaderContext};var iron_data_WorldData=function(e,t){this.vec=new iron_math_Vec4,this.shirr=null;var a=this;iron_data_Data.call(this),this.raw=e,this.name=e.name,iron_data_Data.getImage(e.brdf,function(r){if(a.brdf=r,null!=e.probes&&e.probes.length>0){a.probes=[];for(var i=0,s=e.probes;i<s.length;){var n=s[i];++i,new iron_data_Probe(n,function(r){a.probes.push(r),a.probes.length==e.probes.length&&t(a)})}}else t(a)})};$hxClasses["iron.data.WorldData"]=iron_data_WorldData,iron_data_WorldData.__name__=["iron","data","WorldData"],iron_data_WorldData.parse=function(e,t,a){iron_data_Data.getSceneRaw(e,function(e){var r=iron_data_Data.getWorldRawByName(e.world_datas,t);null==r&&(haxe_Log.trace('World data "'+t+'" not found!',{fileName:"WorldData.hx",lineNumber:43,className:"iron.data.WorldData",methodName:"parse"}),a(null)),new iron_data_WorldData(r,a)})},iron_data_WorldData.__super__=iron_data_Data,iron_data_WorldData.prototype=$extend(iron_data_Data.prototype,{getGlobalProbe:function(){return this.probes[0]},getLocalProbe:function(e){return e<this.probes.length?this.probes[e]:null},getSHIrradiance:function(){if(null==this.shirr){this.shirr=new Array(162);for(var e=0,t=this.probes.length;e<t;)for(var a=e++,r=this.probes[a],i=0,s=r.irradiance.length;i<s;){var n=i++;this.shirr[n+27*a]=r.irradiance[n]}}return this.shirr},getProbeID:function(e){this.vec.x=e.matrix.self._30,this.vec.y=e.matrix.self._31,this.vec.z=e.matrix.self._32;for(var t=e.size,a=1,r=this.probes.length;a<r;){var i=a++,s=this.probes[i];if(!(this.vec.x+t.x/2<s.volumeMin.x||this.vec.x-t.x/2>s.volumeMax.x||this.vec.y+t.y/2<s.volumeMin.y||this.vec.y-t.y/2>s.volumeMax.y||this.vec.z+t.z/2<s.volumeMin.z||this.vec.z-t.z/2>s.volumeMax.z))return i}return 0},getProbeVolumeCenter:function(e){return this.probes[this.getProbeID(e)].volumeCenter},getProbeVolumeSize:function(e){return this.probes[this.getProbeID(e)].volume},getProbeStrength:function(e){return this.probes[this.getProbeID(e)].raw.strength},getProbeBlending:function(e){return this.probes[this.getProbeID(e)].raw.blending},__class__:iron_data_WorldData});var iron_data_Probe=function(e,t){var a=this;this.raw=e,this.setIrradiance(function(r){a.irradiance=r,null!=e.radiance?iron_data_Data.getImage(e.radiance,function(r){a.radiance=r;for(var i=[];i.length<e.radiance_mipmaps;)i.push(null);for(var s=e.radiance.substring(e.radiance.length-4),n=e.radiance.substring(0,e.radiance.length-4),_=0,o=0,h=e.radiance_mipmaps;o<h;){var l=[o++];iron_data_Data.getImage(n+"_"+l[0]+s,function(r){return function(s){i[r[0]]=s,++_,_==e.radiance_mipmaps&&(a.radiance.setMipmaps(i),a.mipsSet(t))}}(l),!0)}}):a.mipsSet(t)})};$hxClasses["iron.data.Probe"]=iron_data_Probe,iron_data_Probe.__name__=["iron","data","Probe"],iron_data_Probe.prototype={mipsSet:function(e){this.volume=new iron_math_Vec4(this.raw.volume[0],this.raw.volume[1],this.raw.volume[2]),this.volumeCenter=new iron_math_Vec4(this.raw.volume_center[0],this.raw.volume_center[1],this.raw.volume_center[2]),this.volumeMin=new iron_math_Vec4(this.volumeCenter.x-this.volume.x,this.volumeCenter.y-this.volume.y,this.volumeCenter.z-this.volume.z),this.volumeMax=new iron_math_Vec4(this.volumeCenter.x+this.volume.x,this.volumeCenter.y+this.volume.y,this.volumeCenter.z+this.volume.z),e(this)},setIrradiance:function(e){""==this.raw.irradiance?e([1.0281457342829743,1.1617608778901902,1.3886220898440544,-.13044863139637752,-.2794659158733846,-.5736106907295643,.04065421813873111,.0434367391348577,.03567450494792305,.10964557605577738,.1129839085793664,.11261660812141877,-.08271974283263238,-.08068091195339556,-.06432614970480094,-.12517787967665814,-.11638582546310804,-.09743696224655113,.20068697715947176,.2158788783296805,.2109374396869599,.19636637427150455,.19445523113118082,.17825330699680575,.31440860839538637,.33041120060402407,.30867788630062676]):iron_data_Data.getBlob(this.raw.irradiance+".arm",function(t){var a=t.toBytes(),r=null;null==r&&(r=iron_system_msgpack_DecodeOption.AsObject);var i=new iron_system_msgpack_Decoder(a,r).o;e(i.irradiance)})},__class__:iron_data_Probe};var iron_math_Ray=function(e,t){this.origin=null==e?new iron_math_Vec4:e,this.direction=null==t?new iron_math_Vec4:t};$hxClasses["iron.math.Ray"]=iron_math_Ray,iron_math_Ray.__name__=["iron","math","Ray"],iron_math_Ray.prototype={at:function(e){return(new iron_math_Vec4).setFrom(this.direction).mult(e).add(this.origin)},distanceToPoint:function(e){var t=new iron_math_Vec4,a=t.subvecs(e,this.origin).dot(this.direction);return a<0?this.origin.distanceTo(e):(t.setFrom(this.direction).mult(a).add(this.origin),t.distanceTo(e))},intersectsSphere:function(e,t){return this.distanceToPoint(e)<=t},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0==t||e.normal.dot(this.direction)*t<0},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0==t)return 0==e.distanceToPoint(this.origin)?0:-1;var a=-(this.origin.dot(e.normal)+e.constant)/t;return a>=0?a:-1},intersectPlane:function(e){var t=this.distanceToPlane(e);return t==-1?null:this.at(t)},intersectsBox:function(e,t){return null!=this.intersectBox(e,t)},intersectBox:function(e,t){var a,r,i,s,n,_,o=t.x/2,h=t.x/2,l=t.x/2,c=e.x-o,d=e.y-h,u=e.z-l,g=e.x+o,p=e.y+h,m=e.z+l,f=1/this.direction.x,v=1/this.direction.y,k=1/this.direction.z,y=this.origin;return f>=0?(a=(c-y.x)*f,r=(g-y.x)*f):(a=(g-y.x)*f,r=(c-y.x)*f),v>=0?(i=(d-y.y)*v,s=(p-y.y)*v):(i=(p-y.y)*v,s=(d-y.y)*v),a>s||i>r?null:((i>a||a!=a)&&(a=i),(s<r||r!=r)&&(r=s),k>=0?(n=(u-y.z)*k,_=(m-y.z)*k):(n=(m-y.z)*k,_=(u-y.z)*k),a>_||n>r?null:((n>a||a!=a)&&(a=n),(_<r||r!=r)&&(r=_),r<0?null:this.at(a>=0?a:r)))},intersectTriangle:function(e,t,a,r){var i=new iron_math_Vec4,s=new iron_math_Vec4,n=new iron_math_Vec4,_=new iron_math_Vec4;s.subvecs(t,e),n.subvecs(a,e),_.crossvecs(s,n);var o,h=this.direction.dot(_);if(h>0){if(r)return null;o=1}else{if(!(h<0))return null;o=-1,h=-h}i.subvecs(this.origin,e);var l=o*this.direction.dot(n.crossvecs(i,n));if(l<0)return null;var c=o*this.direction.dot(s.cross(i));if(c<0)return null;if(l+c>h)return null;var d=-o*i.dot(_);return d<0?null:this.at(d/h)},__class__:iron_math_Ray};var iron_math_Plane=function(){this.constant=0,this.normal=new iron_math_Vec4(1,0,0)};$hxClasses["iron.math.Plane"]=iron_math_Plane,iron_math_Plane.__name__=["iron","math","Plane"],iron_math_Plane.prototype={distanceToPoint:function(e){return this.normal.dot(e)+this.constant},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.setFrom(e),this.constant=-t.dot(this.normal),this},__class__:iron_math_Plane};var iron_math_RayCaster=function(){};$hxClasses["iron.math.RayCaster"]=iron_math_RayCaster,iron_math_RayCaster.__name__=["iron","math","RayCaster"],iron_math_RayCaster.getRay=function(e,t,a){var r=new iron_math_Vec4,i=new iron_math_Vec4;return iron_math_RayCaster.getDirection(r,i,e,t,a),new iron_math_Ray(r,i)},iron_math_RayCaster.getDirection=function(e,t,a,r,i){e.x=a/kha_System.windowWidth()*2-1,e.y=2*-(r/kha_System.windowHeight())+1,e.z=-1,t.x=e.x,t.y=e.y,t.z=0,e.unproject(i.P,i.V),t.unproject(i.P,i.V),t.sub(e),t.normalize(),t.x*=i.data.raw.far_plane,t.y*=i.data.raw.far_plane,t.z*=i.data.raw.far_plane},iron_math_RayCaster.boxIntersect=function(e,t,a,r){return iron_math_RayCaster.getRay(t,a,r).intersectBox(new iron_math_Vec4(e.matrix.self._30,e.matrix.self._31,e.matrix.self._32),new iron_math_Vec4(e.size.x,e.size.y,e.size.z))},iron_math_RayCaster.getClosestBoxIntersect=function(e,t,a,r){for(var i=[],s=0;s<e.length;){var n=e[s];++s,null!=iron_math_RayCaster.boxIntersect(n,t,a,r)&&i.push(n)}if(0==i.length)return null;for(var _=null,o=1/0,h=0;h<i.length;){var l=i[h];++h;var c=l.loc,d=r.transform.loc,u=c.x,g=c.y,p=c.z,m=d.x,f=d.y,v=d.z,k=u-m,y=g-f,b=p-v,I=Math.sqrt(k*k+y*y+b*b);I<o&&(o=I,_=l)}return _},iron_math_RayCaster.planeIntersect=function(e,t,a,r,i){var s=iron_math_RayCaster.getRay(a,r,i),n=new iron_math_Plane;return n.setFromNormalAndCoplanarPoint(e,t),s.intersectPlane(n)},iron_math_RayCaster.getPlaneUV=function(e,t,a,r){var i=e.data.mesh.normals,s=new iron_math_Vec4(i[0],i[1],i[2]),n=iron_math_Mat4.identity();n.multmat2(e.transform.matrix),n.getInverse(n),n.transpose3x3(),n.self._30=n.self._31=n.self._32=0,s.applymat(n),s.normalize();var _=e.transform.loc,o=iron_math_RayCaster.planeIntersect(s,_,t,a,r);if(null!=o){var h=s.x,l=s.y,c=s.z,d=h>=1e-4&&l>=1e-4?new iron_math_Vec4(l,-h,0):new iron_math_Vec4(c,-h,0);d.normalize();var u=s.clone();u.cross(d),o.sub(_);var g=d.dot(o),p=u.dot(o),m=e.transform.size;return new kha_math_FastVector2(g/(m.x/2)*-1*.5+.5,p/(m.z>m.y?m.z/2:m.y/2)*.5+.5)}return null};var iron_object_Animation=function(e,t,a,r,i,s,n){this.nor=new iron_math_Vec4,this.pos=new iron_math_Vec4,this.bm=iron_math_Mat4.identity(),this.m=iron_math_Mat4.identity(),this.boneTimeIndices=new haxe_ds_ObjectMap,this.boneMats=new haxe_ds_ObjectMap,this.player=null,this.player=new iron_object_Player(e,t,a,r,i,s,n),iron_Scene.active.animations.push(this)};$hxClasses["iron.object.Animation"]=iron_object_Animation,iron_object_Animation.__name__=["iron","object","Animation"],iron_object_Animation.setupBoneAnimation=function(e,t,a,r,i,s,n,_,o){var h=new iron_object_Animation(t,a,r,i,s,n,_);if(h.data=e,h.isSkinned=e.isSkinned,h.isSampled=!1,h.isSkinned){h.skinBuffer=new Array(8*o);for(var l=0,c=h.skinBuffer.length;l<c;)h.skinBuffer[l++]=0;for(var d=0,u=e.mesh.skeletonBones;d<u.length;){var g=u[d];++d,h.boneMats.set(g,iron_math_Mat4.fromArray(g.transform.values)),h.boneTimeIndices.set(g,0)}}return h},iron_object_Animation.parseAnimationTransforms=function(e,t){for(var a=0;a<t.length;){var r=t[a];switch(++a,r.type){case"rotation":e.setRotation(r.values[0],r.values[1],r.values[2]);break;case"rotation_x":e.setRotation(r.value,0,0);break;case"rotation_y":e.setRotation(0,r.value,0);break;case"rotation_z":e.setRotation(0,0,r.value);break;case"scale":e.scale.set(r.values[0],r.values[1],r.values[2]);break;case"scale_x":e.scale.x=r.value;break;case"scale_y":e.scale.x=r.value;break;case"scale_z":e.scale.x=r.value;break;case"translation":e.loc.set(r.values[0],r.values[1],r.values[2]);break;case"translation_x":e.loc.x=r.value;break;case"translation_y":e.loc.y=r.value;break;case"translation_z":e.loc.z=r.value}}e.buildMatrix()},iron_object_Animation.setupObjectAnimation=function(e,t,a,r,i,s,n,_){var o=new iron_object_Animation(t,a,r,i,s,n,_);return o.isSkinned=!1,o.object=e,null!=e.raw.animation_transforms?(o.isSampled=!1,iron_object_Animation.parseAnimationTransforms(e.transform,e.raw.animation_transforms)):o.isSampled=!0,o},iron_object_Animation.prototype={remove:function(){HxOverrides.remove(iron_Scene.active.animations,this)},update:function(e){this.player.paused||(this.player.animTime+=e*this.player.speed*this.player.dir,this.isSkinned?(this.updateBoneAnim(),this.updateSkin()):this.updateObjectAnim())},updateObjectAnim:function(){this.isSampled?(this.updateAnimSampled(this.object.raw.animation,this.object.transform.matrix),this.object.transform.matrix.decompose(this.object.transform.loc,this.object.transform.rot,this.object.transform.scale)):(this.updateAnimNonSampled(this.object.raw.animation,this.object.transform),this.object.transform.buildMatrix())},updateBoneAnim:function(){for(var e=0,t=this.data.mesh.skeletonBones;e<t.length;){var a=t[e];++e,this.updateAnimSampled(a.animation,this.boneMats.h[a.__id__])}},interpolateLinear:function(e,t,a){return(e-t)/(a-t)},interpolateBezier:function(e,t,a){var r=(e-t)/(a-t);return 1==r?1:1-Math.pow(2,-10*r)},interpolateTcb:function(){},updateAnimNonSampled:function(e,t){if(null!=e)for(var a=e.begin,r=e.end-a,i=0,s=e.tracks;i<s.length;){var n=s[i];if(++i,!(this.player.timeIndex>=n.time.values.length)){if(this.player.animTime>r||this.player.animTime<0){if(!this.player.current.loop)return void(this.player.paused=!0);this.player.current.reflect&&(this.player.dir*=-1),this.player.animTime=this.player.dir>0?0:r,this.player.timeIndex=this.player.dir>0?0:n.time.values.length-1}var _=this.player.animTime+a;if(this.player.dir>0)for(;this.player.timeIndex<n.time.values.length-2&&_>n.time.values[this.player.timeIndex+1];)this.player.timeIndex++;else for(;this.player.timeIndex>1&&_<n.time.values[this.player.timeIndex-1];)this.player.timeIndex--;var o=this.player.timeIndex,h=n.time.values[o],l=n.time.values[o+this.player.dir],c=$bind(this,this.interpolateLinear);switch(n.curve){case"bezier":c=$bind(this,this.interpolateBezier);break;case"linear":c=$bind(this,this.interpolateLinear)}var d=this.player.dir>0?c(_,h,l):c(_,l,h),u=n.value.values[o],g=n.value.values[o+this.player.dir],p=1-d,m=this.player.dir>0?u*p+g*d:u*d+g*p;switch(n.target){case"xloc":t.loc.x=m;break;case"xrot":t.rotate(iron_math_Vec4.xAxis(),m/360);break;case"xscl":t.scale.x=m;break;case"yloc":t.loc.y=m;break;case"yrot":t.rotate(iron_math_Vec4.yAxis(),m/360);break;case"yscl":t.scale.y=m;break;case"zloc":t.loc.z=m;break;case"zrot":t.rotate(iron_math_Vec4.zAxis(),-m/360);break;case"zscl":t.scale.z=m}}}},checkTimeIndex:function(e,t){return e.dir>0?e.timeIndex+1<t.length&&e.animTime>t[e.timeIndex+1]:e.timeIndex-1>0&&e.animTime<t[e.timeIndex-1]},checkTrackEnd:function(e,t){return e.dir>0?!(e.timeIndex<t.time.values.length-1)||e.timeIndex>=e.current.end:!(e.timeIndex>1)||e.timeIndex<=e.current.start},updateAnimSampled:function(e,t){if(null!=e){var a=e.tracks[0];if(this.player.dirty){if(this.player.dirty=!1,0==this.player.current.frames)return this.player.paused=!0,void(this.isSkinned?this.setBoneAnimFrame(this.player.current.start):this.setObjectAnimFrame(this.player.current.start));this.player.current.reflect&&(this.player.dir*=-1),this.player.timeIndex=this.player.dir>0?this.player.current.start:this.player.current.end,this.player.animTime=a.time.values[this.player.timeIndex]}for(;;){var r=this.player,i=a.time.values;if(!(r.dir>0?r.timeIndex+1<i.length&&r.animTime>i[r.timeIndex+1]:r.timeIndex-1>0&&r.animTime<i[r.timeIndex-1]))break;this.player.timeIndex+=this.player.dir}this.player.timeIndex>=a.time.values.length&&(this.player.timeIndex=a.time.values.length-1);var s=this.player;if(s.dir>0?s.timeIndex>=a.time.values.length-1||s.timeIndex>=s.current.end:s.timeIndex<=1||s.timeIndex<=s.current.start)return this.player.current.loop?this.player.dirty=!0:this.player.paused=!0,void(null!=this.player.onTrackComplete&&this.player.onTrackComplete());var n=this.player.animTime,_=this.player.timeIndex,o=a.time.values[_],h=(n-o)/(a.time.values[_+this.player.dir]-o),l=a.value.values[_],c=a.value.values[_+this.player.dir],d=iron_math_Mat4.fromArray(l),u=iron_math_Mat4.fromArray(c),g=new iron_math_Vec4(d.self._30,d.self._31,d.self._32,d.self._33),p=new iron_math_Vec4(u.self._30,u.self._31,u.self._32,u.self._33),m=d.getScale(),f=u.getScale(),v=d.getQuat(),k=u.getQuat(),y=iron_math_Vec4.lerp(g,p,1-h),b=iron_math_Vec4.lerp(m,f,h);iron_math_Quat.lerp(v,k,h).toMat(t),t.scale(b),t.self._30=y.x,t.self._31=y.y,t.self._32=y.z}},setBoneAnimFrame:function(e){for(var t=0,a=this.data.mesh.skeletonBones;t<a.length;){var r=a[t];++t;var i=r.animation;if(null!=i){var s=i.tracks[0].value.values[e];this.boneMats.set(r,iron_math_Mat4.fromArray(s))}}this.updateSkin()},setObjectAnimFrame:function(e){var t=this.object.raw.animation;if(null!=t){var a=t.tracks[0].value.values[e];this.object.transform.matrix=iron_math_Mat4.fromArray(a)}},updateSkin:function(){this.updateSkinGpu()},updateSkinGpu:function(){for(var e=this.data.mesh.skeletonBones,t=0,a=e.length;t<a;){var r=t++;this.bm.setFrom(this.data.mesh.skinTransform),this.bm.multmat2(this.data.mesh.skeletonTransformsI[r]);var i=iron_math_Mat4.identity();i.setFrom(this.boneMats.h[e[r].__id__]);for(var s=e[r].parent;null!=s;){var n=this.boneMats.h[s.__id__];null==n&&(n=iron_math_Mat4.fromArray(s.transform.values)),
i.multmat2(n),s=s.parent}this.bm.multmat2(i),this.bm.decompose(iron_object_Animation.vpos,iron_object_Animation.q1,iron_object_Animation.vscl),iron_object_Animation.q1.normalize(),iron_object_Animation.q2.set(iron_object_Animation.vpos.x,iron_object_Animation.vpos.y,iron_object_Animation.vpos.z,0),iron_object_Animation.q2.multquats(iron_object_Animation.q2,iron_object_Animation.q1),iron_object_Animation.q2.x*=.5,iron_object_Animation.q2.y*=.5,iron_object_Animation.q2.z*=.5,iron_object_Animation.q2.w*=.5,this.skinBuffer[8*r]=iron_object_Animation.q1.x,this.skinBuffer[8*r+1]=iron_object_Animation.q1.y,this.skinBuffer[8*r+2]=iron_object_Animation.q1.z,this.skinBuffer[8*r+3]=iron_object_Animation.q1.w,this.skinBuffer[8*r+4]=iron_object_Animation.q2.x,this.skinBuffer[8*r+5]=iron_object_Animation.q2.y,this.skinBuffer[8*r+6]=iron_object_Animation.q2.z,this.skinBuffer[8*r+7]=iron_object_Animation.q2.w}},updateSkinCpu:function(){for(var e=this.data.mesh.vertexBuffer.lock(),t=this.data.mesh.structLength,a=0,r=0,i=e.length/t|0;r<i;){for(var s=r++,n=this.data.mesh.skinBoneCounts[s],_=[],o=[],h=a,l=a+n;h<l;){var c=h++;_.push(this.data.mesh.skinBoneIndices[c]),o.push(this.data.mesh.skinBoneWeights[c])}a+=n,this.pos.set(0,0,0),this.nor.set(0,0,0);for(var d=0;d<n;){var u=d++,g=_[u],p=o[u],m=this.data.mesh.skeletonBones[g];this.m.initTranslate(this.data.mesh.positions[3*s],this.data.mesh.positions[3*s+1],this.data.mesh.positions[3*s+2]),this.m.multmat2(this.data.mesh.skinTransform),this.m.multmat2(this.data.mesh.skeletonTransformsI[g]),this.bm.setFrom(this.boneMats.h[m.__id__]);for(var f=m.parent;null!=f;){var v=this.boneMats.h[f.__id__];null==v&&(v=iron_math_Mat4.fromArray(f.transform.values)),this.bm.multmat2(v),f=f.parent}this.m.multmat2(this.bm),this.m.mult(p);var k=this.m;this.pos.add(new iron_math_Vec4(k.self._30,k.self._31,k.self._32,k.self._33)),this.m.getInverse(this.bm),this.m.multmat2(this.data.mesh.skeletonTransforms[g]),this.m.multmat2(this.data.mesh.skinTransformI),this.m.translate(this.data.mesh.normals[3*s],this.data.mesh.normals[3*s+1],this.data.mesh.normals[3*s+2]),this.m.mult(p);var y=this.m;this.nor.add(new iron_math_Vec4(y.self._30,y.self._31,y.self._32,y.self._33))}e[s*t]=this.pos.x,e[s*t+1]=this.pos.y,e[s*t+2]=this.pos.z,e[s*t+3]=this.nor.x,e[s*t+4]=this.nor.y,e[s*t+5]=this.nor.z}this.data.mesh.vertexBuffer.unlock()},__class__:iron_object_Animation};var iron_object_Player=function(e,t,a,r,i,s,n){this.paused=!1,this.onTrackComplete=null,this.tracks=new haxe_ds_StringMap,this.dirty=!1,this.timeIndex=0,this.animTime=0;for(var _=0,o=t.length;_<o;){var h=_++;this.addTrack(t[h],a[h],r[h],i[h],s[h],n[h])}this.play(e)};$hxClasses["iron.object.Player"]=iron_object_Player,iron_object_Player.__name__=["iron","object","Player"],iron_object_Player.prototype={play:function(e,t){this.onTrackComplete=t;var a=this.tracks;this.current=null!=__map_reserved[e]?a.getReserved(e):a.h[e],this.dirty=!0,this.paused=!1,this.dir=this.current.speed>=0?1:-1,this.current.reflect&&(this.dir*=-1),this.speed=Math.abs(this.current.speed)},pause:function(){this.paused=!0},addTrack:function(e,t,a,r,i,s){var n=new iron_object_Track(t,a,r,i,s),_=this.tracks;null!=__map_reserved[e]?_.setReserved(e,n):_.h[e]=n},__class__:iron_object_Player};var iron_object_Track=function(e,t,a,r,i){this.start=e,this.end=t,this.frames=t-e,this.speed=a,this.loop=r,this.reflect=i};$hxClasses["iron.object.Track"]=iron_object_Track,iron_object_Track.__name__=["iron","object","Track"],iron_object_Track.prototype={__class__:iron_object_Track};var iron_object_CameraObject=function(e){this.frustumPlanes=null,this.prevV=null,iron_object_Object.call(this),this.data=e,this.renderPath=new iron_data_RenderPath(this),this.nearPlane=e.raw.near_plane,this.farPlane=e.raw.far_plane;var t=e.raw.fov;if("perspective"==e.raw.type){var a=kha_System.windowWidth(),r=kha_System.windowHeight();this.P=iron_math_Mat4.perspective(t,a/r,this.nearPlane,this.farPlane)}else"orthographic"==e.raw.type&&(this.P=iron_math_Mat4.orthogonal(-10,10,-6,6,-this.farPlane,this.farPlane));if(this.V=iron_math_Mat4.identity(),this.VP=iron_math_Mat4.identity(),e.raw.frustum_culling){this.frustumPlanes=[];for(var i=0;i<6;)++i,this.frustumPlanes.push(new iron_object_FrustumPlane)}iron_Scene.active.cameras.push(this)};$hxClasses["iron.object.CameraObject"]=iron_object_CameraObject,iron_object_CameraObject.__name__=["iron","object","CameraObject"],iron_object_CameraObject.buildViewFrustum=function(e,t){var a=t[0],r=e.self._03+e.self._00,i=e.self._13+e.self._10,s=e.self._23+e.self._20,n=e.self._33+e.self._30;a.normal.set(r,i,s),a.constant=n;var _=t[1],o=e.self._03-e.self._00,h=e.self._13-e.self._10,l=e.self._23-e.self._20,c=e.self._33-e.self._30;_.normal.set(o,h,l),_.constant=c;var d=t[2],u=e.self._03-e.self._01,g=e.self._13-e.self._11,p=e.self._23-e.self._21,m=e.self._33-e.self._31;d.normal.set(u,g,p),d.constant=m;var f=t[3],v=e.self._03+e.self._01,k=e.self._13+e.self._11,y=e.self._23+e.self._21,b=e.self._33+e.self._31;f.normal.set(v,k,y),f.constant=b;var I=t[4],S=e.self._02,x=e.self._12,C=e.self._22,w=e.self._32;I.normal.set(S,x,C),I.constant=w;var B=t[5],A=e.self._03-e.self._02,T=e.self._13-e.self._12,M=e.self._23-e.self._22,V=e.self._33-e.self._32;B.normal.set(A,T,M),B.constant=V;for(var D=0;D<t.length;){var F=t[D];++D,F.normalize()}},iron_object_CameraObject.sphereInFrustum=function(e,t,a,r,i,s){null==s&&(s=0),null==i&&(i=0),null==r&&(r=0),null==a&&(a=1);for(var n=t.radius*a,_=0;_<e.length;){var o=e[_];if(++_,iron_object_CameraObject.sphereCenter.set(t.matrix.self._30+r,t.matrix.self._31+i,t.matrix.self._32+s),o.distanceToSphere(iron_object_CameraObject.sphereCenter,n)+2*n<0)return!1}return!0},iron_object_CameraObject.__super__=iron_object_Object,iron_object_CameraObject.prototype=$extend(iron_object_Object.prototype,{remove:function(){HxOverrides.remove(iron_Scene.active.cameras,this),iron_object_Object.prototype.remove.call(this)},renderFrame:function(e,t,a){0!=a.length&&(this.buildMatrix(),null==this.prevV&&(this.prevV=iron_math_Mat4.identity(),this.prevV.setFrom(this.V)),this.renderPath.renderFrame(e,t,a),this.prevV.setFrom(this.V))},buildMatrix:function(){this.transform.buildMatrix(),this.V.getInverse(this.transform.matrix),this.data.raw.frustum_culling&&(this.VP.multmats(this.P,this.V),iron_object_CameraObject.buildViewFrustum(this.VP,this.frustumPlanes))},rotate:function(e,t){var a=new iron_math_Quat;a.fromAxisAngle(e,t),this.transform.rot.multquats(a,this.transform.rot),this.transform.dirty=!0,this.buildMatrix()},move:function(e,t){e.mult(t),this.transform.loc.add(e),this.transform.dirty=!0,this.buildMatrix()},right:function(){return new iron_math_Vec4(this.transform.local.self._00,this.transform.local.self._01,this.transform.local.self._02)},up:function(){return new iron_math_Vec4(this.transform.local.self._10,this.transform.local.self._11,this.transform.local.self._12)},look:function(){return new iron_math_Vec4(-this.transform.local.self._20,-this.transform.local.self._21,-this.transform.local.self._22)},rightAbs:function(){return new iron_math_Vec4(this.transform.matrix.self._00,this.transform.matrix.self._01,this.transform.matrix.self._02)},upAbs:function(){return new iron_math_Vec4(this.transform.matrix.self._10,this.transform.matrix.self._11,this.transform.matrix.self._12)},lookAbs:function(){return new iron_math_Vec4(-this.transform.matrix.self._20,-this.transform.matrix.self._21,-this.transform.matrix.self._22)},__class__:iron_object_CameraObject});var iron_object_FrustumPlane=function(){this.constant=0,this.normal=new iron_math_Vec4(1,0,0)};$hxClasses["iron.object.FrustumPlane"]=iron_object_FrustumPlane,iron_object_FrustumPlane.__name__=["iron","object","FrustumPlane"],iron_object_FrustumPlane.prototype={normalize:function(){var e=this.normal,t=1/Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);this.normal.mult(t),this.constant*=t},distanceToSphere:function(e,t){return this.normal.dot(e)+this.constant-t},setComponents:function(e,t,a,r){this.normal.set(e,t,a),this.constant=r},__class__:iron_object_FrustumPlane};var iron_object_Constraint=function(e){this.target=null,this.raw=e};$hxClasses["iron.object.Constraint"]=iron_object_Constraint,iron_object_Constraint.__name__=["iron","object","Constraint"],iron_object_Constraint.prototype={apply:function(e){if(null==this.target&&(this.target=iron_Scene.active.getChild(this.raw.target).transform),"COPY_LOCATION"==this.raw.type){if(this.raw.use_x&&(e.matrix.self._30=this.target.loc.x,this.raw.use_offset)){var t=e.matrix;t.self._30=t.self._30+e.loc.x}if(this.raw.use_y&&(e.matrix.self._31=this.target.loc.y,this.raw.use_offset)){var a=e.matrix;a.self._31=a.self._31+e.loc.y}if(this.raw.use_z&&(e.matrix.self._32=this.target.loc.z,this.raw.use_offset)){var r=e.matrix;r.self._32=r.self._32+e.loc.z}}},__class__:iron_object_Constraint};var iron_object_DecalObject=function(e){this.cachedContext=null,iron_object_Object.call(this),this.material=e,iron_Scene.active.decals.push(this)};$hxClasses["iron.object.DecalObject"]=iron_object_DecalObject,iron_object_DecalObject.__name__=["iron","object","DecalObject"],iron_object_DecalObject.__super__=iron_object_Object,iron_object_DecalObject.prototype=$extend(iron_object_Object.prototype,{remove:function(){HxOverrides.remove(iron_Scene.active.decals,this),iron_object_Object.prototype.remove.call(this)},render:function(e,t,a,r,i){if(null==this.cachedContext&&(this.cachedContext=new iron_object_CachedMeshContext,null!=this.material.raw.skip_context&&this.material.raw.skip_context==t&&(this.cachedContext.enabled=!1),this.cachedContext.enabled)){this.cachedContext.materialContexts=[];for(var s=0,n=this.material.raw.contexts.length;s<n;){var _=s++;if(this.material.raw.contexts[_].name==t){this.cachedContext.materialContexts.push(this.material.contexts[_]);break}}this.cachedContext.context=this.material.shader.getContext(t)}if(this.cachedContext.enabled){var o=this.cachedContext.materialContexts[0],h=this.cachedContext.context;e.setPipeline(h.pipeState),iron_object_Uniforms.setConstants(e,h,this,a,r,i),iron_object_Uniforms.setMaterialConstants(e,h,o)}},__class__:iron_object_DecalObject});var iron_object_LampObject=function(e){this.frustumPlanes=null,this.V=null,iron_object_Object.call(this),this.data=e,iron_Scene.active.lamps.push(this)};$hxClasses["iron.object.LampObject"]=iron_object_LampObject,iron_object_LampObject.__name__=["iron","object","LampObject"],iron_object_LampObject.__super__=iron_object_Object,iron_object_LampObject.prototype=$extend(iron_object_Object.prototype,{remove:function(){HxOverrides.remove(iron_Scene.active.lamps,this),iron_object_Object.prototype.remove.call(this)},buildMatrices:function(e){if(this.transform.buildMatrix(),this.V=iron_math_Mat4.identity(),this.V.getInverse(this.transform.matrix),e.data.raw.frustum_culling){if(null==this.frustumPlanes){this.frustumPlanes=[];for(var t=0;t<6;)++t,this.frustumPlanes.push(new iron_object_FrustumPlane);null==iron_object_LampObject.VP&&(iron_object_LampObject.VP=iron_math_Mat4.identity())}iron_object_LampObject.VP.multmats(e.P,this.V),iron_object_CameraObject.buildViewFrustum(iron_object_LampObject.VP,this.frustumPlanes)}},right:function(){return new iron_math_Vec4(this.V.self._00,this.V.self._10,this.V.self._20)},up:function(){return new iron_math_Vec4(this.V.self._01,this.V.self._11,this.V.self._21)},look:function(){return new iron_math_Vec4(this.V.self._02,this.V.self._12,this.V.self._22)},__class__:iron_object_LampObject});var iron_object_MeshObject=function(e,t){this.cachedContexts=new haxe_ds_StringMap,this.particleSystem=null,iron_object_Object.call(this),this.data=e,this.materials=t,iron_Scene.active.meshes.push(this)};$hxClasses["iron.object.MeshObject"]=iron_object_MeshObject,iron_object_MeshObject.__name__=["iron","object","MeshObject"],iron_object_MeshObject.__super__=iron_object_Object,iron_object_MeshObject.prototype=$extend(iron_object_Object.prototype,{remove:function(){HxOverrides.remove(iron_Scene.active.meshes,this),iron_object_Object.prototype.remove.call(this)},setupAnimation:function(e,t,a,r,i,s,n,_){null==_&&(_=50),this.data.isSkinned?this.animation=iron_object_Animation.setupBoneAnimation(this.data,e,t,a,r,i,s,n,_):iron_object_Object.prototype.setupAnimation.call(this,e,t,a,r,i,s,n)},setupParticleSystem:function(e,t){this.particleSystem=new iron_object_ParticleSystem(this,e,t)},render:function(e,t,a,r,i){if(null!=this.materials[0].getContext(t)&&this.visible&&r.visible){if(this.culled=!1,a.data.raw.frustum_culling){var s=this.data.isSkinned?2:1;null!=this.particleSystem&&(s*=100),"voxel"==t&&(s*=100);var n=t==a.data.pathdata.raw.shadows_context?r.frustumPlanes:a.frustumPlanes;if(this.data.mesh.instanced){for(var _=!1,o=0,h=this.data.mesh.offsetVecs;o<h.length;){var l=h[o];if(++o,iron_object_CameraObject.sphereInFrustum(n,this.transform,s,l.x,l.y,l.z)){_=!0;break}}if(!_)return void(this.culled=!0);this.data.mesh.sortInstanced(a.transform.matrix.self._30,a.transform.matrix.self._31,a.transform.matrix.self._32)}else if(!iron_object_CameraObject.sphereInFrustum(n,this.transform,s))return void(this.culled=!0)}var c=this.cachedContexts,d=null!=__map_reserved[t]?c.getReserved(t):c.h[t];if(null==d){d=new iron_object_CachedMeshContext;for(var u=0,g=this.materials;u<g.length;){var p=g[u];if(++u,null!=p.raw.skip_context&&p.raw.skip_context==t){d.enabled=!1;break}}if(d.enabled){d.materialContexts=[];for(var m=0,f=this.materials;m<f.length;){var v=f[m];++m;for(var k=0,y=v.raw.contexts.length;k<y;){var b=k++;if(HxOverrides.substr(v.raw.contexts[b].name,0,t.length)==t){d.materialContexts.push(v.contexts[b]);break}}}d.context=this.materials[0].shader.getContext(t);var I=this.cachedContexts;null!=__map_reserved[t]?I.setReserved(t,d):I.h[t]=d}}if(d.enabled){null!=this.particleSystem&&this.particleSystem.update();var S=d.materialContexts,x=d.context;this.transform.update(),e.setPipeline(x.pipeState),this.data.mesh.instanced?e.setVertexBuffers(this.data.mesh.instancedVertexBuffers):e.setVertexBuffer(this.data.mesh.vertexBuffer),iron_object_Uniforms.setConstants(e,x,this,a,r,i);for(var C=0,w=this.data.mesh.indexBuffers.length;C<w;){var B=C++,A=this.data.mesh.materialIndices[B];S.length>A&&iron_object_Uniforms.setMaterialConstants(e,x,S[A]),e.setIndexBuffer(this.data.mesh.indexBuffers[B]),this.data.mesh.instanced?e.drawIndexedVerticesInstanced(this.data.mesh.instanceCount):e.drawIndexedVertices()}}}},computeCameraDistance:function(e,t,a){var r=this.transform.matrix.self._30,i=this.transform.matrix.self._31,s=this.transform.matrix.self._32,n=e-r,_=t-i,o=a-s;this.cameraDistance=Math.sqrt(n*n+_*_+o*o)},__class__:iron_object_MeshObject});var iron_object_CachedMeshContext=function(){this.enabled=!0};$hxClasses["iron.object.CachedMeshContext"]=iron_object_CachedMeshContext,iron_object_CachedMeshContext.__name__=["iron","object","CachedMeshContext"],iron_object_CachedMeshContext.prototype={__class__:iron_object_CachedMeshContext};var iron_object_ParticleSystem=function(e,t,a){var r=this;this.object=e,this.name=a.name,this.seed=a.seed,this.particles=[],this.waiting=!0,iron_data_Data.getParticle(t,a.particle,function(t){r.data=t;for(var a=r.data.raw,i=0,s=a.count;i<s;){++i;var n=new iron_object_Particle;r.particles.push(n),n.offset=new iron_math_Vec4(0,0,0),n.velocity=new iron_math_Vec4(0,0,0),r.setVelocity(n.velocity),n.lifetime=Std.random(1e3*a.lifetime|0)/1e3}for(var _=[],o=0,h=r.particles;o<h.length;){var l=h[o];++o,_.push(l.offset.x),_.push(l.offset.y),_.push(l.offset.z)}e.data.mesh.setupInstanced(_,kha_graphics4_Usage.DynamicUsage),r.waiting=!1})};$hxClasses["iron.object.ParticleSystem"]=iron_object_ParticleSystem,iron_object_ParticleSystem.__name__=["iron","object","ParticleSystem"],iron_object_ParticleSystem.prototype={update:function(){if(!this.waiting){for(var e=0,t=this.particles;e<t.length;){var a=t[e];++e,a.lifetime+=.016666666666666666,a.lifetime>this.data.raw.lifetime&&(a.lifetime=0,this.setVelocity(a.velocity)),a.offset.x=a.lifetime*a.velocity.x,a.offset.y=a.lifetime*a.velocity.y,a.offset.z=a.lifetime*a.velocity.z}this.sort();for(var r=this.object.data.mesh.instancedVertexBuffers[1],i=r.lock(),s=0,n=this.particles.length;s<n;){var _=s++,o=this.particles[_];i[3*_]=o.offset.x,i[3*_+1]=o.offset.y,i[3*_+2]=o.offset.z}r.unlock()}},setVelocity:function(e){var t=this.data.raw;e.set(t.object_align_factor[0],t.object_align_factor[1],t.object_align_factor[2]),0!=t.factor_random&&(e.x+=Std.random(1e3*t.factor_random|0)/1e3-t.factor_random/2,e.y+=Std.random(1e3*t.factor_random|0)/1e3-t.factor_random/2,e.z+=Std.random(1e3*t.factor_random|0)/1e3-t.factor_random/2)},sort:function(){for(var e=iron_Scene.active.camera,t=0,a=this.particles;t<a.length;){var r=a[t];++t;var i=r.offset,s=e.transform.loc,n=i.x,_=i.y,o=i.z,h=s.x,l=s.y,c=s.z,d=n-h,u=_-l,g=o-c;r.cameraDistance=Math.sqrt(d*d+u*u+g*g)}this.particles.sort(function(e,t){return e.cameraDistance>t.cameraDistance?-1:e.cameraDistance<t.cameraDistance?1:0})},__class__:iron_object_ParticleSystem};var iron_object_Particle=function(){};$hxClasses["iron.object.Particle"]=iron_object_Particle,iron_object_Particle.__name__=["iron","object","Particle"],iron_object_Particle.prototype={__class__:iron_object_Particle};var iron_object_SpeakerObject=function(e){var t=this;iron_object_Object.call(this),this.data=e,iron_Scene.active.speakers.push(this),iron_data_Data.getSound(e.sound,function(e){t.sound=e,iron_Scene.active.notifyOnInit($bind(t,t.init))})};$hxClasses["iron.object.SpeakerObject"]=iron_object_SpeakerObject,iron_object_SpeakerObject.__name__=["iron","object","SpeakerObject"],iron_object_SpeakerObject.__super__=iron_object_Object,iron_object_SpeakerObject.prototype=$extend(iron_object_Object.prototype,{init:function(){iron_system_Audio.playSound(this.sound,this.data.loop)},remove:function(){HxOverrides.remove(iron_Scene.active.speakers,this),iron_object_Object.prototype.remove.call(this)},__class__:iron_object_SpeakerObject});var iron_object_Transform=function(e){this.appendMats=null,this.prependMats=null,this.localOnly=!1,this.object=e,this.reset()};$hxClasses["iron.object.Transform"]=iron_object_Transform,iron_object_Transform.__name__=["iron","object","Transform"],iron_object_Transform.prototype={reset:function(){this.matrix=iron_math_Mat4.identity(),this.local=iron_math_Mat4.identity(),this.loc=new iron_math_Vec4,this.rot=new iron_math_Quat,this.scale=new iron_math_Vec4(1,1,1),this.size=new iron_math_Vec4,this.dirty=!0},update:function(){this.dirty&&(this.dirty=!1,this.buildMatrix())},prependMatrix:function(e){null==this.prependMats&&(this.prependMats=[]),this.prependMats.push(e)},appendMatrix:function(e){null==this.appendMats&&(this.appendMats=[]),this.appendMats.push(e)},buildMatrix:function(){if(this.local.compose(this.loc,this.rot,this.scale),null!=this.prependMats){iron_object_Transform.temp.setIdentity();for(var e=0,t=this.prependMats;e<t.length;){var a=t[e];++e,iron_object_Transform.temp.multmat2(a)}iron_object_Transform.temp.multmat2(this.local),this.local.setFrom(iron_object_Transform.temp)}if(null!=this.appendMats)for(var r=0,i=this.appendMats;r<i.length;){var s=i[r];++r,this.local.multmat2(s)}if(this.localOnly||null==this.object.parent?this.matrix=this.local:this.matrix.multmat3x4(this.local,this.object.parent.transform.matrix),null!=this.object.constraints)for(var n=0,_=this.object.constraints;n<_.length;){var o=_[n];++n,o.apply(this)}for(var h=0,l=this.object.children;h<l.length;){var c=l[h];++h,c.transform.buildMatrix()}},set:function(e,t,a,r,i,s,n,_,o){null==o&&(o=1),null==_&&(_=1),null==n&&(n=1),null==s&&(s=0),null==i&&(i=0),null==r&&(r=0),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.loc.set(e,t,a),this.setRotation(r,i,s),this.scale.set(n,_,o),this.buildMatrix()},setMatrix:function(e){this.matrix=e;var t=this.matrix;this.loc=new iron_math_Vec4(t.self._30,t.self._31,t.self._32,t.self._33),this.scale=this.matrix.getScale(),this.rot=this.matrix.getQuat()},rotate:function(e,t){var a=new iron_math_Quat;a.fromAxisAngle(e,t),this.rot.multquats(a,this.rot),this.dirty=!0},setRotation:function(e,t,a){this.rot.fromEuler(e,t,a),this.dirty=!0},computeRadius:function(){this.radius=Math.sqrt(this.size.x*this.size.x+this.size.y*this.size.y+this.size.z*this.size.z)},look:function(){var e=this.matrix;return new iron_math_Vec4(e.self._10,e.self._11,e.self._12)},right:function(){var e=this.matrix;return new iron_math_Vec4(e.self._00,e.self._01,e.self._02)},up:function(){var e=this.matrix;return new iron_math_Vec4(e.self._20,e.self._21,e.self._22)},absx:function(){return this.matrix.self._30},absy:function(){return this.matrix.self._31},absz:function(){return this.matrix.self._32},__class__:iron_object_Transform};var iron_object_Uniforms=function(){};$hxClasses["iron.object.Uniforms"]=iron_object_Uniforms,iron_object_Uniforms.__name__=["iron","object","Uniforms"],iron_object_Uniforms.setConstants=function(e,t,a,r,i,s){for(var n=0,_=t.raw.constants.length;n<_;){var o=n++;iron_object_Uniforms.setConstant(e,a,r,i,t.constants[o],t.raw.constants[o])}if(null!=s)for(var h=0,l=s.length/2|0;h<l;){var c=2*h++,d=s[c],u=!1;"_"==d.charAt(0)&&(u=!0),u&&(d=HxOverrides.substr(d,1,null));var g,p=s[c+1],m=r.data.pathdata;if(u){var f=m.depthToRenderTarget;g=null!=__map_reserved[d]?f.getReserved(d):f.h[d]}else{var v=m.renderTargets;g=null!=__map_reserved[d]?v.getReserved(d):v.h[d]}var k=t.raw.texture_units;null==g.pong||g.pongState||(g=g.pong);for(var y=0,b=k.length;y<b;){var I=y++;p==k[I].name&&(null!=k[I].is_image&&k[I].is_image?e.setImageTexture(t.textureUnits[I],g.image):u?e.setTextureDepth(t.textureUnits[I],g.image):e.setTexture(t.textureUnits[I],g.image))}}for(var S=0,x=t.raw.texture_units.length;S<x;){var C=S++,w=t.raw.texture_units[C].link;if("_envmapRadiance"==w)e.setTexture(t.textureUnits[C],iron_Scene.active.world.getGlobalProbe().radiance),e.setTextureParameters(t.textureUnits[C],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.LinearMipFilter);else if("_envmapBrdf"==w)e.setTexture(t.textureUnits[C],iron_Scene.active.world.brdf);else if("_noise8"==w){var B=t.textureUnits[C],A=iron_Scene.active.embedded;e.setTexture(B,null!=__map_reserved["noise8.png"]?A.getReserved("noise8.png"):A.h["noise8.png"]),e.setTextureParameters(t.textureUnits[C],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter)}else if("_noise64"==w){var T=t.textureUnits[C],M=iron_Scene.active.embedded;e.setTexture(T,null!=__map_reserved["noise64.png"]?M.getReserved("noise64.png"):M.h["noise64.png"]),e.setTextureParameters(t.textureUnits[C],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter)}else if("_noise256"==w){var V=t.textureUnits[C],D=iron_Scene.active.embedded;e.setTexture(V,null!=__map_reserved["noise256.png"]?D.getReserved("noise256.png"):D.h["noise256.png"]),e.setTextureParameters(t.textureUnits[C],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter)}else if(null!=iron_object_Uniforms.externalTextureLink){var F=iron_object_Uniforms.externalTextureLink(w);null!=F&&e.setTexture(t.textureUnits[C],F)}}},iron_object_Uniforms.setConstant=function(e,t,a,r,i,s){if(null!=s.link)if("mat4"==s.type){var n=null;if("_worldMatrix"==s.link)n=t.transform.matrix;else if("_inverseWorldMatrix"==s.link)iron_object_Uniforms.helpMat.getInverse(t.transform.matrix),n=iron_object_Uniforms.helpMat;else if("_normalMatrix"==s.link)iron_object_Uniforms.helpMat.setIdentity(),iron_object_Uniforms.helpMat.multmat2(t.transform.matrix),iron_object_Uniforms.helpMat.getInverse(iron_object_Uniforms.helpMat),iron_object_Uniforms.helpMat.transpose3x3(),n=iron_object_Uniforms.helpMat;else if("_viewNormalMatrix"==s.link)iron_object_Uniforms.helpMat.setIdentity(),iron_object_Uniforms.helpMat.multmat2(t.transform.matrix),iron_object_Uniforms.helpMat.multmat2(a.V),iron_object_Uniforms.helpMat.getInverse(iron_object_Uniforms.helpMat),iron_object_Uniforms.helpMat.transpose3x3(),n=iron_object_Uniforms.helpMat;else if("_viewMatrix"==s.link)n=a.V;else if("_transposeInverseViewMatrix"==s.link)iron_object_Uniforms.helpMat.setIdentity(),iron_object_Uniforms.helpMat.multmat2(a.V),iron_object_Uniforms.helpMat.getInverse(iron_object_Uniforms.helpMat),iron_object_Uniforms.helpMat.transpose(),n=iron_object_Uniforms.helpMat;else if("_inverseViewMatrix"==s.link)iron_object_Uniforms.helpMat.getInverse(a.V),n=iron_object_Uniforms.helpMat;else if("_transposeViewMatrix"==s.link)iron_object_Uniforms.helpMat.setIdentity(),iron_object_Uniforms.helpMat.multmat2(a.V),iron_object_Uniforms.helpMat.transpose3x3(),n=iron_object_Uniforms.helpMat;else if("_projectionMatrix"==s.link)n=a.P;else if("_inverseProjectionMatrix"==s.link)iron_object_Uniforms.helpMat.getInverse(a.P),n=iron_object_Uniforms.helpMat;else if("_inverseViewProjectionMatrix"==s.link)iron_object_Uniforms.helpMat.setIdentity(),iron_object_Uniforms.helpMat.multmat2(a.V),iron_object_Uniforms.helpMat.multmat2(a.P),iron_object_Uniforms.helpMat.getInverse(iron_object_Uniforms.helpMat),n=iron_object_Uniforms.helpMat;else if("_worldViewProjectionMatrix"==s.link)iron_object_Uniforms.helpMat.setIdentity(),iron_object_Uniforms.helpMat.multmat2(t.transform.matrix),iron_object_Uniforms.helpMat.multmat2(a.V),iron_object_Uniforms.helpMat.multmat2(a.P),n=iron_object_Uniforms.helpMat;else if("_worldViewMatrix"==s.link)iron_object_Uniforms.helpMat.setIdentity(),iron_object_Uniforms.helpMat.multmat2(t.transform.matrix),iron_object_Uniforms.helpMat.multmat2(a.V),n=iron_object_Uniforms.helpMat;else if("_viewProjectionMatrix"==s.link)iron_object_Uniforms.helpMat.setIdentity(),iron_object_Uniforms.helpMat.multmat2(a.V),iron_object_Uniforms.helpMat.multmat2(a.P),n=iron_object_Uniforms.helpMat;else if("_prevViewProjectionMatrix"==s.link)iron_object_Uniforms.helpMat.setIdentity(),iron_object_Uniforms.helpMat.multmat2(a.prevV),iron_object_Uniforms.helpMat.multmat2(a.P),n=iron_object_Uniforms.helpMat;else if("_lampWorldViewProjectionMatrix"==s.link)iron_object_Uniforms.helpMat.setIdentity(),null!=t&&iron_object_Uniforms.helpMat.multmat2(t.transform.matrix),iron_object_Uniforms.helpMat.multmat2(r.V),iron_object_Uniforms.helpMat.multmat2(r.data.P),n=iron_object_Uniforms.helpMat;else if("_lampVolumeWorldViewProjectionMatrix"==s.link){var _=r.transform;iron_object_Uniforms.helpVec.set(_.matrix.self._30,_.matrix.self._31,_.matrix.self._32),iron_object_Uniforms.helpVec2.set(r.data.raw.far_plane,r.data.raw.far_plane,r.data.raw.far_plane),iron_object_Uniforms.helpMat.compose(iron_object_Uniforms.helpVec,iron_object_Uniforms.helpQuat,iron_object_Uniforms.helpVec2),iron_object_Uniforms.helpMat.multmat2(a.V),iron_object_Uniforms.helpMat.multmat2(a.P),n=iron_object_Uniforms.helpMat}else if("_biasLampWorldViewProjectionMatrix"==s.link)iron_object_Uniforms.helpMat.setIdentity(),null!=t&&iron_object_Uniforms.helpMat.multmat2(t.transform.matrix),iron_object_Uniforms.helpMat.multmat2(r.V),iron_object_Uniforms.helpMat.multmat2(r.data.P),n=iron_object_Uniforms.helpMat;else if("_skydomeMatrix"==s.link){var o=a.transform;iron_object_Uniforms.helpVec.set(o.matrix.self._30,o.matrix.self._31,o.matrix.self._32-3.5);var h=.95*a.farPlane;iron_object_Uniforms.helpVec2.set(h,h,h),iron_object_Uniforms.helpMat.compose(iron_object_Uniforms.helpVec,iron_object_Uniforms.helpQuat,iron_object_Uniforms.helpVec2),iron_object_Uniforms.helpMat.multmat2(a.V),iron_object_Uniforms.helpMat.multmat2(a.P),n=iron_object_Uniforms.helpMat}else if("_lampViewMatrix"==s.link)n=r.V;else if("_lampProjectionMatrix"==s.link)n=r.data.P;else if("_projectionXMatrix"==s.link){var l=iron_math_Mat4.orthogonal(-75,75,-75,75,75,225),c=iron_math_Mat4.lookAt(new iron_math_Vec4(150,0,0),new iron_math_Vec4(0,0,0),new iron_math_Vec4(0,1,0));c.multmat2(l),n=c}else if("_projectionYMatrix"==s.link){var d=iron_math_Mat4.orthogonal(-75,75,-75,75,75,225),u=iron_math_Mat4.lookAt(new iron_math_Vec4(0,150,0),new iron_math_Vec4(0,0,0),new iron_math_Vec4(0,0,-1));u.multmat2(d),n=u}else if("_projectionZMatrix"==s.link){var g=iron_math_Mat4.orthogonal(-75,75,-75,75,75,225),p=iron_math_Mat4.lookAt(new iron_math_Vec4(0,0,150),new iron_math_Vec4(0,0,0),new iron_math_Vec4(0,1,0));p.multmat2(g),n=p}if(null==n)return;e.setMatrix(i,n.self)}else if("vec3"==s.type){var m=null;if("_lampPosition"==s.link?(iron_object_Uniforms.helpVec.set(r.transform.matrix.self._30,r.transform.matrix.self._31,r.transform.matrix.self._32),m=iron_object_Uniforms.helpVec):"_lampDirection"==s.link?(iron_object_Uniforms.helpVec=new iron_math_Vec4(r.V.self._02,r.V.self._12,r.V.self._22),m=iron_object_Uniforms.helpVec):"_lampColor"==s.link?(iron_object_Uniforms.helpVec.set(r.data.raw.color[0],r.data.raw.color[1],r.data.raw.color[2]),m=iron_object_Uniforms.helpVec):"_cameraPosition"==s.link?(iron_object_Uniforms.helpVec.set(a.transform.matrix.self._30,a.transform.matrix.self._31,a.transform.matrix.self._32),m=iron_object_Uniforms.helpVec):"_cameraLook"==s.link?(iron_object_Uniforms.helpVec=new iron_math_Vec4(-a.transform.matrix.self._20,-a.transform.matrix.self._21,-a.transform.matrix.self._22),m=iron_object_Uniforms.helpVec):"_backgroundCol"==s.link?(iron_object_Uniforms.helpVec.set(a.data.raw.clear_color[0],a.data.raw.clear_color[1],a.data.raw.clear_color[2]),m=iron_object_Uniforms.helpVec):"_probeVolumeCenter"==s.link?m=iron_Scene.active.world.getProbeVolumeCenter(t.transform):"_probeVolumeSize"==s.link?m=iron_Scene.active.world.getProbeVolumeSize(t.transform):null!=iron_object_Uniforms.externalVec3Link&&(m=iron_object_Uniforms.externalVec3Link(s.link)),null==m)return;e.setFloat3(i,m.x,m.y,m.z)}else if("vec2"==s.type){var f=0,v=0;"_vec2x"==s.link?f=1:"_vec2x2"==s.link?f=2:"_vec2y"==s.link?v=1:"_vec2y2"==s.link?v=2:"_vec2y3"==s.link?v=3:"_windowSize"==s.link?(f=kha_System.windowWidth(),v=kha_System.windowHeight()):"_screenSize"==s.link?(f=a.renderPath.currentRenderTargetW,v=a.renderPath.currentRenderTargetH):"_screenSizeInv"==s.link?(f=1/a.renderPath.currentRenderTargetW,v=1/a.renderPath.currentRenderTargetH):"_aspectRatio"==s.link?(f=a.renderPath.currentRenderTargetH/a.renderPath.currentRenderTargetW,v=a.renderPath.currentRenderTargetW/a.renderPath.currentRenderTargetH,f=f>1?1:f,v=v>1?1:v):"_cameraPlane"==s.link&&(f=a.data.raw.near_plane,v=a.data.raw.far_plane),e.setFloat2(i,f,v)}else if("float"==s.type){var k=0;"_time"==s.link?k=kha_Scheduler.time():"_deltaTime"==s.link?k=.016666666666666666:"_lampRadius"==s.link?k=r.data.raw.far_plane:"_lampStrength"==s.link?k=r.data.raw.strength:"_lampShadowsBias"==s.link?k=r.data.raw.shadows_bias:"_lampPlaneNear"==s.link?k=r.data.raw.near_plane:"_lampPlaneFar"==s.link?k=r.data.raw.far_plane:"_lampSize"==s.link?null!=r.data.raw.lamp_size&&(k=r.data.raw.lamp_size):"_lampSizeUV"==s.link?null!=r.data.raw.lamp_size&&(k=r.data.raw.lamp_size/r.data.raw.fov):"_spotlampCutoff"==s.link?k=r.data.raw.spot_size:"_spotlampExponent"==s.link?k=r.data.raw.spot_blend:"_envmapStrength"==s.link?k=iron_Scene.active.world.getGlobalProbe().raw.strength:"_probeStrength"==s.link?k=iron_Scene.active.world.getProbeStrength(t.transform):"_probeBlending"==s.link&&(k=iron_Scene.active.world.getProbeBlending(t.transform)),e.setFloat(i,k)}else if("floats"==s.type){var y=null;"_skinBones"==s.link?y=js_Boot.__cast(t,iron_object_MeshObject).animation.skinBuffer:"_envmapIrradiance"==s.link&&(y=iron_Scene.active.world.getSHIrradiance()),e.setFloats(i,y)}else if("int"==s.type){var b=0;if("_uid"==s.link&&(b=t.uid),"_lampType"==s.link){var I=r.data.raw.type;b="sun"==I?0:"point"==I?1:2}else"_lampIndex"==s.link?b=a.renderPath.currentLampIndex:"_envmapNumMipmaps"==s.link?b=iron_Scene.active.world.getGlobalProbe().raw.radiance_mipmaps+1:"_probeID"==s.link&&(b=iron_Scene.active.world.getProbeID(t.transform));
e.setInt(i,b)}},iron_object_Uniforms.setMaterialConstants=function(e,t,a){if(null!=a.raw.bind_constants)for(var r=0,i=a.raw.bind_constants.length;r<i;){for(var s=a.raw.bind_constants[r++],n=-1,_=0,o=t.raw.constants.length;_<o;){var h=_++;if(t.raw.constants[h].name==s.name){n=h;break}}n!=-1&&iron_object_Uniforms.setMaterialConstant(e,t.constants[n],t.raw.constants[n],s)}if(null!=a.textures)for(var l=0,c=a.textures.length;l<c;)for(var d=l++,u=a.raw.bind_textures[d].name,g=0,p=t.textureUnits.length;g<p;){var m=g++;if(u==t.raw.texture_units[m].name){e.setTexture(t.textureUnits[m],a.textures[d]),a.setTextureParameters(e,d,t,m);break}}},iron_object_Uniforms.setMaterialConstant=function(e,t,a,r){switch(a.type){case"bool":e.setBool(t,r.bool);break;case"float":e.setFloat(t,r.float);break;case"vec2":e.setFloat2(t,r.vec2[0],r.vec2[1]);break;case"vec3":e.setFloat3(t,r.vec3[0],r.vec3[1],r.vec3[2]);break;case"vec4":e.setFloat4(t,r.vec4[0],r.vec4[1],r.vec4[2],r.vec4[3])}};var iron_system_Audio=function(){};$hxClasses["iron.system.Audio"]=iron_system_Audio,iron_system_Audio.__name__=["iron","system","Audio"],iron_system_Audio.playSound=function(e,t){null==t&&(t=!1),kha_audio2_Audio1.play(e,t)},iron_system_Audio.prototype={__class__:iron_system_Audio};var iron_system_CompileTime=function(){};$hxClasses["iron.system.CompileTime"]=iron_system_CompileTime,iron_system_CompileTime.__name__=["iron","system","CompileTime"];var iron_system_Input=function(){kha_input_Mouse.get().notify(iron_system_Input.downListener,iron_system_Input.upListener,iron_system_Input.moveListener,null)};$hxClasses["iron.system.Input"]=iron_system_Input,iron_system_Input.__name__=["iron","system","Input"],iron_system_Input.end=function(){iron_system_Input.released=!1,iron_system_Input.released2=!1,iron_system_Input.started=!1,iron_system_Input.started2=!1,iron_system_Input.moved=!1,iron_system_Input.deltaX=0,iron_system_Input.deltaY=0},iron_system_Input.reset=function(){iron_system_Input.started=!1,iron_system_Input.started2=!1,iron_system_Input.touch=!1,iron_system_Input.touch2=!1,iron_system_Input.released=!1,iron_system_Input.released2=!1,iron_system_Input.moved=!1,iron_system_Input.occupied=!1,iron_system_Input.deltaX=0,iron_system_Input.deltaY=0},iron_system_Input.downListener=function(e,t,a){0==e?(iron_system_Input.touch=!0,iron_system_Input.started=!0):(iron_system_Input.touch2=!0,iron_system_Input.started2=!0),iron_system_Input.x=t,iron_system_Input.y=a},iron_system_Input.upListener=function(e,t,a){0==e?(iron_system_Input.touch=!1,iron_system_Input.released=!0):(iron_system_Input.touch2=!1,iron_system_Input.released=!0),iron_system_Input.x=t,iron_system_Input.y=a},iron_system_Input.moveListener=function(e,t,a,r){iron_system_Input.deltaX=e-iron_system_Input.x,iron_system_Input.deltaY=t-iron_system_Input.y,iron_system_Input.x=e,iron_system_Input.y=t,iron_system_Input.moved=!0},iron_system_Input.prototype={__class__:iron_system_Input};var iron_system_Storage=function(){iron_system_Storage.file=kha_Storage.defaultFile(),null!=iron_system_Storage.file&&(iron_system_Storage.data=iron_system_Storage.file.readObject(),null==iron_system_Storage.data&&(iron_system_Storage.data=[]),iron_system_Storage.save())};$hxClasses["iron.system.Storage"]=iron_system_Storage,iron_system_Storage.__name__=["iron","system","Storage"],iron_system_Storage.save=function(){iron_system_Storage.file.writeObject(iron_system_Storage.data)},iron_system_Storage.clear=function(){iron_system_Storage.data=[],iron_system_Storage.save()},iron_system_Storage.setValue=function(e,t){for(var a=e[1];a>iron_system_Storage.data.length;)iron_system_Storage.data.push("");iron_system_Storage.data[a]=t,iron_system_Storage.save()},iron_system_Storage.getValue=function(e){return iron_system_Storage.data[e[1]]},iron_system_Storage.prototype={__class__:iron_system_Storage};var iron_system_Tween=function(){};$hxClasses["iron.system.Tween"]=iron_system_Tween,iron_system_Tween.__name__=["iron","system","Tween"],iron_system_Tween.to=function(e,t,a,r,i,s){null==s&&(s=1),null==i&&(i=0);var n=new iron_system_Anim(e,t,a,r,i,s);if(n._ease=iron_system_Tween.eases[s],null!=n.target&&null!=n.props){n._startProps=[];for(var _=0,o=Reflect.fields(n.props);_<o.length;){var h=o[_];++_;var l,c,d=n.target;if(null==d)c=null;else{var u;d.__properties__?(l=d.__properties__["get_"+h],u=l):u=!1,c=u?d[l]():d[h]}n._startProps.push(c)}}iron_system_Tween.anims.push(n),null!=e&&iron_system_Tween.map.set(e,n)},iron_system_Tween.timer=function(e,t){iron_system_Tween.to(null,0,null,t,e)},iron_system_Tween.stop=function(e){var t=iron_system_Tween.map.h[e.__id__];null!=t&&HxOverrides.remove(iron_system_Tween.anims,t)},iron_system_Tween.reset=function(){iron_system_Tween.anims=[],iron_system_Tween.map=new haxe_ds_ObjectMap},iron_system_Tween.update=function(){for(var e=.016666666666666666,t=iron_system_Tween.anims.length;t-- >0&&iron_system_Tween.anims.length>0;){var a=iron_system_Tween.anims[t];if(!(a.delay>0&&(a.delay-=e,a.delay>0))){if(a._currentTime+=e,null!=a.target)for(var r=Reflect.fields(a.props),i=0,s=r.length;i<s;){var n,_,o=i++,h=r[o],l=a._startProps[o],c=a.props;if(null==c)_=null;else{var d;c.__properties__?(n=c.__properties__["get_"+h],d=n):d=!1,_=d?c[n]():c[h]}var u=a._currentTime/a.time;u>1&&(u=1);var g,p,m=l+(_-l)*a._ease(u),f=a.target;f.__properties__?(g=f.__properties__["set_"+h],p=g):p=!1,p?f[g](m):f[h]=m}a._currentTime>=a.time&&(iron_system_Tween.anims.splice(t,1),--t,null!=a.f&&a.f())}}},iron_system_Tween.easeLinear=function(e){return e},iron_system_Tween.easeExpoOut=function(e){return 1==e?1:1-Math.pow(2,-10*e)};var iron_system_Anim=function(e,t,a,r,i,s){this._startProps=null,this._currentTime=0,this._ease=null,this.target=e,this.time=t,this.props=a,this.delay=i,this.f=r,this.type=s};$hxClasses["iron.system.Anim"]=iron_system_Anim,iron_system_Anim.__name__=["iron","system","Anim"],iron_system_Anim.prototype={__class__:iron_system_Anim};var iron_system_msgpack_DecodeOption=$hxClasses["iron.system.msgpack.DecodeOption"]={__ename__:["iron","system","msgpack","DecodeOption"],__constructs__:["AsMap","AsObject"]};iron_system_msgpack_DecodeOption.AsMap=["AsMap",0],iron_system_msgpack_DecodeOption.AsMap.toString=$estr,iron_system_msgpack_DecodeOption.AsMap.__enum__=iron_system_msgpack_DecodeOption,iron_system_msgpack_DecodeOption.AsObject=["AsObject",1],iron_system_msgpack_DecodeOption.AsObject.toString=$estr,iron_system_msgpack_DecodeOption.AsObject.__enum__=iron_system_msgpack_DecodeOption;var iron_system_msgpack__$Decoder_Pair=function(e,t){this.k=e,this.v=t};$hxClasses["iron.system.msgpack._Decoder.Pair"]=iron_system_msgpack__$Decoder_Pair,iron_system_msgpack__$Decoder_Pair.__name__=["iron","system","msgpack","_Decoder","Pair"],iron_system_msgpack__$Decoder_Pair.prototype={__class__:iron_system_msgpack__$Decoder_Pair};var iron_system_msgpack_Decoder=function(e,t){var a=new haxe_io_BytesInput(e);a.set_bigEndian(!0),this.o=this.decode(a,t)};$hxClasses["iron.system.msgpack.Decoder"]=iron_system_msgpack_Decoder,iron_system_msgpack_Decoder.__name__=["iron","system","msgpack","Decoder"],iron_system_msgpack_Decoder.prototype={decode:function(e,t){try{var a=e.readByte();switch(a){case 192:return null;case 194:return!1;case 195:return!0;case 196:return e.read(e.readByte());case 197:return e.read(e.readUInt16());case 198:return e.read(e.readInt32());case 202:return haxe_io_FPHelper.i32ToFloat(e.readInt32());case 203:return e.readDouble();case 204:return e.readByte();case 205:return e.readUInt16();case 206:return e.readInt32();case 207:throw new js__$Boot_HaxeError("UInt64 not supported");case 208:return e.readInt8();case 209:return e.readInt16();case 210:return e.readInt32();case 211:return this.readInt64(e);case 217:return e.readString(e.readByte());case 218:return e.readString(e.readUInt16());case 219:return e.readString(e.readInt32());case 220:return this.readArray(e,e.readUInt16(),t);case 221:return this.readArray(e,e.readInt32(),t);case 222:return this.readMap(e,e.readUInt16(),t);case 223:return this.readMap(e,e.readInt32(),t);default:if(a<128)return a;if(a<144)return this.readMap(e,15&a,t);if(a<160)return this.readArray(e,15&a,t);if(a<192)return e.readString(31&a);if(a>223)return-256|a}}catch(e){if(e instanceof js__$Boot_HaxeError&&(e=e.val),!js_Boot.__instanceof(e,haxe_io_Eof))throw e}return null},readInt64:function(e){return new haxe__$Int64__$_$_$Int64(e.readInt32(),e.readInt32())},readArray:function(e,t,a){for(var r=[],i=0;i<t;)++i,r.push(this.decode(e,a));return r},readMap:function(e,t,a){switch(a[1]){case 0:for(var r=[],i=0;i<t;)++i,r.push(new iron_system_msgpack__$Decoder_Pair(this.decode(e,a),this.decode(e,a)));if(0==r.length)return new haxe_ds_StringMap;var s=Type.typeof(r[0].k);switch(s[1]){case 1:for(var n=new haxe_ds_IntMap,_=0;_<r.length;){var o=r[_];if(++_,1!=Type.typeof(o.k)[1])throw new js__$Boot_HaxeError("Error: Mixed key type when decoding IntMap");if(n.h.hasOwnProperty(o.k))throw new js__$Boot_HaxeError("Error: Duplicate keys found => "+Std.string(o.k));n.h[o.k]=o.v}return n;case 6:if("String"==Type.getClassName(s[2])){for(var h=new haxe_ds_StringMap,l=0;l<r.length;){var c=r[l];++l;var d=Type.typeof(c.k);if(6!=d[1])throw new js__$Boot_HaxeError("Error: Mixed key type when decoding StringMap");if("String"!=Type.getClassName(d[2]))throw new js__$Boot_HaxeError("Error: Mixed key type when decoding StringMap");var u=c.k;if(null!=__map_reserved[u]?h.existsReserved(u):h.h.hasOwnProperty(u))throw new js__$Boot_HaxeError("Error: Duplicate keys found => "+Std.string(c.k));var g=c.k,p=c.v;null!=__map_reserved[g]?h.setReserved(g,p):h.h[g]=p}return h}throw new js__$Boot_HaxeError("Error: Unsupported key Type");default:throw new js__$Boot_HaxeError("Error: Unsupported key Type")}break;case 1:for(var m={},f=0;f<t;){++f;var v=this.decode(e,a),k=this.decode(e,a);m[Std.string(v)]=k}return m}},getResult:function(){return this.o},__class__:iron_system_msgpack_Decoder};var iron_system_msgpack_Encoder=function(e){this.o=new haxe_io_BytesOutput,this.o.set_bigEndian(!0),this.encode(e)};$hxClasses["iron.system.msgpack.Encoder"]=iron_system_msgpack_Encoder,iron_system_msgpack_Encoder.__name__=["iron","system","msgpack","Encoder"],iron_system_msgpack_Encoder.prototype={encode:function(e){var t=Type.typeof(e);switch(t[1]){case 0:this.o.writeByte(192);break;case 1:var a=e;a<-32?a<-32768?(this.o.writeByte(210),this.o.writeInt32(a)):a<-128?(this.o.writeByte(209),this.o.writeInt16(a)):(this.o.writeByte(208),this.o.writeInt8(a)):a<128?this.o.writeByte(255&a):a<256?(this.o.writeByte(204),this.o.writeByte(a)):a<65536?(this.o.writeByte(205),this.o.writeUInt16(a)):(this.o.writeByte(206),this.o.writeInt32(a));break;case 2:var r=e,i=Math.abs(r);i>1.401298464324817e-45&&i<3.4028234663852886e38?(this.o.writeByte(202),this.o.writeInt32(haxe_io_FPHelper.floatToI32(r))):(this.o.writeByte(203),this.o.writeDouble(r));break;case 3:this.o.writeByte(e?195:194);break;case 4:var s=Reflect.fields(e),n=Lambda.count(s);n<16?this.o.writeByte(128|n):n<65536?(this.o.writeByte(222),this.o.writeUInt16(n)):(this.o.writeByte(223),this.o.writeInt32(n));for(var _=0;_<s.length;){var o=s[_];++_,this.encode(o),this.encode(Reflect.field(e,o))}break;case 5:throw new js__$Boot_HaxeError("Error: Function not supported");case 6:var h=t[2];switch(Type.getClassName(h)){case"Array":var l=e,c=l.length;c<16?this.o.writeByte(144|c):c<65536?(this.o.writeByte(220),this.o.writeUInt16(c)):(this.o.writeByte(221),this.o.writeInt32(c));for(var d=0;d<l.length;){var u=l[d];++d,this.encode(u)}break;case"String":var g=e,p=g.length;p<32?this.o.writeByte(160|p):p<256?(this.o.writeByte(217),this.o.writeByte(p)):p<65536?(this.o.writeByte(218),this.o.writeUInt16(p)):(this.o.writeByte(219),this.o.writeInt32(p)),this.o.writeString(g);break;case"haxe._Int64.___Int64":var m=e;this.o.writeByte(211),this.o.writeInt32(m.high),this.o.writeInt32(m.low);break;case"haxe.ds.IntMap":case"haxe.ds.StringMap":case"haxe.ds.UnsafeStringMap":for(var f=e,v=0,k=f.keys();k.hasNext();)k.next(),++v;v<16?this.o.writeByte(128|v):v<65536?(this.o.writeByte(222),this.o.writeUInt16(v)):(this.o.writeByte(223),this.o.writeInt32(v));for(var y=f.keys();y.hasNext();){var b=y.next();this.encode(b),this.encode(f.get(b))}break;case"haxe.io.Bytes":var I=e,S=I.length;S<256?(this.o.writeByte(196),this.o.writeByte(S)):S<65536?(this.o.writeByte(197),this.o.writeUInt16(S)):(this.o.writeByte(198),this.o.writeInt32(S)),this.o.write(I);break;default:throw new js__$Boot_HaxeError("Error: "+Type.getClassName(h)+" not supported")}break;case 7:throw new js__$Boot_HaxeError("Error: Enum not supported");case 8:throw new js__$Boot_HaxeError("Error: Unknown Data Type")}},writeInt64:function(e){this.o.writeByte(211),this.o.writeInt32(e.high),this.o.writeInt32(e.low)},writeInt:function(e){e<-32?e<-32768?(this.o.writeByte(210),this.o.writeInt32(e)):e<-128?(this.o.writeByte(209),this.o.writeInt16(e)):(this.o.writeByte(208),this.o.writeInt8(e)):e<128?this.o.writeByte(255&e):e<256?(this.o.writeByte(204),this.o.writeByte(e)):e<65536?(this.o.writeByte(205),this.o.writeUInt16(e)):(this.o.writeByte(206),this.o.writeInt32(e))},writeFloat:function(e){var t=Math.abs(e);t>1.401298464324817e-45&&t<3.4028234663852886e38?(this.o.writeByte(202),this.o.writeInt32(haxe_io_FPHelper.floatToI32(e))):(this.o.writeByte(203),this.o.writeDouble(e))},writeBinary:function(e){var t=e.length;t<256?(this.o.writeByte(196),this.o.writeByte(t)):t<65536?(this.o.writeByte(197),this.o.writeUInt16(t)):(this.o.writeByte(198),this.o.writeInt32(t)),this.o.write(e)},writeString:function(e){var t=e.length;t<32?this.o.writeByte(160|t):t<256?(this.o.writeByte(217),this.o.writeByte(t)):t<65536?(this.o.writeByte(218),this.o.writeUInt16(t)):(this.o.writeByte(219),this.o.writeInt32(t)),this.o.writeString(e)},writeArray:function(e){var t=e.length;t<16?this.o.writeByte(144|t):t<65536?(this.o.writeByte(220),this.o.writeUInt16(t)):(this.o.writeByte(221),this.o.writeInt32(t));for(var a=0;a<e.length;){var r=e[a];++a,this.encode(r)}},writeMapLength:function(e){e<16?this.o.writeByte(128|e):e<65536?(this.o.writeByte(222),this.o.writeUInt16(e)):(this.o.writeByte(223),this.o.writeInt32(e))},writeMap:function(e){for(var t=0,a=e.keys();a.hasNext();)a.next(),++t;t<16?this.o.writeByte(128|t):t<65536?(this.o.writeByte(222),this.o.writeUInt16(t)):(this.o.writeByte(223),this.o.writeInt32(t));for(var r=e.keys();r.hasNext();){var i=r.next();this.encode(i),this.encode(e.get(i))}},writeObject:function(e){var t=Reflect.fields(e),a=Lambda.count(t);a<16?this.o.writeByte(128|a):a<65536?(this.o.writeByte(222),this.o.writeUInt16(a)):(this.o.writeByte(223),this.o.writeInt32(a));for(var r=0;r<t.length;){var i=t[r];++r,this.encode(i),this.encode(Reflect.field(e,i))}},getBytes:function(){return this.o.getBytes()},__class__:iron_system_msgpack_Encoder};var iron_system_msgpack_MsgPack=function(){};$hxClasses["iron.system.msgpack.MsgPack"]=iron_system_msgpack_MsgPack,iron_system_msgpack_MsgPack.__name__=["iron","system","msgpack","MsgPack"],iron_system_msgpack_MsgPack.encode=function(e){return new iron_system_msgpack_Encoder(e).o.getBytes()},iron_system_msgpack_MsgPack.decode=function(e,t){return null==t&&(t=iron_system_msgpack_DecodeOption.AsObject),new iron_system_msgpack_Decoder(e,t).o};var js__$Boot_HaxeError=function(e){Error.call(this),this.val=e,this.message=String(e),Error.captureStackTrace&&Error.captureStackTrace(this,js__$Boot_HaxeError)};$hxClasses["js._Boot.HaxeError"]=js__$Boot_HaxeError,js__$Boot_HaxeError.__name__=["js","_Boot","HaxeError"],js__$Boot_HaxeError.wrap=function(e){return e instanceof Error?e:new js__$Boot_HaxeError(e)},js__$Boot_HaxeError.__super__=Error,js__$Boot_HaxeError.prototype=$extend(Error.prototype,{__class__:js__$Boot_HaxeError});var js_Boot=function(){};$hxClasses["js.Boot"]=js_Boot,js_Boot.__name__=["js","Boot"],js_Boot.__unhtml=function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},js_Boot.__trace=function(e,t){var a=null!=t?t.fileName+":"+t.lineNumber+": ":"";if(a+=js_Boot.__string_rec(e,""),null!=t&&null!=t.customParams)for(var r=0,i=t.customParams;r<i.length;){var s=i[r];++r,a+=","+js_Boot.__string_rec(s,"")}var n,_;"undefined"!=typeof document?(n=document.getElementById("haxe:trace"),_=null!=n):_=!1,_?n.innerHTML+=js_Boot.__unhtml(a)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(a)},js_Boot.getClass=function(e){if(e instanceof Array&&null==e.__enum__)return Array;var t=e.__class__;if(null!=t)return t;var a=js_Boot.__nativeClassName(e);return null!=a?js_Boot.__resolveNativeClass(a):null},js_Boot.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var a=typeof e;switch("function"==a&&(e.__name__||e.__ename__)&&(a="object"),a){case"function":return"<function>";case"object":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];var r=e[0]+"(";t+="\t";for(var i=2,s=e.length;i<s;){var n=i++;r+=2!=n?","+js_Boot.__string_rec(e[n],t):js_Boot.__string_rec(e[n],t)}return r+")"}var _=e.length,o="[";t+="\t";for(var h=0,l=_;h<l;){var c=h++;o+=(c>0?",":"")+js_Boot.__string_rec(e[c],t)}return o+="]"}var d;try{d=e.toString}catch(e){return"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d){var u=e.toString();if("[object Object]"!=u)return u}var g=null,p="{\n";t+="\t";var m=null!=e.hasOwnProperty;for(var g in e)m&&!e.hasOwnProperty(g)||"prototype"!=g&&"__class__"!=g&&"__super__"!=g&&"__interfaces__"!=g&&"__properties__"!=g&&(2!=p.length&&(p+=", \n"),p+=t+g+" : "+js_Boot.__string_rec(e[g],t));return t=t.substring(1),p+="\n"+t+"}";case"string":return e;default:return String(e)}},js_Boot.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var a=e.__interfaces__;if(null!=a)for(var r=0,i=a.length;r<i;){var s=a[r++];if(s==t||js_Boot.__interfLoop(s,t))return!0}return js_Boot.__interfLoop(e.__super__,t)},js_Boot.__instanceof=function(e,t){if(null==t)return!1;switch(t){case Array:return e instanceof Array&&null==e.__enum__;case Bool:return"boolean"==typeof e;case Dynamic:return!0;case Float:return"number"==typeof e;case Int:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof t){if(e instanceof t)return!0;if(js_Boot.__interfLoop(js_Boot.getClass(e),t))return!0}else if("object"==typeof t&&js_Boot.__isNativeObj(t)&&e instanceof t)return!0;return t==Class&&null!=e.__name__||(t==Enum&&null!=e.__ename__||e.__enum__==t)}},js_Boot.__cast=function(e,t){if(js_Boot.__instanceof(e,t))return e;throw new js__$Boot_HaxeError("Cannot cast "+Std.string(e)+" to "+Std.string(t))},js_Boot.__nativeClassName=function(e){var t=js_Boot.__toStr.call(e).slice(8,-1);return"Object"==t||"Function"==t||"Math"==t||"JSON"==t?null:t},js_Boot.__isNativeObj=function(e){return null!=js_Boot.__nativeClassName(e)},js_Boot.__resolveNativeClass=function(e){return $global[e]};var js_html_compat_ArrayBuffer=function(e){if(e instanceof Array&&null==e.__enum__)this.a=e,this.byteLength=e.length;else{var t=e;this.a=[];for(var a=0,r=t;a<r;)this.a[a++]=0;this.byteLength=t}};$hxClasses["js.html.compat.ArrayBuffer"]=js_html_compat_ArrayBuffer,js_html_compat_ArrayBuffer.__name__=["js","html","compat","ArrayBuffer"],js_html_compat_ArrayBuffer.sliceImpl=function(e,t){var a=new Uint8Array(this,e,null==t?null:t-e),r=new ArrayBuffer(a.byteLength);return new Uint8Array(r).set(a),r},js_html_compat_ArrayBuffer.prototype={slice:function(e,t){return new js_html_compat_ArrayBuffer(this.a.slice(e,t))},__class__:js_html_compat_ArrayBuffer};var js_html_compat_DataView=function(e,t,a){if(this.buf=e,this.offset=null==t?0:t,this.length=null==a?e.byteLength-this.offset:a,this.offset<0||this.length<0||this.offset+this.length>e.byteLength)throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds)};$hxClasses["js.html.compat.DataView"]=js_html_compat_DataView,js_html_compat_DataView.__name__=["js","html","compat","DataView"],js_html_compat_DataView.prototype={getInt8:function(e){var t=this.buf.a[this.offset+e];return t>=128?t-256:t},getUint8:function(e){return this.buf.a[this.offset+e]},getInt16:function(e,t){var a=this.getUint16(e,t);return a>=32768?a-65536:a},getUint16:function(e,t){return t?this.buf.a[this.offset+e]|this.buf.a[this.offset+e+1]<<8:this.buf.a[this.offset+e]<<8|this.buf.a[this.offset+e+1]},getInt32:function(e,t){var a=this.offset+e,r=this.buf.a[a++],i=this.buf.a[a++],s=this.buf.a[a++],n=this.buf.a[a++];return t?r|i<<8|s<<16|n<<24:n|s<<8|i<<16|r<<24},getUint32:function(e,t){var a=this.getInt32(e,t);return a<0?a+4294967296:a},getFloat32:function(e,t){return haxe_io_FPHelper.i32ToFloat(this.getInt32(e,t))},getFloat64:function(e,t){var a=this.getInt32(e,t),r=this.getInt32(e+4,t);return haxe_io_FPHelper.i64ToDouble(t?a:r,t?r:a)},setInt8:function(e,t){this.buf.a[e+this.offset]=t<0?t+128&255:255&t},setUint8:function(e,t){this.buf.a[e+this.offset]=255&t},setInt16:function(e,t,a){this.setUint16(e,t<0?t+65536:t,a)},setUint16:function(e,t,a){var r=e+this.offset;a?(this.buf.a[r]=255&t,this.buf.a[r++]=t>>8&255):(this.buf.a[r++]=t>>8&255,this.buf.a[r]=255&t)},setInt32:function(e,t,a){this.setUint32(e,t,a)},setUint32:function(e,t,a){var r=e+this.offset;a?(this.buf.a[r++]=255&t,this.buf.a[r++]=t>>8&255,this.buf.a[r++]=t>>16&255,this.buf.a[r++]=t>>>24):(this.buf.a[r++]=t>>>24,this.buf.a[r++]=t>>16&255,this.buf.a[r++]=t>>8&255,this.buf.a[r++]=255&t)},setFloat32:function(e,t,a){this.setUint32(e,haxe_io_FPHelper.floatToI32(t),a)},setFloat64:function(e,t,a){var r=haxe_io_FPHelper.doubleToI64(t);a?(this.setUint32(e,r.low),this.setUint32(e,r.high)):(this.setUint32(e,r.high),this.setUint32(e,r.low))},__class__:js_html_compat_DataView};var js_html_compat_Float32Array=function(){};$hxClasses["js.html.compat.Float32Array"]=js_html_compat_Float32Array,js_html_compat_Float32Array.__name__=["js","html","compat","Float32Array"],js_html_compat_Float32Array._new=function(e,t,a){var r;if("number"==typeof e){r=[];for(var i=0,s=e;i<s;){var n=i++;r[n]=0}r.byteLength=r.length<<2,r.byteOffset=0;for(var _=[],o=0,h=r.length<<2;o<h;){o++;_.push(0)}r.buffer=new js_html_compat_ArrayBuffer(_)}else if(js_Boot.__instanceof(e,js_html_compat_ArrayBuffer)){var l=e;null==t&&(t=0),null==a&&(a=l.byteLength-t>>2),r=[];for(var c=0,d=a;c<d;){var u=(c++,l.a[t++]|l.a[t++]<<8|l.a[t++]<<16|l.a[t++]<<24);r.push(haxe_io_FPHelper.i32ToFloat(u))}r.byteLength=r.length<<2,r.byteOffset=t,r.buffer=l}else{if(!(e instanceof Array&&null==e.__enum__))throw new js__$Boot_HaxeError("TODO "+Std.string(e));r=e.slice();for(var g=[],p=0;p<r.length;){var m=r[p];++p;var f=haxe_io_FPHelper.floatToI32(m);g.push(255&f),g.push(f>>8&255),g.push(f>>16&255),g.push(f>>>24)}r.byteLength=r.length<<2,r.byteOffset=0,r.buffer=new js_html_compat_ArrayBuffer(g)}return r.subarray=js_html_compat_Float32Array._subarray,r.set=js_html_compat_Float32Array._set,r},js_html_compat_Float32Array._set=function(e,t){if(js_Boot.__instanceof(e.buffer,js_html_compat_ArrayBuffer)){var a=e;if(e.byteLength+t>this.byteLength)throw new js__$Boot_HaxeError("set() outside of range");for(var r=0,i=e.byteLength;r<i;){var s=r++;this[s+t]=a[s]}}else{if(!(e instanceof Array&&null==e.__enum__))throw new js__$Boot_HaxeError("TODO");var n=e;if(n.length+t>this.byteLength)throw new js__$Boot_HaxeError("set() outside of range");for(var _=0,o=n.length;_<o;){var h=_++;this[h+t]=n[h]}}},js_html_compat_Float32Array._subarray=function(e,t){var a=js_html_compat_Float32Array._new(this.slice(e,t));return a.byteOffset=4*e,a};var js_html_compat_Uint8Array=function(){};$hxClasses["js.html.compat.Uint8Array"]=js_html_compat_Uint8Array,js_html_compat_Uint8Array.__name__=["js","html","compat","Uint8Array"],js_html_compat_Uint8Array._new=function(e,t,a){var r;if("number"==typeof e){r=[];for(var i=0,s=e;i<s;){var n=i++;r[n]=0}r.byteLength=r.length,r.byteOffset=0,r.buffer=new js_html_compat_ArrayBuffer(r)}else if(js_Boot.__instanceof(e,js_html_compat_ArrayBuffer)){var _=e;null==t&&(t=0),null==a&&(a=_.byteLength-t),r=0==t?_.a:_.a.slice(t,t+a),r.byteLength=r.length,r.byteOffset=t,r.buffer=_}else{if(!(e instanceof Array&&null==e.__enum__))throw new js__$Boot_HaxeError("TODO "+Std.string(e));r=e.slice(),r.byteLength=r.length,r.byteOffset=0,r.buffer=new js_html_compat_ArrayBuffer(r)}return r.subarray=js_html_compat_Uint8Array._subarray,r.set=js_html_compat_Uint8Array._set,r},js_html_compat_Uint8Array._set=function(e,t){if(js_Boot.__instanceof(e.buffer,js_html_compat_ArrayBuffer)){var a=e;if(e.byteLength+t>this.byteLength)throw new js__$Boot_HaxeError("set() outside of range");for(var r=0,i=e.byteLength;r<i;){var s=r++;this[s+t]=a[s]}}else{if(!(e instanceof Array&&null==e.__enum__))throw new js__$Boot_HaxeError("TODO");var n=e;if(n.length+t>this.byteLength)throw new js__$Boot_HaxeError("set() outside of range");for(var _=0,o=n.length;_<o;){var h=_++;this[h+t]=n[h]}}},js_html_compat_Uint8Array._subarray=function(e,t){var a=js_html_compat_Uint8Array._new(this.slice(e,t));return a.byteOffset=e,a};var kha_Canvas=function(){};$hxClasses["kha.Canvas"]=kha_Canvas,kha_Canvas.__name__=["kha","Canvas"],kha_Canvas.prototype={__class__:kha_Canvas,__properties__:{get_g4:"get_g4",get_g2:"get_g2",get_g1:"get_g1",get_height:"get_height",get_width:"get_width"}};var kha_Resource=function(){};$hxClasses["kha.Resource"]=kha_Resource,kha_Resource.__name__=["kha","Resource"],kha_Resource.prototype={__class__:kha_Resource};var kha_Image=function(){};$hxClasses["kha.Image"]=kha_Image,kha_Image.__name__=["kha","Image"],kha_Image.__interfaces__=[kha_Resource,kha_Canvas],kha_Image.__properties__={get_nonPow2Supported:"get_nonPow2Supported",get_maxSize:"get_maxSize"},kha_Image.create=function(e,t,a,r){return null==a&&(a=kha_graphics4_TextureFormat.RGBA32),null==r&&(r=kha_graphics4_Usage.StaticUsage),null==kha_SystemImpl.gl?new kha_CanvasImage(e,t,a,!1):new kha_WebGLImage(e,t,a,!1,0)},kha_Image.create3D=function(e,t,a,r,i){return null},kha_Image.createRenderTarget=function(e,t,a,r,i,s){return null==s&&(s=0),null==i&&(i=1),null==r&&(r=0),null==a&&(a=kha_graphics4_TextureFormat.RGBA32),null==kha_SystemImpl.gl?new kha_CanvasImage(e,t,a,!0):new kha_WebGLImage(e,t,a,!0,r)},kha_Image.fromImage=function(e,t,a){if(null==a&&(a="RGBA32"),null==kha_SystemImpl.gl){var r=new kha_CanvasImage(e.width,e.height,kha_graphics4_TextureFormat.RGBA32,!1);return r.image=e,r.createTexture(),r}var i=new kha_WebGLImage(e.width,e.height,"RGBA32"==a?kha_graphics4_TextureFormat.RGBA32:kha_graphics4_TextureFormat.L8,!1,0);return i.image=e,i.createTexture(),i},kha_Image.fromBytes=function(e,t,a,r,i){if(null==r&&(r=kha_graphics4_TextureFormat.RGBA32),null==i&&(i=kha_graphics4_Usage.StaticUsage),null!=kha_SystemImpl.gl){var s=new kha_WebGLImage(t,a,r,!1,0);return s.image=s.bytesToArray(e),s.createTexture(),s}return null},kha_Image.fromVideo=function(e){if(null==kha_SystemImpl.gl){var t=new kha_CanvasImage(e.element.videoWidth,e.element.videoHeight,kha_graphics4_TextureFormat.RGBA32,!1);return t.video=e.element,t.createTexture(),t}var a=new kha_WebGLImage(e.element.videoWidth,e.element.videoHeight,kha_graphics4_TextureFormat.RGBA32,!1,0);return a.video=e.element,a.createTexture(),a},kha_Image.get_maxSize=function(){return null==kha_SystemImpl.gl?8192:kha_SystemImpl.gl.getParameter(3379)},kha_Image.get_nonPow2Supported=function(){return null!=kha_SystemImpl.gl},kha_Image.prototype={isOpaque:function(e,t){return!1},at:function(e,t){return kha__$Color_Color_$Impl_$.Black},unload:function(){},lock:function(e){return null==e&&(e=0),null},unlock:function(){},generateMipmaps:function(e){},setMipmaps:function(e){},setDepthStencilFrom:function(e){},get_width:function(){return 0},get_height:function(){return 0},get_depth:function(){return 0},get_realWidth:function(){return 0},get_realHeight:function(){return 0},get_g1:function(){return null},get_g2:function(){return null},get_g4:function(){return null},__class__:kha_Image,__properties__:{get_g4:"get_g4",get_g2:"get_g2",get_g1:"get_g1",get_realHeight:"get_realHeight",get_realWidth:"get_realWidth",get_depth:"get_depth",get_height:"get_height",get_width:"get_width"}};var kha_CanvasImage=function(e,t,a,r){this.g2canvas=null,this.myWidth=e,this.myHeight=t,this.format=a,this.renderTarget=r,this.image=null,this.video=null,r&&this.createTexture()};$hxClasses["kha.CanvasImage"]=kha_CanvasImage,kha_CanvasImage.__name__=["kha","CanvasImage"],kha_CanvasImage.init=function(){var e=window.document.createElement("canvas");null!=e&&(kha_CanvasImage.context=e.getContext("2d"),e.width=2048,e.height=2048,kha_CanvasImage.context.globalCompositeOperation="copy")},kha_CanvasImage.upperPowerOfTwo=function(e){return--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e},kha_CanvasImage.__super__=kha_Image,kha_CanvasImage.prototype=$extend(kha_Image.prototype,{get_g1:function(){return null==this.graphics1&&(this.graphics1=new kha_graphics2_Graphics1(this)),this.graphics1},get_g2:function(){if(null==this.g2canvas){var e=window.document.createElement("canvas");this.image=e;var t=e.getContext("2d");e.width=this.get_width(),e.height=this.get_height(),this.g2canvas=new kha_js_CanvasGraphics(t,this.get_width(),this.get_height())}return this.g2canvas},get_g4:function(){return null},get_width:function(){return this.myWidth},get_height:function(){return this.myHeight},get_realWidth:function(){return this.myWidth},get_realHeight:function(){return this.myHeight},isOpaque:function(e,t){if(null==this.data){if(null==kha_CanvasImage.context)return!0;this.createImageData()}return 0!=this.data.data[t*(0|this.image.width)*4+4*e+3]},at:function(e,t){if(null==this.data){if(null==kha_CanvasImage.context)return kha__$Color_Color_$Impl_$.Black;this.createImageData()}return kha__$Color_Color_$Impl_$._new(this.data.data[t*(0|this.image.width)*4+4*e])},createImageData:function(){kha_CanvasImage.context.strokeStyle="rgba(0,0,0,0)",kha_CanvasImage.context.fillStyle="rgba(0,0,0,0)",kha_CanvasImage.context.fillRect(0,0,this.image.width,this.image.height),kha_CanvasImage.context.drawImage(this.image,0,0,this.image.width,this.image.height,0,0,this.image.width,this.image.height),this.data=kha_CanvasImage.context.getImageData(0,0,this.image.width,this.image.height)},createTexture:function(){null!=kha_SystemImpl.gl&&(this.texture=kha_SystemImpl.gl.createTexture(),kha_SystemImpl.gl.bindTexture(3553,this.texture),kha_SystemImpl.gl.texParameteri(3553,10240,9729),kha_SystemImpl.gl.texParameteri(3553,10241,9729),kha_SystemImpl.gl.texParameteri(3553,10242,33071),kha_SystemImpl.gl.texParameteri(3553,10243,33071),this.renderTarget?(this.frameBuffer=kha_SystemImpl.gl.createFramebuffer(),kha_SystemImpl.gl.bindFramebuffer(36160,this.frameBuffer),kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,5121,null),kha_SystemImpl.gl.framebufferTexture2D(36160,36064,3553,this.texture,0),kha_SystemImpl.gl.bindFramebuffer(36160,null)):null!=this.video?kha_SystemImpl.gl.texImage2D(3553,0,6408,6408,5121,this.video):kha_SystemImpl.gl.texImage2D(3553,0,6408,6408,5121,this.image),kha_SystemImpl.gl.bindTexture(3553,null))},set:function(e){kha_SystemImpl.gl.activeTexture(33984+e),kha_SystemImpl.gl.bindTexture(3553,this.texture),null!=this.video&&kha_SystemImpl.gl.texImage2D(3553,0,6408,6408,5121,this.video)},lock:function(e){return null==e&&(e=0),this.bytes=new haxe_io_Bytes(new ArrayBuffer(this.format==kha_graphics4_TextureFormat.RGBA32?4*this.get_width()*this.get_height():this.get_width()*this.get_height())),this.bytes},unlock:function(){if(null!=kha_SystemImpl.gl){if(this.texture=kha_SystemImpl.gl.createTexture(),kha_SystemImpl.gl.bindTexture(3553,this.texture),kha_SystemImpl.gl.texParameteri(3553,10240,9729),kha_SystemImpl.gl.texParameteri(3553,10241,9729),kha_SystemImpl.gl.texParameteri(3553,10242,33071),kha_SystemImpl.gl.texParameteri(3553,10243,33071),kha_SystemImpl.gl.texImage2D(3553,0,6409,this.get_width(),this.get_height(),0,6409,5121,new Uint8Array(this.bytes.b.bufferValue)),1282==kha_SystemImpl.gl.getError()){for(var e=new haxe_io_Bytes(new ArrayBuffer(this.get_width()*this.get_height()*4)),t=0,a=this.get_height();t<a;)for(var r=t++,i=0,s=this.get_width();i<s;){
var n=i++,_=this.bytes.b[r*this.get_width()+n];e.b[r*this.get_width()*4+4*n]=255&_,e.b[r*this.get_width()*4+4*n+1]=255&_,e.b[r*this.get_width()*4+4*n+2]=255&_,e.b[r*this.get_width()*4+4*n+3]=255}kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,5121,new Uint8Array(e.b.bufferValue))}kha_SystemImpl.gl.bindTexture(3553,null),this.bytes=null}},unload:function(){},__class__:kha_CanvasImage});var kha__$Color_Color_$Impl_$=$hx_exports.kha._Color.Color_Impl_={};$hxClasses["kha._Color.Color_Impl_"]=kha__$Color_Color_$Impl_$,kha__$Color_Color_$Impl_$.__name__=["kha","_Color","Color_Impl_"],kha__$Color_Color_$Impl_$.__properties__={set_value:"set_value",get_value:"get_value",set_A:"set_A",get_A:"get_A",set_B:"set_B",get_B:"get_B",set_G:"set_G",get_G:"get_G",set_R:"set_R",get_R:"get_R",set_Ab:"set_Ab",get_Ab:"get_Ab",set_Bb:"set_Bb",get_Bb:"get_Bb",set_Gb:"set_Gb",get_Gb:"get_Gb",set_Rb:"set_Rb",get_Rb:"get_Rb"},kha__$Color_Color_$Impl_$.fromValue=function(e){return kha__$Color_Color_$Impl_$._new(e)},kha__$Color_Color_$Impl_$.fromBytes=function(e,t,a,r){return null==r&&(r=255),kha__$Color_Color_$Impl_$._new(r<<24|e<<16|t<<8|a)},kha__$Color_Color_$Impl_$.fromFloats=function(e,t,a,r){return null==r&&(r=1),kha__$Color_Color_$Impl_$._new((255*r|0)<<24|(255*e|0)<<16|(255*t|0)<<8|(255*a|0))},kha__$Color_Color_$Impl_$.fromString=function(e){if(7!=e.length&&9!=e.length||35!=e.charCodeAt(0))throw new js__$Boot_HaxeError("Invalid Color string: '"+e+"'");var t=Std.parseInt("0x"+HxOverrides.substr(e,1,null));return 7==e.length&&(t+=-16777216),kha__$Color_Color_$Impl_$._new(t)},kha__$Color_Color_$Impl_$._new=function(e){return e},kha__$Color_Color_$Impl_$.get_value=function(e){return e},kha__$Color_Color_$Impl_$.set_value=function(e,t){return e=t,t},kha__$Color_Color_$Impl_$.get_Rb=function(e){return(16711680&e)>>>16},kha__$Color_Color_$Impl_$.get_Gb=function(e){return(65280&e)>>>8},kha__$Color_Color_$Impl_$.get_Bb=function(e){return 255&e},kha__$Color_Color_$Impl_$.get_Ab=function(e){return e>>>24},kha__$Color_Color_$Impl_$.set_Rb=function(e,t){return e=e>>>24<<24|t<<16|(65280&e)>>>8<<8|255&e,t},kha__$Color_Color_$Impl_$.set_Gb=function(e,t){return e=e>>>24<<24|(16711680&e)>>>16<<16|t<<8|255&e,t},kha__$Color_Color_$Impl_$.set_Bb=function(e,t){return e=e>>>24<<24|(16711680&e)>>>16<<16|(65280&e)>>>8<<8|t,t},kha__$Color_Color_$Impl_$.set_Ab=function(e,t){return e=t<<24|(16711680&e)>>>16<<16|(65280&e)>>>8<<8|255&e,t},kha__$Color_Color_$Impl_$.get_R=function(e){return.00392156862745098*((16711680&e)>>>16)},kha__$Color_Color_$Impl_$.get_G=function(e){return.00392156862745098*((65280&e)>>>8)},kha__$Color_Color_$Impl_$.get_B=function(e){return.00392156862745098*(255&e)},kha__$Color_Color_$Impl_$.get_A=function(e){return.00392156862745098*(e>>>24)},kha__$Color_Color_$Impl_$.set_R=function(e,t){return e=(.00392156862745098*(e>>>24)*255|0)<<24|(255*t|0)<<16|(.00392156862745098*((65280&e)>>>8)*255|0)<<8|(.00392156862745098*(255&e)*255|0),t},kha__$Color_Color_$Impl_$.set_G=function(e,t){return e=(.00392156862745098*(e>>>24)*255|0)<<24|(.00392156862745098*((16711680&e)>>>16)*255|0)<<16|(255*t|0)<<8|(.00392156862745098*(255&e)*255|0),t},kha__$Color_Color_$Impl_$.set_B=function(e,t){return e=(.00392156862745098*(e>>>24)*255|0)<<24|(.00392156862745098*((16711680&e)>>>16)*255|0)<<16|(.00392156862745098*((65280&e)>>>8)*255|0)<<8|(255*t|0),t},kha__$Color_Color_$Impl_$.set_A=function(e,t){return e=(255*t|0)<<24|(.00392156862745098*((16711680&e)>>>16)*255|0)<<16|(.00392156862745098*((65280&e)>>>8)*255|0)<<8|(.00392156862745098*(255&e)*255|0),t};var kha_EnvironmentVariables=function(){};$hxClasses["kha.EnvironmentVariables"]=kha_EnvironmentVariables,kha_EnvironmentVariables.__name__=["kha","EnvironmentVariables"],kha_EnvironmentVariables.prototype={getVariable:function(e){return""},__class__:kha_EnvironmentVariables};var kha_Font=function(){};$hxClasses["kha.Font"]=kha_Font,kha_Font.__name__=["kha","Font"],kha_Font.__interfaces__=[kha_Resource],kha_Font.prototype={__class__:kha_Font};var kha_FontStyle=function(e,t,a){this.bold=e,this.italic=t,this.underlined=a};$hxClasses["kha.FontStyle"]=kha_FontStyle,kha_FontStyle.__name__=["kha","FontStyle"],kha_FontStyle.prototype={getBold:function(){return this.bold},getItalic:function(){return this.italic},getUnderlined:function(){return this.underlined},__class__:kha_FontStyle};var kha_Framebuffer=function(e,t,a,r){this.windowId=e,this.graphics1=t,this.graphics2=a,this.graphics4=r};$hxClasses["kha.Framebuffer"]=kha_Framebuffer,kha_Framebuffer.__name__=["kha","Framebuffer"],kha_Framebuffer.__interfaces__=[kha_Canvas],kha_Framebuffer.prototype={init:function(e,t,a){this.graphics1=e,this.graphics2=t,this.graphics4=a},get_g1:function(){return this.graphics1},get_g2:function(){return this.graphics2},get_g4:function(){return this.graphics4},get_width:function(){return kha_System.windowWidth(this.windowId)},get_height:function(){return kha_System.windowHeight(this.windowId)},__class__:kha_Framebuffer,__properties__:{get_height:"get_height",get_width:"get_width",get_g4:"get_g4",get_g2:"get_g2",get_g1:"get_g1"}};var kha_AlignedQuad=function(){};$hxClasses["kha.AlignedQuad"]=kha_AlignedQuad,kha_AlignedQuad.__name__=["kha","AlignedQuad"],kha_AlignedQuad.prototype={__class__:kha_AlignedQuad};var kha_KravurImage=function(e,t,a,r,i,s,n,_){this.mySize=e,this.width=i,this.height=s,this.chars=n,this.baseline=t;for(var o=0;o<n.length;){var h=n[o];++o,h.yoff+=this.baseline}this.texture=kha_Image.create(i,s,kha_graphics4_TextureFormat.L8);for(var l=this.texture.lock(),c=0,d=0;d<s;){++d;for(var u=0;u<i;)++u,l.b[c]=255&_.readU8(c),++c}this.texture.unlock()};$hxClasses["kha.KravurImage"]=kha_KravurImage,kha_KravurImage.__name__=["kha","KravurImage"],kha_KravurImage.prototype={getTexture:function(){return this.texture},getBakedQuad:function(e,t,a){if(e>=this.chars.length)return null;var r=1/this.width,i=1/this.height,s=this.chars[e];if(null==s)return null;var n=Math.round(t+s.xoff),_=Math.round(a+s.yoff),o=new kha_AlignedQuad;return o.x0=n,o.y0=_,o.x1=n+s.x1-s.x0,o.y1=_+s.y1-s.y0,o.s0=s.x0*r,o.t0=s.y0*i,o.s1=s.x1*r,o.t1=s.y1*i,o.xadvance=s.xadvance,o},getCharWidth:function(e){return e<32?0:e-32>=this.chars.length?0:this.chars[e-32].xadvance},getHeight:function(){return this.mySize},stringWidth:function(e){for(var t=new String(e),a=0,r=0,i=t.length;r<i;)a+=this.getCharWidth(HxOverrides.cca(t,r++));return a},getBaselinePosition:function(){return this.baseline},__class__:kha_KravurImage};var kha_Kravur=function(e){this.images=new haxe_ds_IntMap,this.blob=e};$hxClasses["kha.Kravur"]=kha_Kravur,kha_Kravur.__name__=["kha","Kravur"],kha_Kravur.__interfaces__=[kha_Font],kha_Kravur.prototype={_get:function(e,t){if(!this.images.h.hasOwnProperty(e)){if(null==t){t=[];for(var a=32;a<256;)t.push(a++)}for(var r=64,i=32,s=t.length,n=new Array(s),_=0,o=n.length;_<o;)n[_++]=new kha_graphics2_truetype_Stbtt_$bakedchar;for(var h=null,l=-1;l<0;)i<r?i*=2:r*=2,h=kha_internal_BytesBlob.alloc(r*i),l=kha_graphics2_truetype_StbTruetype.stbtt_BakeFontBitmap(this.blob,0,e,h,r,i,t,n);var c=new kha_graphics2_truetype_Stbtt_$fontinfo;kha_graphics2_truetype_StbTruetype.stbtt_InitFont(c,this.blob,0);var d=kha_graphics2_truetype_StbTruetype.stbtt_GetFontVMetrics(c),u=kha_graphics2_truetype_StbTruetype.stbtt_ScaleForPixelHeight(c,e),g=new kha_KravurImage(0|e,Math.round(d.ascent*u),Math.round(d.descent*u),Math.round(d.lineGap*u),r,i,n,h);return this.images.h[e]=g,g}return this.images.h[e]},height:function(e){return this._get(e).getHeight()},width:function(e,t){return this._get(e).stringWidth(t)},baseline:function(e){return this._get(e).getBaselinePosition()},unload:function(){this.blob=null,this.images=null},__class__:kha_Kravur};var kha_LoaderImpl=function(){};$hxClasses["kha.LoaderImpl"]=kha_LoaderImpl,kha_LoaderImpl.__name__=["kha","LoaderImpl"],kha_LoaderImpl.getImageFormats=function(){return["png","jpg","hdr"]},kha_LoaderImpl.loadImageFromDescription=function(e,t){var a=Object.prototype.hasOwnProperty.call(e,"readable")&&e.readable;if(StringTools.endsWith(e.files[0],".hdr"))kha_LoaderImpl.loadBlobFromDescription(e,function(e){var r=kha_internal_HdrFormat.parse(e.toBytes());t(kha_Image.fromBytes(haxe_io_Bytes.ofData(r.data.buffer),r.width,r.height,kha_graphics4_TextureFormat.RGBA128,a?kha_graphics4_Usage.DynamicUsage:kha_graphics4_Usage.StaticUsage))});else{var r=window.document.createElement("img");r.src=e.files[0],r.onload=function(i){t(kha_Image.fromImage(r,a,Object.prototype.hasOwnProperty.call(e,"format")?e.format:"RGBA32"))}}},kha_LoaderImpl.getSoundFormats=function(){var e=window.document.createElement("audio"),t=[];return""!=e.canPlayType("audio/mp4")&&t.push("mp4"),(kha_SystemImpl._hasWebAudio||""!=e.canPlayType("audio/ogg"))&&t.push("ogg"),t},kha_LoaderImpl.loadSoundFromDescription=function(e,t){if(kha_SystemImpl._hasWebAudio){if(""!=window.document.createElement("audio").canPlayType("audio/mp4"))for(var a=0,r=e.files.length;a<r;){var i=e.files[a++];if(StringTools.endsWith(i,".mp4"))return void new kha_js_WebAudioSound(i,t)}for(var s=0,n=e.files.length;s<n;){var _=e.files[s++];if(StringTools.endsWith(_,".ogg"))return void new kha_js_WebAudioSound(_,t)}}else new kha_js_Sound(e.files,t)},kha_LoaderImpl.getVideoFormats=function(){return["mp4","webm"]},kha_LoaderImpl.loadVideoFromDescription=function(e,t){new kha_js_Video(e.files,t)},kha_LoaderImpl.loadBlobFromDescription=function(e,t){var a=new XMLHttpRequest;a.open("GET",e.files[0],!0),a.responseType="arraybuffer",a.onreadystatechange=function(){if(4==a.readyState)if(a.status>=200&&a.status<400||0==a.status&&""==a.statusText){var r=null,i=a.response;if(null!=i){var s=new Uint8Array(i);r=new haxe_io_Bytes(new ArrayBuffer(s.byteLength));for(var n=0,_=s.byteLength;n<_;){var o=n++;r.b[o]=255&s[o]}}else if(null!=a.responseBody){var h=VBArray(a.responseBody).toArray();r=new haxe_io_Bytes(new ArrayBuffer(h.length));for(var l=0,c=h.length;l<c;){var d=l++;r.b[d]=255&h[d]}}else haxe_Log.trace("Error loading "+e.files[0],{fileName:"LoaderImpl.hx",lineNumber:123,className:"kha.LoaderImpl",methodName:"loadBlobFromDescription"}),window.console.log("loadBlob failed");t(new kha_internal_BytesBlob(r))}else haxe_Log.trace("Error loading "+e.files[0],{fileName:"LoaderImpl.hx",lineNumber:129,className:"kha.LoaderImpl",methodName:"loadBlobFromDescription"}),window.console.log("loadBlob failed")},a.send(null)},kha_LoaderImpl.loadFontFromDescription=function(e,t){kha_LoaderImpl.loadBlobFromDescription(e,function(e){t(null==kha_SystemImpl.gl?new kha_js_Font(new kha_Kravur(e)):new kha_Kravur(e))})};var kha_Rotation=function(e,t){this.center=e,this.angle=t};$hxClasses["kha.Rotation"]=kha_Rotation,kha_Rotation.__name__=["kha","Rotation"],kha_Rotation.prototype={__class__:kha_Rotation};var kha_TimeTask=function(){};$hxClasses["kha.TimeTask"]=kha_TimeTask,kha_TimeTask.__name__=["kha","TimeTask"],kha_TimeTask.prototype={__class__:kha_TimeTask};var kha_FrameTask=function(e,t,a){this.task=e,this.priority=t,this.id=a,this.active=!0,this.paused=!1};$hxClasses["kha.FrameTask"]=kha_FrameTask,kha_FrameTask.__name__=["kha","FrameTask"],kha_FrameTask.prototype={__class__:kha_FrameTask};var kha_Scheduler=function(){};$hxClasses["kha.Scheduler"]=kha_Scheduler,kha_Scheduler.__name__=["kha","Scheduler"],kha_Scheduler.init=function(){kha_Scheduler.deltas=[];for(var e=0,t=kha_Scheduler.DIF_COUNT;e<t;)kha_Scheduler.deltas[e++]=0;kha_Scheduler.stopped=!0,kha_Scheduler.frame_tasks_sorted=!0,kha_Scheduler.current=kha_Scheduler.realTime(),kha_Scheduler.lastTime=kha_Scheduler.realTime(),kha_Scheduler.currentFrameTaskId=0,kha_Scheduler.currentTimeTaskId=0,kha_Scheduler.currentGroupId=0,kha_Scheduler.timeTasks=[],kha_Scheduler.pausedTimeTasks=[],kha_Scheduler.outdatedTimeTasks=[],kha_Scheduler.timeTasksScratchpad=[],kha_Scheduler.frameTasks=[],kha_Scheduler.toDeleteFrame=[]},kha_Scheduler.start=function(e){null==e&&(e=!1),kha_Scheduler.vsync=kha_System.get_vsync();var t=kha_System.get_refreshRate();t>=57&&t<=63&&(t=60),kha_Scheduler.onedifhz=1/t,kha_Scheduler.stopped=!1,kha_Scheduler.resetTime(),kha_Scheduler.lastTime=kha_Scheduler.realTime();for(var a=0,r=kha_Scheduler.DIF_COUNT;a<r;)kha_Scheduler.deltas[a++]=0;if(e){for(var i=0,s=kha_Scheduler.timeTasks;i<s.length;){var n=s[i];++i,n.paused=!1}for(var _=0,o=kha_Scheduler.frameTasks;_<o.length;){var h=o[_];++_,h.paused=!1}}},kha_Scheduler.stop=function(){kha_Scheduler.stopped=!0},kha_Scheduler.isStopped=function(){return kha_Scheduler.stopped},kha_Scheduler.warpTimeTasks=function(e,t){for(var a=0;a<t.length;){var r=t[a];if(++a,r.start>=e)r.next=r.start;else if(r.period>0){var i=Math.ceil((e-r.start)/r.period);r.next=r.start+i*r.period}}},kha_Scheduler.back=function(e){if(!(e>=kha_Scheduler.lastTime)){kha_Scheduler.current=e,kha_Scheduler.lastTime=e,kha_Scheduler.warpTimeTasks(e,kha_Scheduler.outdatedTimeTasks),kha_Scheduler.warpTimeTasks(e,kha_Scheduler.timeTasks);for(var t=0,a=kha_Scheduler.outdatedTimeTasks;t<a.length;){var r=a[t];++t,r.next>=e&&kha_Scheduler.timeTasksScratchpad.push(r)}for(var i=0,s=kha_Scheduler.timeTasksScratchpad;i<s.length;){var n=s[i];++i,HxOverrides.remove(kha_Scheduler.outdatedTimeTasks,n)}for(var _=0,o=kha_Scheduler.timeTasksScratchpad;_<o.length;){var h=o[_];++_,kha_Scheduler.insertSorted(kha_Scheduler.timeTasks,h)}for(;kha_Scheduler.timeTasksScratchpad.length>0;)HxOverrides.remove(kha_Scheduler.timeTasksScratchpad,kha_Scheduler.timeTasksScratchpad[0]);for(var l=0,c=kha_Scheduler.outdatedTimeTasks;l<c.length;){var d=c[l];++l,d.next<e-1&&kha_Scheduler.timeTasksScratchpad.push(d)}for(var u=0,g=kha_Scheduler.timeTasksScratchpad;u<g.length;){var p=g[u];++u,HxOverrides.remove(kha_Scheduler.outdatedTimeTasks,p)}for(;kha_Scheduler.timeTasksScratchpad.length>0;)HxOverrides.remove(kha_Scheduler.timeTasksScratchpad,kha_Scheduler.timeTasksScratchpad[0])}},kha_Scheduler.executeFrame=function(){var e=kha_Scheduler.realTime()-kha_Scheduler.lastTime,t=kha_Scheduler.current;if(!(e<0)){if(e>kha_Scheduler.maxframetime)kha_Scheduler.startTime+=e-kha_Scheduler.maxframetime,e=kha_Scheduler.maxframetime,t+=e;else if(kha_Scheduler.vsync){for(var a=kha_Scheduler.onedifhz;a<e-kha_Scheduler.onedifhz;)a+=kha_Scheduler.onedifhz;e=a;for(var r=0,i=kha_Scheduler.DIF_COUNT-2;r<i;){var s=r++;e+=kha_Scheduler.deltas[s],kha_Scheduler.deltas[s]=kha_Scheduler.deltas[s+1]}e+=kha_Scheduler.deltas[kha_Scheduler.DIF_COUNT-2],e/=kha_Scheduler.DIF_COUNT,kha_Scheduler.deltas[kha_Scheduler.DIF_COUNT-2]=a,t+=e}else{for(var n=0,_=kha_Scheduler.DIF_COUNT-1;n<_;){var o=n++;kha_Scheduler.deltas[o]=kha_Scheduler.deltas[o+1]}kha_Scheduler.deltas[kha_Scheduler.DIF_COUNT-1]=e;for(var h=0,l=0,c=kha_Scheduler.DIF_COUNT;l<c;)h+=kha_Scheduler.deltas[l++];h/=kha_Scheduler.DIF_COUNT,t+=h}kha_Scheduler.lastTime=t,kha_Scheduler.stopped||(kha_Scheduler.current=t);for(var d=0,u=kha_Scheduler.pausedTimeTasks;d<u.length;){var g=u[d];++d,g.next+=e}if(kha_Scheduler.stopped)for(var p=0,m=kha_Scheduler.timeTasks;p<m.length;){var f=m[p];++p,f.next+=e}for(;kha_Scheduler.timeTasks.length>0&&(kha_Scheduler.activeTimeTask=kha_Scheduler.timeTasks[0],kha_Scheduler.activeTimeTask.next<=t);)kha_Scheduler.activeTimeTask.next+=kha_Scheduler.activeTimeTask.period,HxOverrides.remove(kha_Scheduler.timeTasks,kha_Scheduler.activeTimeTask),kha_Scheduler.activeTimeTask.active&&kha_Scheduler.activeTimeTask.task()?kha_Scheduler.activeTimeTask.period>0&&(0==kha_Scheduler.activeTimeTask.duration||kha_Scheduler.activeTimeTask.duration>=kha_Scheduler.activeTimeTask.start+kha_Scheduler.activeTimeTask.next)?kha_Scheduler.insertSorted(kha_Scheduler.timeTasks,kha_Scheduler.activeTimeTask):kha_Scheduler.archiveTimeTask(kha_Scheduler.activeTimeTask,t):(kha_Scheduler.activeTimeTask.active=!1,kha_Scheduler.archiveTimeTask(kha_Scheduler.activeTimeTask,t));kha_Scheduler.activeTimeTask=null,kha_Scheduler.sortFrameTasks();for(var v=0,k=kha_Scheduler.frameTasks;v<k.length;){var y=k[v];++v,kha_Scheduler.stopped||y.paused||!y.active||y.task()||(y.active=!1)}for(var b=0,I=kha_Scheduler.frameTasks;b<I.length;){var S=I[b];++b,S.active||kha_Scheduler.toDeleteFrame.push(S)}for(;kha_Scheduler.toDeleteFrame.length>0;)HxOverrides.remove(kha_Scheduler.frameTasks,kha_Scheduler.toDeleteFrame.pop())}},kha_Scheduler.archiveTimeTask=function(e,t){},kha_Scheduler.time=function(){return kha_Scheduler.current},kha_Scheduler.realTime=function(){return kha_System.get_time()-kha_Scheduler.startTime},kha_Scheduler.resetTime=function(){var e=kha_System.get_time(),t=e-kha_Scheduler.startTime;kha_Scheduler.startTime=e;for(var a=0,r=kha_Scheduler.timeTasks;a<r.length;){var i=r[a];++a,i.start-=t,i.next-=t}for(var s=0,n=kha_Scheduler.DIF_COUNT;s<n;)kha_Scheduler.deltas[s++]=0;kha_Scheduler.current=0,kha_Scheduler.lastTime=0},kha_Scheduler.addBreakableFrameTask=function(e,t){return kha_Scheduler.frameTasks.push(new kha_FrameTask(e,t,++kha_Scheduler.currentFrameTaskId)),kha_Scheduler.frame_tasks_sorted=!1,kha_Scheduler.currentFrameTaskId},kha_Scheduler.addFrameTask=function(e,t){return kha_Scheduler.addBreakableFrameTask(function(){return e(),!0},t)},kha_Scheduler.pauseFrameTask=function(e,t){for(var a=0,r=kha_Scheduler.frameTasks;a<r.length;){var i=r[a];if(++a,i.id==e){i.paused=t;break}}},kha_Scheduler.removeFrameTask=function(e){for(var t=0,a=kha_Scheduler.frameTasks;t<a.length;){var r=a[t];if(++t,r.id==e){r.active=!1;break}}},kha_Scheduler.generateGroupId=function(){return++kha_Scheduler.currentGroupId},kha_Scheduler.addBreakableTimeTaskToGroup=function(e,t,a,r,i){null==i&&(i=0),null==r&&(r=0);var s=new kha_TimeTask;return s.active=!0,s.task=t,s.id=++kha_Scheduler.currentTimeTaskId,s.groupId=e,s.start=kha_Scheduler.current+a,s.period=0,0!=r&&(s.period=r),s.duration=0,0!=i&&(s.duration=s.start+i),s.next=s.start,kha_Scheduler.insertSorted(kha_Scheduler.timeTasks,s),s.id},kha_Scheduler.addTimeTaskToGroup=function(e,t,a,r,i){return null==i&&(i=0),null==r&&(r=0),kha_Scheduler.addBreakableTimeTaskToGroup(e,function(){return t(),!0},a,r,i)},kha_Scheduler.addBreakableTimeTask=function(e,t,a,r){return null==r&&(r=0),null==a&&(a=0),kha_Scheduler.addBreakableTimeTaskToGroup(0,e,t,a,r)},kha_Scheduler.addTimeTask=function(e,t,a,r){return null==r&&(r=0),null==a&&(a=0),kha_Scheduler.addTimeTaskToGroup(0,e,t,a,r)},kha_Scheduler.getTimeTask=function(e){if(null!=kha_Scheduler.activeTimeTask&&kha_Scheduler.activeTimeTask.id==e)return kha_Scheduler.activeTimeTask;for(var t=0,a=kha_Scheduler.timeTasks;t<a.length;){var r=a[t];if(++t,r.id==e)return r}for(var i=0,s=kha_Scheduler.pausedTimeTasks;i<s.length;){var n=s[i];if(++i,n.id==e)return n}return null},kha_Scheduler.pauseTimeTask=function(e,t){var a=kha_Scheduler.getTimeTask(e);null!=a&&kha_Scheduler.pauseRunningTimeTask(a,t),null!=kha_Scheduler.activeTimeTask&&kha_Scheduler.activeTimeTask.id==e&&(kha_Scheduler.activeTimeTask.paused=t)},kha_Scheduler.pauseRunningTimeTask=function(e,t){e.paused=t,t?(HxOverrides.remove(kha_Scheduler.timeTasks,e),kha_Scheduler.pausedTimeTasks.push(e)):(kha_Scheduler.insertSorted(kha_Scheduler.timeTasks,e),HxOverrides.remove(kha_Scheduler.pausedTimeTasks,e))},kha_Scheduler.pauseTimeTasks=function(e,t){for(var a=0,r=kha_Scheduler.timeTasks;a<r.length;){var i=r[a];++a,i.groupId==e&&kha_Scheduler.pauseRunningTimeTask(i,t)}null!=kha_Scheduler.activeTimeTask&&kha_Scheduler.activeTimeTask.groupId==e&&(kha_Scheduler.activeTimeTask.paused=t)},kha_Scheduler.removeTimeTask=function(e){var t=kha_Scheduler.getTimeTask(e);null!=t&&(t.active=!1,HxOverrides.remove(kha_Scheduler.timeTasks,t))},kha_Scheduler.removeTimeTasks=function(e){for(var t=0,a=kha_Scheduler.timeTasks;t<a.length;){var r=a[t];++t,r.groupId==e&&(r.active=!1,kha_Scheduler.timeTasksScratchpad.push(r))}for(var i=0,s=kha_Scheduler.timeTasksScratchpad;i<s.length;){var n=s[i];++i,HxOverrides.remove(kha_Scheduler.timeTasks,n)}for(;kha_Scheduler.timeTasksScratchpad.length>0;)HxOverrides.remove(kha_Scheduler.timeTasksScratchpad,kha_Scheduler.timeTasksScratchpad[0]);null!=kha_Scheduler.activeTimeTask&&kha_Scheduler.activeTimeTask.groupId==e&&(kha_Scheduler.activeTimeTask.active=!1)},kha_Scheduler.numTasksInSchedule=function(){return kha_Scheduler.timeTasks.length+kha_Scheduler.frameTasks.length},kha_Scheduler.insertSorted=function(e,t){for(var a=0,r=e.length;a<r;){var i=a++;if(e[i].next>t.next)return void e.splice(i,0,t)}e.push(t)},kha_Scheduler.sortFrameTasks=function(){kha_Scheduler.frame_tasks_sorted||(kha_Scheduler.frameTasks.sort(function(e,t){return e.priority>t.priority?1:e.priority<t.priority?-1:0}),kha_Scheduler.frame_tasks_sorted=!0)};var kha_ScreenRotation=$hxClasses["kha.ScreenRotation"]={__ename__:["kha","ScreenRotation"],__constructs__:["RotationNone","Rotation90","Rotation180","Rotation270"]};kha_ScreenRotation.RotationNone=["RotationNone",0],kha_ScreenRotation.RotationNone.toString=$estr,kha_ScreenRotation.RotationNone.__enum__=kha_ScreenRotation,kha_ScreenRotation.Rotation90=["Rotation90",1],kha_ScreenRotation.Rotation90.toString=$estr,kha_ScreenRotation.Rotation90.__enum__=kha_ScreenRotation,kha_ScreenRotation.Rotation180=["Rotation180",2],kha_ScreenRotation.Rotation180.toString=$estr,kha_ScreenRotation.Rotation180.__enum__=kha_ScreenRotation,kha_ScreenRotation.Rotation270=["Rotation270",3],kha_ScreenRotation.Rotation270.toString=$estr,kha_ScreenRotation.Rotation270.__enum__=kha_ScreenRotation;var kha_Shaders=function(){};$hxClasses["kha.Shaders"]=kha_Shaders,kha_Shaders.__name__=["kha","Shaders"],kha_Shaders.init=function(){var e=Reflect.field(kha_Shaders,"compositor_pass_EnvSky_Rad_CompoTonemap_CompoFXAA_fragData"),t=haxe_Unserializer.run(e);kha_Shaders.compositor_pass_EnvSky_Rad_CompoTonemap_CompoFXAA_frag=new kha_graphics4_FragmentShader(kha_internal_BytesBlob.fromBytes(t),"compositor_pass_EnvSky_Rad_CompoTonemap_CompoFXAA_frag");var a=Reflect.field(kha_Shaders,"compositor_pass_EnvSky_Rad_CompoTonemap_CompoFXAA_vertData"),r=haxe_Unserializer.run(a);kha_Shaders.compositor_pass_EnvSky_Rad_CompoTonemap_CompoFXAA_vert=new kha_graphics4_VertexShader(kha_internal_BytesBlob.fromBytes(r),"compositor_pass_EnvSky_Rad_CompoTonemap_CompoFXAA_vert");var i=Reflect.field(kha_Shaders,"mesh_BaseTex_RoughTex_Tex_EnvSky_Rad_fragData"),s=haxe_Unserializer.run(i);kha_Shaders.mesh_BaseTex_RoughTex_Tex_EnvSky_Rad_frag=new kha_graphics4_FragmentShader(kha_internal_BytesBlob.fromBytes(s),"mesh_BaseTex_RoughTex_Tex_EnvSky_Rad_frag");var n=Reflect.field(kha_Shaders,"mesh_BaseTex_RoughTex_Tex_EnvSky_Rad_vertData"),_=haxe_Unserializer.run(n);kha_Shaders.mesh_BaseTex_RoughTex_Tex_EnvSky_Rad_vert=new kha_graphics4_VertexShader(kha_internal_BytesBlob.fromBytes(_),"mesh_BaseTex_RoughTex_Tex_EnvSky_Rad_vert");var o=Reflect.field(kha_Shaders,"mesh_EnvSky_Rad_fragData"),h=haxe_Unserializer.run(o);kha_Shaders.mesh_EnvSky_Rad_frag=new kha_graphics4_FragmentShader(kha_internal_BytesBlob.fromBytes(h),"mesh_EnvSky_Rad_frag");var l=Reflect.field(kha_Shaders,"mesh_EnvSky_Rad_vertData"),c=haxe_Unserializer.run(l);kha_Shaders.mesh_EnvSky_Rad_vert=new kha_graphics4_VertexShader(kha_internal_BytesBlob.fromBytes(c),"mesh_EnvSky_Rad_vert");var d=Reflect.field(kha_Shaders,"mesh_Instancing_Skinning_EnvSky_Rad_fragData"),u=haxe_Unserializer.run(d);kha_Shaders.mesh_Instancing_Skinning_EnvSky_Rad_frag=new kha_graphics4_FragmentShader(kha_internal_BytesBlob.fromBytes(u),"mesh_Instancing_Skinning_EnvSky_Rad_frag");var g=Reflect.field(kha_Shaders,"mesh_Instancing_Skinning_EnvSky_Rad_vertData"),p=haxe_Unserializer.run(g);kha_Shaders.mesh_Instancing_Skinning_EnvSky_Rad_vert=new kha_graphics4_VertexShader(kha_internal_BytesBlob.fromBytes(p),"mesh_Instancing_Skinning_EnvSky_Rad_vert");var m=Reflect.field(kha_Shaders,"shadowmap_BaseTex_RoughTex_Tex_EnvSky_Rad_fragData"),f=haxe_Unserializer.run(m);kha_Shaders.shadowmap_BaseTex_RoughTex_Tex_EnvSky_Rad_frag=new kha_graphics4_FragmentShader(kha_internal_BytesBlob.fromBytes(f),"shadowmap_BaseTex_RoughTex_Tex_EnvSky_Rad_frag");var v=Reflect.field(kha_Shaders,"shadowmap_BaseTex_RoughTex_Tex_EnvSky_Rad_vertData"),k=haxe_Unserializer.run(v);kha_Shaders.shadowmap_BaseTex_RoughTex_Tex_EnvSky_Rad_vert=new kha_graphics4_VertexShader(kha_internal_BytesBlob.fromBytes(k),"shadowmap_BaseTex_RoughTex_Tex_EnvSky_Rad_vert");var y=Reflect.field(kha_Shaders,"shadowmap_EnvSky_Rad_fragData"),b=haxe_Unserializer.run(y);kha_Shaders.shadowmap_EnvSky_Rad_frag=new kha_graphics4_FragmentShader(kha_internal_BytesBlob.fromBytes(b),"shadowmap_EnvSky_Rad_frag");var I=Reflect.field(kha_Shaders,"shadowmap_EnvSky_Rad_vertData"),S=haxe_Unserializer.run(I);kha_Shaders.shadowmap_EnvSky_Rad_vert=new kha_graphics4_VertexShader(kha_internal_BytesBlob.fromBytes(S),"shadowmap_EnvSky_Rad_vert");var x=Reflect.field(kha_Shaders,"shadowmap_Instancing_Skinning_EnvSky_Rad_fragData"),C=haxe_Unserializer.run(x);kha_Shaders.shadowmap_Instancing_Skinning_EnvSky_Rad_frag=new kha_graphics4_FragmentShader(kha_internal_BytesBlob.fromBytes(C),"shadowmap_Instancing_Skinning_EnvSky_Rad_frag");var w=Reflect.field(kha_Shaders,"shadowmap_Instancing_Skinning_EnvSky_Rad_vertData"),B=haxe_Unserializer.run(w);kha_Shaders.shadowmap_Instancing_Skinning_EnvSky_Rad_vert=new kha_graphics4_VertexShader(kha_internal_BytesBlob.fromBytes(B),"shadowmap_Instancing_Skinning_EnvSky_Rad_vert");var A=Reflect.field(kha_Shaders,"world_EnvSky_Rad_fragData"),T=haxe_Unserializer.run(A);kha_Shaders.world_EnvSky_Rad_frag=new kha_graphics4_FragmentShader(kha_internal_BytesBlob.fromBytes(T),"world_EnvSky_Rad_frag");var M=Reflect.field(kha_Shaders,"world_EnvSky_Rad_vertData"),V=haxe_Unserializer.run(M);kha_Shaders.world_EnvSky_Rad_vert=new kha_graphics4_VertexShader(kha_internal_BytesBlob.fromBytes(V),"world_EnvSky_Rad_vert");var D=Reflect.field(kha_Shaders,"painter_colored_fragData"),F=haxe_Unserializer.run(D);kha_Shaders.painter_colored_frag=new kha_graphics4_FragmentShader(kha_internal_BytesBlob.fromBytes(F),"painter_colored_frag");var R=Reflect.field(kha_Shaders,"painter_colored_vertData"),E=haxe_Unserializer.run(R);kha_Shaders.painter_colored_vert=new kha_graphics4_VertexShader(kha_internal_BytesBlob.fromBytes(E),"painter_colored_vert");var G=Reflect.field(kha_Shaders,"painter_image_fragData"),N=haxe_Unserializer.run(G);kha_Shaders.painter_image_frag=new kha_graphics4_FragmentShader(kha_internal_BytesBlob.fromBytes(N),"painter_image_frag");var j=Reflect.field(kha_Shaders,"painter_image_vertData"),z=haxe_Unserializer.run(j);kha_Shaders.painter_image_vert=new kha_graphics4_VertexShader(kha_internal_BytesBlob.fromBytes(z),"painter_image_vert");var P=Reflect.field(kha_Shaders,"painter_text_fragData"),H=haxe_Unserializer.run(P);kha_Shaders.painter_text_frag=new kha_graphics4_FragmentShader(kha_internal_BytesBlob.fromBytes(H),"painter_text_frag");var Z=Reflect.field(kha_Shaders,"painter_text_vertData"),K=haxe_Unserializer.run(Z);kha_Shaders.painter_text_vert=new kha_graphics4_VertexShader(kha_internal_BytesBlob.fromBytes(K),"painter_text_vert");var W=Reflect.field(kha_Shaders,"painter_video_fragData"),L=haxe_Unserializer.run(W);kha_Shaders.painter_video_frag=new kha_graphics4_FragmentShader(kha_internal_BytesBlob.fromBytes(L),"painter_video_frag");var $=Reflect.field(kha_Shaders,"painter_video_vertData"),U=haxe_Unserializer.run($);kha_Shaders.painter_video_vert=new kha_graphics4_VertexShader(kha_internal_BytesBlob.fromBytes(U),"painter_video_vert")};var kha_Sound=function(){};$hxClasses["kha.Sound"]=kha_Sound,kha_Sound.__name__=["kha","Sound"],kha_Sound.__interfaces__=[kha_Resource],kha_Sound.prototype={uncompress:function(e){var t=new haxe_io_BytesOutput,a=kha_audio2_ogg_vorbis_Reader.readAll(this.compressedData,t,!0),r=t.getBytes(),i=r.length/4|0;if(1==a.channel){this.uncompressedData=new Array(2*i);for(var s=0,n=i;s<n;){var _=s++;this.uncompressedData[2*_]=r.getFloat(4*_),this.uncompressedData[2*_+1]=r.getFloat(4*_)}}else{this.uncompressedData=new Array(i);for(var o=0,h=i;o<h;){var l=o++;this.uncompressedData[l]=r.getFloat(4*l)}}this.compressedData=null,e()},unload:function(){this.compressedData=null,this.uncompressedData=null},__class__:kha_Sound};var kha_StorageFile=function(){};$hxClasses["kha.StorageFile"]=kha_StorageFile,kha_StorageFile.__name__=["kha","StorageFile"],kha_StorageFile.prototype={read:function(){return null},write:function(e){},append:function(e){},canAppend:function(){return!1},maxSize:function(){return-1},writeString:function(e){this.write(kha_internal_BytesBlob.fromBytes(haxe_io_Bytes.ofString(e)))},appendString:function(e){this.append(kha_internal_BytesBlob.fromBytes(haxe_io_Bytes.ofString(e)))},readString:function(){var e=this.read();return null==e?null:e.toString()},writeObject:function(e){this.writeString(haxe_Serializer.run(e))},readObject:function(){var e=this.readString();if(null==e)return null;try{return haxe_Unserializer.run(e)}catch(e){return null}},__class__:kha_StorageFile};var kha_LocalStorageFile=function(e){this.name=e};$hxClasses["kha.LocalStorageFile"]=kha_LocalStorageFile,kha_LocalStorageFile.__name__=["kha","LocalStorageFile"],kha_LocalStorageFile.encode=function(e){for(var t,a,r=[0,10,13,61],i="",s=new Uint8Array(e),n=0,_=s.length;n<_;)a=s[n++],t=(a+42)%256,Lambda.has(r,t)?(t=(t+64)%256,i+="="+String.fromCharCode(t)):i+=String.fromCharCode(t);return i},kha_LocalStorageFile.decode=function(e){for(var t,a=new haxe_io_BytesBuffer,r=!1,i=0,s=e.length;i<s;)t=e.charCodeAt(i++),13!=t&&10!=t&&(61!=t||r?(r&&(r=!1,t-=64),t<42&&t>0?a.b.push(t+214):a.b.push(t-42)):r=!0);return a.getBytes()},kha_LocalStorageFile.__super__=kha_StorageFile,kha_LocalStorageFile.prototype=$extend(kha_StorageFile.prototype,{read:function(){var e=window.localStorage;if(null==e)return null;var t=e.getItem(this.name);return null==t?null:kha_internal_BytesBlob.fromBytes(kha_LocalStorageFile.decode(t))},write:function(e){var t=window.localStorage;null!=t&&t.setItem(this.name,kha_LocalStorageFile.encode(e.bytes.b.bufferValue))},__class__:kha_LocalStorageFile});var kha_Storage=function(){};$hxClasses["kha.Storage"]=kha_Storage,kha_Storage.__name__=["kha","Storage"],kha_Storage.namedFile=function(e){return new kha_LocalStorageFile(e)},kha_Storage.defaultFile=function(){return kha_Storage.namedFile("default.kha")};var kha_System=function(){};$hxClasses["kha.System"]=kha_System,kha_System.__name__=["kha","System"],kha_System.__properties__={get_systemId:"get_systemId",get_refreshRate:"get_refreshRate",get_vsync:"get_vsync",get_screenRotation:"get_screenRotation",get_time:"get_time"},kha_System.init=function(e,t){null==e.title&&(e.title="Kha"),null==e.width&&(e.width=800),null==e.height&&(e.height=600),null==e.samplesPerPixel&&(e.samplesPerPixel=1),kha_SystemImpl.init(e,t)},kha_System.initEx=function(e,t,a,r){kha_SystemImpl.initEx(e,t,a,r)},kha_System.notifyOnRender=function(e,t){for(null==t&&(t=0);t>=kha_System.renderListeners.length;)kha_System.renderListeners.push([]);kha_System.renderListeners[t].push(e)},kha_System.notifyOnApplicationState=function(e,t,a,r,i){null!=e&&kha_System.foregroundListeners.push(e),null!=t&&kha_System.resumeListeners.push(t),null!=a&&kha_System.pauseListeners.push(a),null!=r&&kha_System.backgroundListeners.push(r),null!=i&&kha_System.shutdownListeners.push(i)},kha_System.render=function(e,t){if(0!=kha_System.renderListeners.length)for(var a=0,r=kha_System.renderListeners[e];a<r.length;){var i=r[a];++a,i(t)}},kha_System.foreground=function(){for(var e=0,t=kha_System.foregroundListeners;e<t.length;){var a=t[e];++e,a()}},kha_System.resume=function(){for(var e=0,t=kha_System.resumeListeners;e<t.length;){var a=t[e];++e,a()}},kha_System.pause=function(){for(var e=0,t=kha_System.pauseListeners;e<t.length;){var a=t[e];++e,a()}},kha_System.background=function(){for(var e=0,t=kha_System.backgroundListeners;e<t.length;){var a=t[e];++e,a()}},kha_System.shutdown=function(){for(var e=0,t=kha_System.shutdownListeners;e<t.length;){var a=t[e];++e,a()}},kha_System.get_time=function(){return kha_SystemImpl.getTime()},kha_System.windowWidth=function(e){return null==e&&(e=0),kha_SystemImpl.windowWidth(e)},kha_System.windowHeight=function(e){
return null==e&&(e=0),kha_SystemImpl.windowHeight(e)},kha_System.screenDpi=function(){return kha_SystemImpl.screenDpi()},kha_System.get_screenRotation=function(){return kha_SystemImpl.getScreenRotation()},kha_System.get_vsync=function(){return kha_SystemImpl.getVsync()},kha_System.get_refreshRate=function(){return kha_SystemImpl.getRefreshRate()},kha_System.get_systemId=function(){return kha_SystemImpl.getSystemId()},kha_System.requestShutdown=function(){kha_SystemImpl.requestShutdown()},kha_System.changeResolution=function(e,t){kha_SystemImpl.changeResolution(e,t)},kha_System.loadUrl=function(e){};var kha_GamepadStates=function(){this.axes=[],this.buttons=[]};$hxClasses["kha.GamepadStates"]=kha_GamepadStates,kha_GamepadStates.__name__=["kha","GamepadStates"],kha_GamepadStates.prototype={__class__:kha_GamepadStates};var kha_SystemImpl=function(){};$hxClasses["kha.SystemImpl"]=kha_SystemImpl,kha_SystemImpl.__name__=["kha","SystemImpl"],kha_SystemImpl.initPerformanceTimer=function(){null!=window.performance?kha_SystemImpl.performance=window.performance:kha_SystemImpl.performance=window.Date},kha_SystemImpl.errorHandler=function(e,t,a,r,i){return window.console.error(i.stack),!0},kha_SystemImpl.init=function(e,t){kha_SystemImpl.options=e,kha_SystemImpl.mobile=kha_SystemImpl.isMobile(),kha_SystemImpl.init2(),t()},kha_SystemImpl.initEx=function(e,t,a,r){haxe_Log.trace("initEx is not supported on the html5 target, running init() with first window options",{fileName:"SystemImpl.hx",lineNumber:80,className:"kha.SystemImpl",methodName:"initEx"}),kha_SystemImpl.init({title:e,width:t[0].width,height:t[0].height},r),null!=a&&a(0)},kha_SystemImpl.isMobile=function(){var e=window.navigator.userAgent;return e.indexOf("Android")>=0||e.indexOf("webOS")>=0||e.indexOf("iPhone")>=0||e.indexOf("iPad")>=0||e.indexOf("iPod")>=0||e.indexOf("BlackBerry")>=0||e.indexOf("Windows Phone")>=0},kha_SystemImpl.windowWidth=function(e){return null==e&&(e=0),kha_SystemImpl.khanvas.width},kha_SystemImpl.windowHeight=function(e){return null==e&&(e=0),kha_SystemImpl.khanvas.height},kha_SystemImpl.screenDpi=function(){var e=window.document.createElement("div");e.style.position="absolute",e.style.width="1in",e.style.height="1in",e.style.left="-100%",e.style.top="-100%",window.document.body.appendChild(e);var t=e.offsetHeight;return e.remove(),t},kha_SystemImpl.setCanvas=function(e){kha_SystemImpl.khanvas=e},kha_SystemImpl.getScreenRotation=function(){return kha_ScreenRotation.RotationNone},kha_SystemImpl.getTime=function(){return kha_SystemImpl.performance.now()/1e3},kha_SystemImpl.getVsync=function(){return!0},kha_SystemImpl.getRefreshRate=function(){return 60},kha_SystemImpl.getSystemId=function(){return"HTML5"},kha_SystemImpl.requestShutdown=function(){window.close()},kha_SystemImpl.init2=function(e){haxe_Log.trace=js_Boot.__trace,kha_SystemImpl.keyboard=new kha_input_Keyboard,kha_SystemImpl.mouse=new kha_input_MouseImpl,kha_SystemImpl.surface=new kha_input_Surface,kha_SystemImpl.gamepads=[],kha_SystemImpl.gamepadStates=[];for(var t=0,a=kha_SystemImpl.maxGamepads;t<a;){var r=t++;kha_SystemImpl.gamepads[r]=new kha_input_Gamepad(r),kha_SystemImpl.gamepadStates[r]=new kha_GamepadStates}kha_SystemImpl.pressedKeys=[];for(var i=0;i<256;){i++;kha_SystemImpl.pressedKeys.push(!1)}for(var s=0;s<256;){s++;kha_SystemImpl.pressedKeys.push(null)}kha_SystemImpl.buttonspressed=[];for(var n=0;n<10;){n++;kha_SystemImpl.buttonspressed.push(!1)}kha_CanvasImage.init(),kha_SystemImpl.initPerformanceTimer(),kha_Scheduler.init(),kha_SystemImpl.loadFinished(),kha_EnvironmentVariables.instance=new kha_js_EnvironmentVariables},kha_SystemImpl.getMouse=function(e){return 0!=e?null:kha_SystemImpl.mouse},kha_SystemImpl.getKeyboard=function(e){return 0!=e?null:kha_SystemImpl.keyboard},kha_SystemImpl.checkGamepadButton=function(e,t){kha_SystemImpl.buttonspressed[t]?e.buttons[t]<.5&&(kha_SystemImpl.buttonspressed[t]=!1):e.buttons[t]>.5&&(kha_SystemImpl.buttonspressed[t]=!0)},kha_SystemImpl.checkGamepad=function(e){for(var t=0,a=e.axes.length;t<a;){var r=t++;if(null!=e.axes[r]&&kha_SystemImpl.gamepadStates[e.index].axes[r]!=e.axes[r]){var i=e.axes[r];r%2==1&&(i=-i),kha_SystemImpl.gamepadStates[e.index].axes[r]=i,kha_SystemImpl.gamepads[e.index].sendAxisEvent(r,i)}}for(var s=0,n=e.buttons.length;s<n;){var _=s++;null!=e.buttons[_]&&kha_SystemImpl.gamepadStates[e.index].buttons[_]!=e.buttons[_].value&&(kha_SystemImpl.gamepadStates[e.index].buttons[_]=e.buttons[_].value,kha_SystemImpl.gamepads[e.index].sendButtonEvent(_,e.buttons[_].value))}e.axes.length<=4&&e.buttons.length>7&&(kha_SystemImpl.gamepadStates[e.index].axes[4]=e.buttons[6].value,kha_SystemImpl.gamepads[e.index].sendAxisEvent(4,e.buttons[6].value),kha_SystemImpl.gamepadStates[e.index].axes[5]=e.buttons[7].value,kha_SystemImpl.gamepads[e.index].sendAxisEvent(5,e.buttons[7].value))},kha_SystemImpl.loadFinished=function(){var e=window.document.getElementById("khanvas");e.style.cursor="default";var t=!1;try{kha_SystemImpl.gl=e.getContext("experimental-webgl",{alpha:!1,antialias:kha_SystemImpl.options.samplesPerPixel>1,stencil:!0,preserveDrawingBuffer:!0}),null!=kha_SystemImpl.gl&&(kha_SystemImpl.gl.pixelStorei(37441,1),kha_SystemImpl.gl.getExtension("OES_texture_float"),kha_SystemImpl.gl.getExtension("OES_texture_float_linear"),kha_SystemImpl.halfFloat=kha_SystemImpl.gl.getExtension("OES_texture_half_float"),kha_SystemImpl.gl.getExtension("OES_texture_half_float_linear"),kha_SystemImpl.depthTexture=kha_SystemImpl.gl.getExtension("WEBGL_depth_texture"),kha_SystemImpl.gl.getExtension("EXT_shader_texture_lod"),kha_SystemImpl.gl.getExtension("OES_standard_derivatives"),kha_SystemImpl.anisotropicFilter=kha_SystemImpl.gl.getExtension("EXT_texture_filter_anisotropic"),null==kha_SystemImpl.anisotropicFilter&&(kha_SystemImpl.anisotropicFilter=kha_SystemImpl.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")),kha_SystemImpl.drawBuffers=kha_SystemImpl.gl.getExtension("WEBGL_draw_buffers"),t=!0,kha_Shaders.init())}catch(e){e instanceof js__$Boot_HaxeError&&(e=e.val),haxe_Log.trace(e,{fileName:"SystemImpl.hx",lineNumber:289,className:"kha.SystemImpl",methodName:"loadFinished"})}if(kha_SystemImpl.setCanvas(e),t){var a=t?new kha_js_graphics4_Graphics:null;kha_SystemImpl.frame=new kha_Framebuffer(0,null,null,a),kha_SystemImpl.frame.init(new kha_graphics2_Graphics1(kha_SystemImpl.frame),new kha_js_graphics4_Graphics2(kha_SystemImpl.frame),a)}else{var r=new kha_js_CanvasGraphics(e.getContext("2d"),kha_System.windowWidth(),kha_System.windowHeight());kha_SystemImpl.frame=new kha_Framebuffer(0,null,r,null),kha_SystemImpl.frame.init(new kha_graphics2_Graphics1(kha_SystemImpl.frame),r,null)}!kha_SystemImpl.mobile&&kha_audio2_Audio._init()?(kha_SystemImpl._hasWebAudio=!0,kha_audio2_Audio1._init()):(kha_SystemImpl._hasWebAudio=!1,kha_js_AudioElementAudio._compile(),kha_audio2_Audio1=kha_js_AudioElementAudio),kha_Scheduler.start();var i=window,s=i.requestAnimationFrame;null==s&&(s=i.mozRequestAnimationFrame),null==s&&(s=i.webkitRequestAnimationFrame),null==s&&(s=i.msRequestAnimationFrame);var n=null;n=function(t){var a=window;null==s?a.setTimeout(n,16.666666666666668):s(n);var r=navigator.getGamepads&&navigator.getGamepads()||navigator.webkitGetGamepads&&navigator.webkitGetGamepads();if(null!=r)for(var i=0,_=r.length;i<_;){var o=i++,h=r[o];null!=h&&(kha_SystemImpl.checkGamepadButton(h,0),kha_SystemImpl.checkGamepadButton(h,1),kha_SystemImpl.checkGamepadButton(h,12),kha_SystemImpl.checkGamepadButton(h,13),kha_SystemImpl.checkGamepadButton(h,14),kha_SystemImpl.checkGamepadButton(h,15),kha_SystemImpl.checkGamepad(h))}if(kha_Scheduler.executeFrame(),e.getContext){var l=e.clientWidth,c=e.clientHeight;e.width==l&&e.height==c||(e.width=l,e.height=c),kha_System.render(0,kha_SystemImpl.frame),null!=kha_SystemImpl.gl&&(kha_SystemImpl.gl.clearColor(1,1,1,1),kha_SystemImpl.gl.colorMask(!1,!1,!1,!0),kha_SystemImpl.gl.clear(16384),kha_SystemImpl.gl.colorMask(!0,!0,!0,!0))}};var _=n;null==s?i.setTimeout(_,16.666666666666668):s(_),null==e.getAttribute("tabindex")&&e.setAttribute("tabindex","0"),e.focus(),e.oncontextmenu=function(e){e.stopPropagation(),e.preventDefault()},e.onmousedown=kha_SystemImpl.mouseDown,e.onmousemove=kha_SystemImpl.mouseMove,e.onkeydown=kha_SystemImpl.keyDown,e.onkeyup=kha_SystemImpl.keyUp,e.onblur=kha_SystemImpl.onBlur,e.onfocus=kha_SystemImpl.onFocus,e.onmousewheel=e.onwheel=kha_SystemImpl.mouseWheel,e.addEventListener("wheel mousewheel",kha_SystemImpl.mouseWheel,!1),e.addEventListener("touchstart",kha_SystemImpl.touchDown,!1),e.addEventListener("touchend",kha_SystemImpl.touchUp,!1),e.addEventListener("touchmove",kha_SystemImpl.touchMove,!1),window.addEventListener("unload",kha_SystemImpl.unload)},kha_SystemImpl.lockMouse=function(){$_=kha_SystemImpl.khanvas,$bind($_,$_.requestPointerLock)?kha_SystemImpl.khanvas.requestPointerLock():kha_SystemImpl.khanvas.mozRequestPointerLock?kha_SystemImpl.khanvas.mozRequestPointerLock():kha_SystemImpl.khanvas.webkitRequestPointerLock&&kha_SystemImpl.khanvas.webkitRequestPointerLock()},kha_SystemImpl.unlockMouse=function(){document.exitPointerLock?document.exitPointerLock():document.mozExitPointerLock?document.mozExitPointerLock():document.webkitExitPointerLock&&document.webkitExitPointerLock()},kha_SystemImpl.canLockMouse=function(){return"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document},kha_SystemImpl.isMouseLocked=function(){return document.pointerLockElement===kha_Sys.khanvas||document.mozPointerLockElement===kha_Sys.khanvas||document.webkitPointerLockElement===kha_Sys.khanvas},kha_SystemImpl.notifyOfMouseLockChange=function(e,t){window.document.addEventListener("pointerlockchange",e,!1),window.document.addEventListener("mozpointerlockchange",e,!1),window.document.addEventListener("webkitpointerlockchange",e,!1),window.document.addEventListener("pointerlockerror",t,!1),window.document.addEventListener("mozpointerlockerror",t,!1),window.document.addEventListener("webkitpointerlockerror",t,!1)},kha_SystemImpl.removeFromMouseLockChange=function(e,t){window.document.removeEventListener("pointerlockchange",e,!1),window.document.removeEventListener("mozpointerlockchange",e,!1),window.document.removeEventListener("webkitpointerlockchange",e,!1),window.document.removeEventListener("pointerlockerror",t,!1),window.document.removeEventListener("mozpointerlockerror",t,!1),window.document.removeEventListener("webkitpointerlockerror",t,!1)},kha_SystemImpl.unload=function(e){},kha_SystemImpl.setMouseXY=function(e){var t=kha_SystemImpl.khanvas.getBoundingClientRect(),a=kha_SystemImpl.khanvas.clientLeft,r=kha_SystemImpl.khanvas.clientTop;kha_SystemImpl.mouseX=(e.clientX-t.left-a)*kha_SystemImpl.khanvas.width/(t.width-2*a)|0,kha_SystemImpl.mouseY=(e.clientY-t.top-r)*kha_SystemImpl.khanvas.height/(t.height-2*r)|0},kha_SystemImpl.mouseWheel=function(e){return kha_SystemImpl.insideInputEvent=!0,kha_js_AEAudioChannel.catchUp(),e.preventDefault(),0==e.deltaMode?(e.deltaY<0?kha_SystemImpl.mouse.sendWheelEvent(0,-1):e.deltaY>0&&kha_SystemImpl.mouse.sendWheelEvent(0,1),kha_SystemImpl.insideInputEvent=!1,!1):1==e.deltaMode?(kha_SystemImpl.minimumScroll=0|Math.min(kha_SystemImpl.minimumScroll,Math.abs(e.deltaY)),kha_SystemImpl.mouse.sendWheelEvent(0,e.deltaY/kha_SystemImpl.minimumScroll|0),kha_SystemImpl.insideInputEvent=!1,!1):(kha_SystemImpl.insideInputEvent=!1,!1)},kha_SystemImpl.mouseDown=function(e){kha_SystemImpl.insideInputEvent=!0,kha_js_AEAudioChannel.catchUp(),kha_SystemImpl.setMouseXY(e),1==e.which?(e.ctrlKey?(kha_SystemImpl.leftMouseCtrlDown=!0,kha_SystemImpl.mouse.sendDownEvent(0,1,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY)):(kha_SystemImpl.leftMouseCtrlDown=!1,kha_SystemImpl.mouse.sendDownEvent(0,0,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY)),window.document.addEventListener("mouseup",kha_SystemImpl.mouseLeftUp)):2==e.which?(kha_SystemImpl.mouse.sendDownEvent(0,2,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY),window.document.addEventListener("mouseup",kha_SystemImpl.mouseMiddleUp)):3==e.which&&(kha_SystemImpl.mouse.sendDownEvent(0,1,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY),window.document.addEventListener("mouseup",kha_SystemImpl.mouseRightUp)),kha_SystemImpl.insideInputEvent=!1},kha_SystemImpl.mouseLeftUp=function(e){kha_SystemImpl.insideInputEvent=!0,kha_js_AEAudioChannel.catchUp(),1==e.which&&(window.document.removeEventListener("mouseup",kha_SystemImpl.mouseLeftUp),kha_SystemImpl.leftMouseCtrlDown?kha_SystemImpl.mouse.sendUpEvent(0,1,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY):kha_SystemImpl.mouse.sendUpEvent(0,0,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY),kha_SystemImpl.leftMouseCtrlDown=!1,kha_SystemImpl.insideInputEvent=!1)},kha_SystemImpl.mouseMiddleUp=function(e){kha_SystemImpl.insideInputEvent=!0,kha_js_AEAudioChannel.catchUp(),2==e.which&&(window.document.removeEventListener("mouseup",kha_SystemImpl.mouseMiddleUp),kha_SystemImpl.mouse.sendUpEvent(0,2,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY),kha_SystemImpl.insideInputEvent=!1)},kha_SystemImpl.mouseRightUp=function(e){kha_SystemImpl.insideInputEvent=!0,kha_js_AEAudioChannel.catchUp(),3==e.which&&(window.document.removeEventListener("mouseup",kha_SystemImpl.mouseRightUp),kha_SystemImpl.mouse.sendUpEvent(0,1,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY),kha_SystemImpl.insideInputEvent=!1)},kha_SystemImpl.mouseMove=function(e){kha_SystemImpl.insideInputEvent=!0,kha_js_AEAudioChannel.catchUp();var t=kha_SystemImpl.mouseX,a=kha_SystemImpl.mouseY;kha_SystemImpl.setMouseXY(e);var r=e.movementX,i=e.movementY;null==e.movementX&&(r=!(!e.mozMovementX&&!e.webkitMovementX)||kha_SystemImpl.mouseX-t,i=!(!e.mozMovementY&&!e.webkitMovementY)||kha_SystemImpl.mouseY-a),kha_SystemImpl.mouse.sendMoveEvent(0,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY,r,i),kha_SystemImpl.insideInputEvent=!1},kha_SystemImpl.setTouchXY=function(e){var t=kha_SystemImpl.khanvas.getBoundingClientRect(),a=kha_SystemImpl.khanvas.clientLeft,r=kha_SystemImpl.khanvas.clientTop;kha_SystemImpl.touchX=(e.clientX-t.left-a)*kha_SystemImpl.khanvas.width/(t.width-2*a)|0,kha_SystemImpl.touchY=(e.clientY-t.top-r)*kha_SystemImpl.khanvas.height/(t.height-2*r)|0},kha_SystemImpl.touchDown=function(e){kha_SystemImpl.insideInputEvent=!0,kha_js_AEAudioChannel.catchUp();for(var t=0,a=e.changedTouches;t<a.length;){var r=a[t];++t,kha_SystemImpl.setTouchXY(r),kha_SystemImpl.mouse.sendDownEvent(0,0,kha_SystemImpl.touchX,kha_SystemImpl.touchY),kha_SystemImpl.surface.sendTouchStartEvent(r.identifier,kha_SystemImpl.touchX,kha_SystemImpl.touchY)}kha_SystemImpl.insideInputEvent=!1},kha_SystemImpl.touchUp=function(e){kha_SystemImpl.insideInputEvent=!0,kha_js_AEAudioChannel.catchUp();for(var t=0,a=e.changedTouches;t<a.length;){var r=a[t];++t,kha_SystemImpl.setTouchXY(r),kha_SystemImpl.mouse.sendUpEvent(0,0,kha_SystemImpl.touchX,kha_SystemImpl.touchY),kha_SystemImpl.surface.sendTouchEndEvent(r.identifier,kha_SystemImpl.touchX,kha_SystemImpl.touchY)}kha_SystemImpl.insideInputEvent=!1},kha_SystemImpl.touchMove=function(e){kha_SystemImpl.insideInputEvent=!0,kha_js_AEAudioChannel.catchUp();for(var t=0,a=0,r=e.changedTouches;a<r.length;){var i=r[a];if(++a,kha_SystemImpl.setTouchXY(i),0==t){var s=kha_SystemImpl.touchX-kha_SystemImpl.lastFirstTouchX,n=kha_SystemImpl.touchY-kha_SystemImpl.lastFirstTouchY;kha_SystemImpl.lastFirstTouchX=kha_SystemImpl.touchX,kha_SystemImpl.lastFirstTouchY=kha_SystemImpl.touchY,kha_SystemImpl.mouse.sendMoveEvent(0,kha_SystemImpl.touchX,kha_SystemImpl.touchY,s,n)}kha_SystemImpl.surface.sendMoveEvent(i.identifier,kha_SystemImpl.touchX,kha_SystemImpl.touchY),++t}kha_SystemImpl.insideInputEvent=!1},kha_SystemImpl.onBlur=function(){kha_System.background()},kha_SystemImpl.onFocus=function(){kha_System.foreground()},kha_SystemImpl.keycodeToChar=function(e,t,a){if(null!=e){if(1==e.length)return e;switch(e){case"Add":return"+";case"Divide":return"/";case"Multiply":return"*";case"Subtract":return"-"}}switch(t){case 48:return a?"=":"0";case 49:return a?"!":"1";case 50:return a?'"':"2";case 51:return a?"":"3";case 52:return a?"$":"4";case 53:return a?"%":"5";case 54:return a?"&":"6";case 55:return a?"/":"7";case 56:return a?"(":"8";case 57:return a?")":"9";case 106:return"*";case 107:return"+";case 109:return"-";case 111:return"/";case 187:return a?"*":"+";case 188:return a?";":",";case 189:return a?"_":"-";case 190:return a?":":".";case 191:return a?"'":"#";case 212:return a?"`":"";case 219:return a?"?":"";case 226:return a?">":"<"}return t>=96&&t<=105?String.fromCharCode(-48+t):t>=65&&t<=90?a?String.fromCharCode(t):String.fromCharCode(t-65+97):String.fromCharCode(t)},kha_SystemImpl.keyDown=function(e){if(e.stopPropagation(),kha_SystemImpl.pressedKeys[e.keyCode])return void e.preventDefault();switch(kha_SystemImpl.pressedKeys[e.keyCode]=!0,e.keyCode){case 8:kha_SystemImpl.keyboard.sendDownEvent(kha_Key.BACKSPACE,""),e.preventDefault();break;case 9:kha_SystemImpl.keyboard.sendDownEvent(kha_Key.TAB,""),e.preventDefault();break;case 13:kha_SystemImpl.keyboard.sendDownEvent(kha_Key.ENTER,""),e.preventDefault();break;case 16:kha_SystemImpl.keyboard.sendDownEvent(kha_Key.SHIFT,""),e.preventDefault();break;case 17:kha_SystemImpl.keyboard.sendDownEvent(kha_Key.CTRL,""),e.preventDefault();break;case 18:kha_SystemImpl.keyboard.sendDownEvent(kha_Key.ALT,""),e.preventDefault();break;case 27:kha_SystemImpl.keyboard.sendDownEvent(kha_Key.ESC,""),e.preventDefault();break;case 32:kha_SystemImpl.keyboard.sendDownEvent(kha_Key.CHAR," "),e.preventDefault();break;case 37:kha_SystemImpl.keyboard.sendDownEvent(kha_Key.LEFT,""),e.preventDefault();break;case 38:kha_SystemImpl.keyboard.sendDownEvent(kha_Key.UP,""),e.preventDefault();break;case 39:kha_SystemImpl.keyboard.sendDownEvent(kha_Key.RIGHT,""),e.preventDefault();break;case 40:kha_SystemImpl.keyboard.sendDownEvent(kha_Key.DOWN,""),e.preventDefault();break;case 46:kha_SystemImpl.keyboard.sendDownEvent(kha_Key.DEL,""),e.preventDefault();break;default:e.altKey||kha_SystemImpl.keyboard.sendDownEvent(kha_Key.CHAR,kha_SystemImpl.keycodeToChar(e.key,e.keyCode,e.shiftKey))}},kha_SystemImpl.keyUp=function(e){switch(e.preventDefault(),e.stopPropagation(),kha_SystemImpl.pressedKeys[e.keyCode]=!1,e.keyCode){case 8:kha_SystemImpl.keyboard.sendUpEvent(kha_Key.BACKSPACE,"");break;case 9:kha_SystemImpl.keyboard.sendUpEvent(kha_Key.TAB,"");break;case 13:kha_SystemImpl.keyboard.sendUpEvent(kha_Key.ENTER,"");break;case 16:kha_SystemImpl.keyboard.sendUpEvent(kha_Key.SHIFT,"");break;case 17:kha_SystemImpl.keyboard.sendUpEvent(kha_Key.CTRL,"");break;case 18:kha_SystemImpl.keyboard.sendUpEvent(kha_Key.ALT,"");break;case 27:kha_SystemImpl.keyboard.sendUpEvent(kha_Key.ESC,"");break;case 32:kha_SystemImpl.keyboard.sendUpEvent(kha_Key.CHAR," ");break;case 37:kha_SystemImpl.keyboard.sendUpEvent(kha_Key.LEFT,"");break;case 38:kha_SystemImpl.keyboard.sendUpEvent(kha_Key.UP,"");break;case 39:kha_SystemImpl.keyboard.sendUpEvent(kha_Key.RIGHT,"");break;case 40:kha_SystemImpl.keyboard.sendUpEvent(kha_Key.DOWN,"");break;case 46:kha_SystemImpl.keyboard.sendUpEvent(kha_Key.DEL,"");break;default:e.altKey||kha_SystemImpl.keyboard.sendUpEvent(kha_Key.CHAR,kha_SystemImpl.keycodeToChar(e.key,e.keyCode,e.shiftKey))}},kha_SystemImpl.canSwitchFullscreen=function(){return"fullscreenElement "in document||"mozFullScreenElement"in document||"webkitFullscreenElement"in document||"msFullscreenElement"in document},kha_SystemImpl.isFullscreen=function(){return document.fullscreenElement===this.khanvas||document.mozFullScreenElement===this.khanvas||document.webkitFullscreenElement===this.khanvas||document.msFullscreenElement===this.khanvas},kha_SystemImpl.requestFullscreen=function(){$_=kha_SystemImpl.khanvas,$bind($_,$_.requestFullscreen)?kha_SystemImpl.khanvas.requestFullscreen():kha_SystemImpl.khanvas.msRequestFullscreen?kha_SystemImpl.khanvas.msRequestFullscreen():kha_SystemImpl.khanvas.mozRequestFullScreen?kha_SystemImpl.khanvas.mozRequestFullScreen():kha_SystemImpl.khanvas.webkitRequestFullscreen&&kha_SystemImpl.khanvas.webkitRequestFullscreen()},kha_SystemImpl.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},kha_SystemImpl.changeResolution=function(e,t){},kha_SystemImpl.setKeepScreenOn=function(e){},kha_SystemImpl.prototype={notifyOfFullscreenChange:function(e,t){window.document.addEventListener("fullscreenchange",e,!1),window.document.addEventListener("mozfullscreenchange",e,!1),window.document.addEventListener("webkitfullscreenchange",e,!1),window.document.addEventListener("MSFullscreenChange",e,!1),window.document.addEventListener("fullscreenerror",t,!1),window.document.addEventListener("mozfullscreenerror",t,!1),window.document.addEventListener("webkitfullscreenerror",t,!1),window.document.addEventListener("MSFullscreenError",t,!1)},removeFromFullscreenChange:function(e,t){window.document.removeEventListener("fullscreenchange",e,!1),window.document.removeEventListener("mozfullscreenchange",e,!1),window.document.removeEventListener("webkitfullscreenchange",e,!1),window.document.removeEventListener("MSFullscreenChange",e,!1),window.document.removeEventListener("fullscreenerror",t,!1),window.document.removeEventListener("mozfullscreenerror",t,!1),window.document.removeEventListener("webkitfullscreenerror",t,!1),window.document.removeEventListener("MSFullscreenError",t,!1)},__class__:kha_SystemImpl};var kha_Video=function(){};$hxClasses["kha.Video"]=kha_Video,kha_Video.__name__=["kha","Video"],kha_Video.__interfaces__=[kha_Resource],kha_Video.prototype={width:function(){return 100},height:function(){return 100},play:function(e){null==e&&(e=!1)},pause:function(){},stop:function(){},getLength:function(){return 0},getCurrentPos:function(){return 0},getVolume:function(){return 1},setVolume:function(e){},isFinished:function(){return this.getCurrentPos()>=this.getLength()},unload:function(){},__class__:kha_Video};var kha_WebGLImage=function(e,t,a,r,i){this.myWidth=e,this.myHeight=t,this.format=a,this.renderTarget=r,this.image=null,this.video=null,this.depthStencilFormat=i,r&&this.createTexture()};$hxClasses["kha.WebGLImage"]=kha_WebGLImage,kha_WebGLImage.__name__=["kha","WebGLImage"],kha_WebGLImage.init=function(){var e=window.document.createElement("canvas");null!=e&&(kha_WebGLImage.context=e.getContext("2d"),e.width=2048,e.height=2048,kha_WebGLImage.context.globalCompositeOperation="copy")},kha_WebGLImage.upperPowerOfTwo=function(e){return--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e},kha_WebGLImage.formatByteSize=function(e){switch(e[1]){case 0:return 4;case 1:return 1;case 2:return 16;case 3:return 2;case 4:return 8;case 5:return 4;case 6:return 2}},kha_WebGLImage.__super__=kha_Image,kha_WebGLImage.prototype=$extend(kha_Image.prototype,{get_g1:function(){return null==this.graphics1&&(this.graphics1=new kha_graphics2_Graphics1(this)),this.graphics1},get_g2:function(){return null==this.graphics2&&(this.graphics2=new kha_js_graphics4_Graphics2(this)),this.graphics2},get_g4:function(){return null==this.graphics4&&(this.graphics4=new kha_js_graphics4_Graphics(this)),this.graphics4},get_width:function(){return this.myWidth},get_height:function(){return this.myHeight},get_realWidth:function(){return this.myWidth},get_realHeight:function(){return this.myHeight},isOpaque:function(e,t){if(null==this.data){if(null==kha_WebGLImage.context)return!0;this.createImageData()}return 0!=this.data.data[t*(0|this.image.width)*4+4*e+3]},at:function(e,t){if(null==this.data){if(null==kha_WebGLImage.context)return kha__$Color_Color_$Impl_$.Black;this.createImageData()}return kha__$Color_Color_$Impl_$._new(this.data.data[t*(0|this.image.width)*4+4*e])},createImageData:function(){kha_WebGLImage.context.strokeStyle="rgba(0,0,0,0)",kha_WebGLImage.context.fillStyle="rgba(0,0,0,0)",kha_WebGLImage.context.fillRect(0,0,this.image.width,this.image.height),kha_WebGLImage.context.drawImage(this.image,0,0,this.image.width,this.image.height,0,0,this.image.width,this.image.height),this.data=kha_WebGLImage.context.getImageData(0,0,this.image.width,this.image.height)},createTexture:function(){if(null!=kha_SystemImpl.gl){if(this.texture=kha_SystemImpl.gl.createTexture(),kha_SystemImpl.gl.bindTexture(3553,this.texture),kha_SystemImpl.gl.texParameteri(3553,10240,9729),kha_SystemImpl.gl.texParameteri(3553,10241,9729),kha_SystemImpl.gl.texParameteri(3553,10242,33071),kha_SystemImpl.gl.texParameteri(3553,10243,33071),this.renderTarget){this.frameBuffer=kha_SystemImpl.gl.createFramebuffer(),kha_SystemImpl.gl.bindFramebuffer(36160,this.frameBuffer);var e=this.format;switch(e[1]){case 0:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,5121,null);break;case 2:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,5126,null);break;case 3:kha_SystemImpl.gl.texImage2D(3553,0,6402,this.get_realWidth(),this.get_realHeight(),0,6402,5123,null);break;case 4:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,null);break;case 5:kha_SystemImpl.gl.texImage2D(3553,0,6406,this.get_realWidth(),this.get_realHeight(),0,6406,5126,null);break;case 6:kha_SystemImpl.gl.texImage2D(3553,0,6406,this.get_realWidth(),this.get_realHeight(),0,6406,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,null);break;default:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,5121,null)}if(this.format==kha_graphics4_TextureFormat.DEPTH16){if(kha_SystemImpl.gl.framebufferTexture2D(36160,36096,3553,this.texture,0),navigator.appVersion.indexOf("Win")==-1){var t=kha_SystemImpl.gl.createTexture();kha_SystemImpl.gl.bindTexture(3553,t),kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,5121,null),kha_SystemImpl.gl.framebufferTexture2D(36160,36064,3553,t,0),kha_SystemImpl.gl.bindTexture(3553,this.texture)}}else kha_SystemImpl.gl.framebufferTexture2D(36160,36064,3553,this.texture,0);this.initDepthStencilBuffer(this.depthStencilFormat),kha_SystemImpl.gl.bindRenderbuffer(36161,null),kha_SystemImpl.gl.bindFramebuffer(36160,null)}else if(null!=this.video)kha_SystemImpl.gl.texImage2D(3553,0,6408,6408,5121,this.video);else{var a=this.format;switch(a[1]){case 0:kha_SystemImpl.gl.texImage2D(3553,0,6408,6408,5121,this.image);break;case 2:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.myWidth,this.myHeight,0,6408,5126,this.image);break;case 4:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.myWidth,this.myHeight,0,6408,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,this.image);break;case 5:kha_SystemImpl.gl.texImage2D(3553,0,6406,this.myWidth,this.myHeight,0,6406,5126,this.image);break;case 6:kha_SystemImpl.gl.texImage2D(3553,0,6406,this.myWidth,this.myHeight,0,6406,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,this.image);break;default:kha_SystemImpl.gl.texImage2D(3553,0,6408,6408,5121,this.image)}}kha_SystemImpl.gl.bindTexture(3553,null)}},initDepthStencilBuffer:function(e){switch(e){case 0:break;case 1:null==kha_SystemImpl.depthTexture?(this.renderBuffer=kha_SystemImpl.gl.createRenderbuffer(),kha_SystemImpl.gl.bindRenderbuffer(36161,this.renderBuffer),kha_SystemImpl.gl.renderbufferStorage(36161,33189,this.get_realWidth(),this.get_realHeight()),kha_SystemImpl.gl.framebufferRenderbuffer(36160,36096,36161,this.renderBuffer)):(this.depthTexture=kha_SystemImpl.gl.createTexture(),kha_SystemImpl.gl.bindTexture(3553,this.depthTexture),kha_SystemImpl.gl.texImage2D(3553,0,6402,this.get_realWidth(),this.get_realHeight(),0,6402,5125,null),kha_SystemImpl.gl.texParameteri(3553,10240,9728),kha_SystemImpl.gl.texParameteri(3553,10241,9728),kha_SystemImpl.gl.texParameteri(3553,10242,33071),kha_SystemImpl.gl.texParameteri(3553,10243,33071),kha_SystemImpl.gl.bindFramebuffer(36160,this.frameBuffer),kha_SystemImpl.gl.framebufferTexture2D(36160,36096,3553,this.depthTexture,0));break;case 2:case 3:case 4:null==kha_SystemImpl.depthTexture?(this.renderBuffer=kha_SystemImpl.gl.createRenderbuffer(),kha_SystemImpl.gl.bindRenderbuffer(36161,this.renderBuffer),kha_SystemImpl.gl.renderbufferStorage(36161,34041,this.get_realWidth(),this.get_realHeight()),kha_SystemImpl.gl.framebufferRenderbuffer(36160,33306,36161,this.renderBuffer)):(this.depthTexture=kha_SystemImpl.gl.createTexture(),kha_SystemImpl.gl.bindTexture(3553,this.depthTexture),kha_SystemImpl.gl.texImage2D(3553,0,34041,this.get_realWidth(),this.get_realHeight(),0,34041,kha_SystemImpl.depthTexture.UNSIGNED_INT_24_8_WEBGL,null),kha_SystemImpl.gl.texParameteri(3553,10240,9728),kha_SystemImpl.gl.texParameteri(3553,10241,9728),kha_SystemImpl.gl.texParameteri(3553,10242,33071),kha_SystemImpl.gl.texParameteri(3553,10243,33071),kha_SystemImpl.gl.bindFramebuffer(36160,this.frameBuffer),kha_SystemImpl.gl.framebufferTexture2D(36160,33306,3553,this.depthTexture,0))}},set:function(e){kha_SystemImpl.gl.activeTexture(33984+e),kha_SystemImpl.gl.bindTexture(3553,this.texture),null!=this.video&&kha_SystemImpl.gl.texImage2D(3553,0,6408,6408,5121,this.video)},setDepth:function(e){kha_SystemImpl.gl.activeTexture(33984+e),kha_SystemImpl.gl.bindTexture(3553,this.depthTexture)},setDepthStencilFrom:function(e){kha_SystemImpl.gl.bindFramebuffer(36160,this.frameBuffer),kha_SystemImpl.gl.framebufferTexture2D(36160,36096,3553,js_Boot.__cast(e,kha_WebGLImage).depthTexture,0)},bytesToArray:function(e){switch(this.format[1]){case 0:case 1:return new Uint8Array(e.b.bufferValue);case 2:case 4:case 5:case 6:return new Float32Array(e.b.bufferValue);default:return new Uint8Array(e.b.bufferValue)}},lock:function(e){return null==e&&(e=0),this.bytes=new haxe_io_Bytes(new ArrayBuffer(kha_WebGLImage.formatByteSize(this.format)*this.get_width()*this.get_height())),this.bytes},unlock:function(){if(null!=kha_SystemImpl.gl){switch(this.texture=kha_SystemImpl.gl.createTexture(),kha_SystemImpl.gl.bindTexture(3553,this.texture),kha_SystemImpl.gl.texParameteri(3553,10240,9729),kha_SystemImpl.gl.texParameteri(3553,10241,9729),kha_SystemImpl.gl.texParameteri(3553,10242,33071),kha_SystemImpl.gl.texParameteri(3553,10243,33071),this.format[1]){case 0:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,5121,this.bytesToArray(this.bytes));break;case 1:if(kha_SystemImpl.gl.texImage2D(3553,0,6409,this.get_width(),this.get_height(),0,6409,5121,this.bytesToArray(this.bytes)),1282==kha_SystemImpl.gl.getError()){for(var e=new haxe_io_Bytes(new ArrayBuffer(this.get_width()*this.get_height()*4)),t=0,a=this.get_height();t<a;)for(var r=t++,i=0,s=this.get_width();i<s;){var n=i++,_=this.bytes.b[r*this.get_width()+n];e.b[r*this.get_width()*4+4*n]=255&_,e.b[r*this.get_width()*4+4*n+1]=255&_,e.b[r*this.get_width()*4+4*n+2]=255&_,e.b[r*this.get_width()*4+4*n+3]=255}kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,5121,this.bytesToArray(e))}break;case 2:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,5126,this.bytesToArray(this.bytes));break;case 4:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,this.bytesToArray(this.bytes));break;case 5:kha_SystemImpl.gl.texImage2D(3553,0,6406,this.get_width(),this.get_height(),0,6406,5126,this.bytesToArray(this.bytes));break;case 6:kha_SystemImpl.gl.texImage2D(3553,0,6406,this.get_width(),this.get_height(),0,6406,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,this.bytesToArray(this.bytes));break;default:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,5121,this.bytesToArray(this.bytes))}kha_SystemImpl.gl.bindTexture(3553,null),this.bytes=null}},unload:function(){},generateMipmaps:function(e){kha_SystemImpl.gl.bindTexture(3553,this.texture),kha_SystemImpl.gl.generateMipmap(3553)},setMipmaps:function(e){if(kha_SystemImpl.gl.bindTexture(3553,this.texture),
this.format!=kha_graphics4_TextureFormat.RGBA32)for(var t=0,a=e.length;t<a;){var r=t++;kha_SystemImpl.gl.texImage2D(3553,r+1,6408,e[r].get_width(),e[r].get_height(),0,6408,this.format==kha_graphics4_TextureFormat.RGBA128?5126:kha_SystemImpl.halfFloat.HALF_FLOAT_OES,js_Boot.__cast(e[r],kha_WebGLImage).image)}else for(var i=0,s=e.length;i<s;){var n=i++;kha_SystemImpl.gl.texImage2D(3553,n+1,6408,6408,5121,js_Boot.__cast(e[n],kha_WebGLImage).image)}},__class__:kha_WebGLImage});var kha_Mode=$hxClasses["kha.Mode"]={__ename__:["kha","Mode"],__constructs__:["Window","BorderlessWindow","Fullscreen"]};kha_Mode.Window=["Window",0],kha_Mode.Window.toString=$estr,kha_Mode.Window.__enum__=kha_Mode,kha_Mode.BorderlessWindow=["BorderlessWindow",1],kha_Mode.BorderlessWindow.toString=$estr,kha_Mode.BorderlessWindow.__enum__=kha_Mode,kha_Mode.Fullscreen=["Fullscreen",2],kha_Mode.Fullscreen.toString=$estr,kha_Mode.Fullscreen.__enum__=kha_Mode;var kha_Position=$hxClasses["kha.Position"]={__ename__:["kha","Position"],__constructs__:["Center","Fixed"]};kha_Position.Center=["Center",0],kha_Position.Center.toString=$estr,kha_Position.Center.__enum__=kha_Position,kha_Position.Fixed=function(e){var t=["Fixed",1,e];return t.__enum__=kha_Position,t.toString=$estr,t};var kha_TargetDisplay=$hxClasses["kha.TargetDisplay"]={__ename__:["kha","TargetDisplay"],__constructs__:["Primary","ById"]};kha_TargetDisplay.Primary=["Primary",0],kha_TargetDisplay.Primary.toString=$estr,kha_TargetDisplay.Primary.__enum__=kha_TargetDisplay,kha_TargetDisplay.ById=function(e){var t=["ById",1,e];return t.__enum__=kha_TargetDisplay,t.toString=$estr,t};var kha_RendererOptions=function(e,t,a){this.textureFormat=e,this.depthStencilFormat=t,this.samplesPerPixel=a};$hxClasses["kha.RendererOptions"]=kha_RendererOptions,kha_RendererOptions.__name__=["kha","RendererOptions"],kha_RendererOptions.prototype={__class__:kha_RendererOptions};var kha_WindowedModeOptions=function(e,t,a){this.minimizable=e,this.maximizable=t,this.resizable=a};$hxClasses["kha.WindowedModeOptions"]=kha_WindowedModeOptions,kha_WindowedModeOptions.__name__=["kha","WindowedModeOptions"],kha_WindowedModeOptions.prototype={__class__:kha_WindowedModeOptions};var kha_WindowOptions=function(e,t,a,r,i,s,n,_,o){this.width=e,this.height=t,this.mode=a,this.title=r,this.x=i,this.y=s,this.targetDisplay=n,this.rendererOptions=_,this.windowedModeOptions=o};$hxClasses["kha.WindowOptions"]=kha_WindowOptions,kha_WindowOptions.__name__=["kha","WindowOptions"],kha_WindowOptions.prototype={__class__:kha_WindowOptions};var kha_arrays__$Float32Array_Float32Array_$Impl_$={};$hxClasses["kha.arrays._Float32Array.Float32Array_Impl_"]=kha_arrays__$Float32Array_Float32Array_$Impl_$,kha_arrays__$Float32Array_Float32Array_$Impl_$.__name__=["kha","arrays","_Float32Array","Float32Array_Impl_"],kha_arrays__$Float32Array_Float32Array_$Impl_$.__properties__={get_length:"get_length"},kha_arrays__$Float32Array_Float32Array_$Impl_$._new=function(e){return new Float32Array(e)},kha_arrays__$Float32Array_Float32Array_$Impl_$.get_length=function(e){return e.length},kha_arrays__$Float32Array_Float32Array_$Impl_$.set=function(e,t,a){return e[t]=a},kha_arrays__$Float32Array_Float32Array_$Impl_$.get=function(e,t){return e[t]},kha_arrays__$Float32Array_Float32Array_$Impl_$.data=function(e){return e};var kha_audio1_AudioChannel=function(){};$hxClasses["kha.audio1.AudioChannel"]=kha_audio1_AudioChannel,kha_audio1_AudioChannel.__name__=["kha","audio1","AudioChannel"],kha_audio1_AudioChannel.prototype={__class__:kha_audio1_AudioChannel,__properties__:{get_finished:"get_finished",set_volume:"set_volume",get_volume:"get_volume",get_position:"get_position",get_length:"get_length"}};var kha_audio2_Audio=function(){};$hxClasses["kha.audio2.Audio"]=kha_audio2_Audio,kha_audio2_Audio.__name__=["kha","audio2","Audio"],kha_audio2_Audio.initContext=function(){try{return void(kha_audio2_Audio._context=new AudioContext)}catch(e){}try{return void(this._context=new webkitAudioContext)}catch(e){}},kha_audio2_Audio._init=function(){return kha_audio2_Audio.initContext(),null!=kha_audio2_Audio._context&&(kha_audio2_Audio.buffer=new kha_audio2_Buffer(8192,2,0|kha_audio2_Audio._context.sampleRate),kha_audio2_Audio.processingNode=kha_audio2_Audio._context.createScriptProcessor(2048,0,2),kha_audio2_Audio.processingNode.onaudioprocess=function(e){var t=e.outputBuffer.getChannelData(0),a=e.outputBuffer.getChannelData(1);if(null!=kha_audio2_Audio.audioCallback){kha_audio2_Audio.audioCallback(2*e.outputBuffer.length,kha_audio2_Audio.buffer);for(var r=0,i=e.outputBuffer.length;r<i;){var s=r++;t[s]=kha_audio2_Audio.buffer.data[kha_audio2_Audio.buffer.readLocation],kha_audio2_Audio.buffer.readLocation+=1,a[s]=kha_audio2_Audio.buffer.data[kha_audio2_Audio.buffer.readLocation],kha_audio2_Audio.buffer.readLocation+=1,kha_audio2_Audio.buffer.readLocation>=kha_audio2_Audio.buffer.size&&(kha_audio2_Audio.buffer.readLocation=0)}}else for(var n=0,_=e.outputBuffer.length;n<_;){var o=n++;t[o]=0,a[o]=0}},kha_audio2_Audio.processingNode.connect(kha_audio2_Audio._context.destination),!0)},kha_audio2_Audio.stream=function(e,t){null==t&&(t=!1);var a=window.document.createElement("audio");a.src=URL.createObjectURL(new Blob([e.compressedData.b.bufferValue],{type:"audio/mp4"})),a.loop=t;var r=new kha_js_AEAudioChannel(a);return r.play(),r};var kha_audio2_Audio1=function(){};$hxClasses["kha.audio2.Audio1"]=kha_audio2_Audio1,kha_audio2_Audio1.__name__=["kha","audio2","Audio1"],kha_audio2_Audio1._init=function(){kha_audio2_Audio1.soundChannels=new Array(16),kha_audio2_Audio1.streamChannels=new Array(16),kha_audio2_Audio1.internalSoundChannels=new Array(16),kha_audio2_Audio1.internalStreamChannels=new Array(16),kha_audio2_Audio1.sampleCache1=new Array(512),kha_audio2_Audio1.sampleCache2=new Array(512),kha_audio2_Audio.audioCallback=kha_audio2_Audio1._mix},kha_audio2_Audio1.max=function(e,t){return e>t?e:t},kha_audio2_Audio1.min=function(e,t){return e<t?e:t},kha_audio2_Audio1._mix=function(e,t){kha_audio2_Audio1.sampleCache1.length<e&&(kha_audio2_Audio1.sampleCache1=new Array(e),kha_audio2_Audio1.sampleCache2=new Array(e));for(var a=0,r=e;a<r;)kha_audio2_Audio1.sampleCache2[a++]=0;for(var i=0;i<16;){var s=i++;kha_audio2_Audio1.internalSoundChannels[s]=kha_audio2_Audio1.soundChannels[s]}for(var n=0;n<16;){var _=n++;kha_audio2_Audio1.internalStreamChannels[_]=kha_audio2_Audio1.streamChannels[_]}for(var o=0,h=kha_audio2_Audio1.internalSoundChannels;o<h.length;){var l=h[o];if(++o,null!=l&&!l.get_finished()){l.nextSamples(kha_audio2_Audio1.sampleCache1,e,t.samplesPerSecond);for(var c=0,d=e;c<d;){var u=c++,g=u,p=l.get_volume();kha_audio2_Audio1.sampleCache2[g]=kha_audio2_Audio1.sampleCache2[g]+kha_audio2_Audio1.sampleCache1[u]*p}}}for(var m=0,f=kha_audio2_Audio1.internalStreamChannels;m<f.length;){var v=f[m];if(++m,null!=v&&!v.get_finished()){v.nextSamples(kha_audio2_Audio1.sampleCache1,e,t.samplesPerSecond);for(var k=0,y=e;k<y;){var b=k++,I=b,S=v.get_volume();kha_audio2_Audio1.sampleCache2[I]=kha_audio2_Audio1.sampleCache2[I]+kha_audio2_Audio1.sampleCache1[b]*S}}}for(var x=0,C=e;x<C;){var w=t.writeLocation,B=kha_audio2_Audio1.sampleCache2[x++],A=B<1?B:1;t.data[w]=A>-1?A:-1,t.writeLocation+=1,t.writeLocation>=t.size&&(t.writeLocation=0)}},kha_audio2_Audio1.play=function(e,t){null==t&&(t=!1);for(var a=null,r=0;r<16;){var i=r++;if(null==kha_audio2_Audio1.soundChannels[i]||kha_audio2_Audio1.soundChannels[i].get_finished()){a=new kha_audio2_AudioChannel(t),a.data=e.uncompressedData,kha_audio2_Audio1.soundChannels[i]=a;break}}return a},kha_audio2_Audio1.stream=function(e,t){null==t&&(t=!1);var a=kha_audio2_Audio.stream(e,t);if(null!=a)return a;for(var r=null,i=0;i<16;){var s=i++;if(null==kha_audio2_Audio1.streamChannels[s]||kha_audio2_Audio1.streamChannels[s].get_finished()){r=new kha_audio2_StreamChannel(e.compressedData,t),kha_audio2_Audio1.streamChannels[s]=r;break}}return r};var kha_audio2_AudioChannel=function(e){this.paused=!1,this.looping=e,this.myVolume=1,this.myPosition=0};$hxClasses["kha.audio2.AudioChannel"]=kha_audio2_AudioChannel,kha_audio2_AudioChannel.__name__=["kha","audio2","AudioChannel"],kha_audio2_AudioChannel.__interfaces__=[kha_audio1_AudioChannel],kha_audio2_AudioChannel.prototype={nextSamples:function(e,t,a){if(this.paused)for(var r=0;r<t;)e[r++]=0;else for(var i=0;i<t;){var s=i++;this.myPosition>=this.data.length&&this.looping&&(this.myPosition=0),e[s]=this.myPosition<this.data.length?this.data[this.myPosition]:0,++this.myPosition}},play:function(){this.paused=!1},pause:function(){this.paused=!0},stop:function(){this.myPosition=this.data.length},get_length:function(){return this.data.length/44100/2},get_position:function(){return this.myPosition/44100/2},get_volume:function(){return this.myVolume},set_volume:function(e){return this.myVolume=e},get_finished:function(){return this.myPosition>=this.data.length},__class__:kha_audio2_AudioChannel,__properties__:{get_finished:"get_finished",set_volume:"set_volume",get_volume:"get_volume",get_position:"get_position",get_length:"get_length"}};var kha_audio2_Buffer=function(e,t,a){this.size=e,this.data=new Array(e),this.channels=t,this.samplesPerSecond=a,this.readLocation=0,this.writeLocation=0};$hxClasses["kha.audio2.Buffer"]=kha_audio2_Buffer,kha_audio2_Buffer.__name__=["kha","audio2","Buffer"],kha_audio2_Buffer.prototype={__class__:kha_audio2_Buffer};var kha_audio2_StreamChannel=function(e,t){this.paused=!1,this.atend=!1,this.myVolume=1,this.loop=t,this.reader=kha_audio2_ogg_vorbis_Reader.openFromBytes(e)};$hxClasses["kha.audio2.StreamChannel"]=kha_audio2_StreamChannel,kha_audio2_StreamChannel.__name__=["kha","audio2","StreamChannel"],kha_audio2_StreamChannel.__interfaces__=[kha_audio1_AudioChannel],kha_audio2_StreamChannel.prototype={nextSamples:function(e,t,a){if(this.paused)for(var r=0;r<t;)e[r++]=0;else{var i=2*this.reader.read(e,t/2|0,2,a,!0);if(i<t){this.loop?this.reader.set_currentMillisecond(0):this.atend=!0;for(var s=i;s<t;)e[s++]=0}}},play:function(){this.paused=!1},pause:function(){this.paused=!0},stop:function(){this.atend=!0},get_length:function(){return this.reader.get_totalMillisecond()/1e3},get_position:function(){return this.reader.get_currentMillisecond()/1e3},get_volume:function(){return this.myVolume},set_volume:function(e){return this.myVolume=e},get_finished:function(){return this.atend},__class__:kha_audio2_StreamChannel,__properties__:{get_finished:"get_finished",set_volume:"set_volume",get_volume:"get_volume",get_position:"get_position",get_length:"get_length"}};var kha_audio2_ogg_tools_Crc32=function(){};$hxClasses["kha.audio2.ogg.tools.Crc32"]=kha_audio2_ogg_tools_Crc32,kha_audio2_ogg_tools_Crc32.__name__=["kha","audio2","ogg","tools","Crc32"],kha_audio2_ogg_tools_Crc32.init=function(){if(null==kha_audio2_ogg_tools_Crc32.table){kha_audio2_ogg_tools_Crc32.table=new Array(256);for(var e=0;e<256;){for(var t=e++,a=t<<24,r=0;r<8;){r++;a=a<<1^(_$UInt_UInt_$Impl_$.gte(a,1<<31)?79764919:0)}kha_audio2_ogg_tools_Crc32.table[t]=a}}},kha_audio2_ogg_tools_Crc32.update=function(e,t){return e<<8^kha_audio2_ogg_tools_Crc32.table[t^e>>>24]};var kha_audio2_ogg_tools_MathTools=function(){};$hxClasses["kha.audio2.ogg.tools.MathTools"]=kha_audio2_ogg_tools_MathTools,kha_audio2_ogg_tools_MathTools.__name__=["kha","audio2","ogg","tools","MathTools"],kha_audio2_ogg_tools_MathTools.ilog=function(e){var t=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];return e<16384?e<16?t[e]:e<512?5+t[e>>5]:10+t[e>>10]:e<16777216?e<524288?15+t[e>>15]:20+t[e>>20]:e<536870912?25+t[e>>25]:e<-2147483648?30+t[e>>30]:0};var kha_audio2_ogg_tools_Mdct=function(){};$hxClasses["kha.audio2.ogg.tools.Mdct"]=kha_audio2_ogg_tools_Mdct,kha_audio2_ogg_tools_Mdct.__name__=["kha","audio2","ogg","tools","Mdct"],kha_audio2_ogg_tools_Mdct.inverseTransform=function(e,t,a,r,i,s){for(var n=t>>1,_=t>>2,o=t>>3,h=new Array(n),l=n-2,c=0,d=0,u=n;d!=u;)h[l+1]=e[d]*a[c]-e[d+2]*a[c+1],h[l]=e[d]*a[c+1]+e[d+2]*a[c],l-=2,c+=2,d+=4;for(d=n-3;l>=0;)h[l+1]=-e[d+2]*a[c]- -e[d]*a[c+1],h[l]=-e[d+2]*a[c+1]+-e[d]*a[c],l-=2,c+=2,d-=4;for(var g=e,p=h,m=n-8,f=_,v=0,k=_,y=0;m>=0;){var b=p[f+1]-p[v+1],I=p[f]-p[v];g[k+1]=p[f+1]+p[v+1],g[k]=p[f]+p[v],g[y+1]=b*a[m+4]-I*a[m+5],g[y]=I*a[m+4]+b*a[m+5],b=p[f+3]-p[v+3],I=p[f+2]-p[v+2],g[k+3]=p[f+3]+p[v+3],g[k+2]=p[f+2]+p[v+2],g[y+3]=b*a[m]-I*a[m+1],g[y+2]=I*a[m]+b*a[m+1],m-=8,k+=4,y+=4,f+=4,v+=4}for(var S=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],x=(t<16384?t<16?S[t]:t<512?5+S[t>>5]:10+S[t>>10]:t<16777216?t<524288?15+S[t>>15]:20+S[t>>20]:t<536870912?25+S[t>>25]:t<-2147483648?30+S[t>>30]:0)-1,C=n-1-0*_,w=C,B=C+-(t>>3),A=0,T=(t>>4>>2)+1;--T>0;){var M=g[w]-g[B],V=g[w+-1]-g[B+-1],D=w;g[D]=g[D]+g[B];var F=w+-1;g[F]=g[F]+g[B+-1],g[B]=M*a[A]-V*a[A+1],g[B+-1]=V*a[A]+M*a[A+1],A+=8,M=g[w+-2]-g[B+-2],V=g[w+-3]-g[B+-3];var R=w+-2;g[R]=g[R]+g[B+-2];var E=w+-3;g[E]=g[E]+g[B+-3],g[B+-2]=M*a[A]-V*a[A+1],g[B+-3]=V*a[A]+M*a[A+1],A+=8,M=g[w+-4]-g[B+-4],V=g[w+-5]-g[B+-5];var G=w+-4;g[G]=g[G]+g[B+-4];var N=w+-5;g[N]=g[N]+g[B+-5],g[B+-4]=M*a[A]-V*a[A+1],g[B+-5]=V*a[A]+M*a[A+1],A+=8,M=g[w+-6]-g[B+-6],V=g[w+-7]-g[B+-7];var j=w+-6;g[j]=g[j]+g[B+-6];var z=w+-7;g[z]=g[z]+g[B+-7],g[B+-6]=M*a[A]-V*a[A+1],g[B+-7]=V*a[A]+M*a[A+1],A+=8,w-=8,B-=8}for(var P=n-1-_,H=P,Z=P+-(t>>3),K=0,W=(t>>4>>2)+1;--W>0;){var L=g[H]-g[Z],$=g[H+-1]-g[Z+-1],U=H;g[U]=g[U]+g[Z];var O=H+-1;g[O]=g[O]+g[Z+-1],g[Z]=L*a[K]-$*a[K+1],g[Z+-1]=$*a[K]+L*a[K+1],K+=8,L=g[H+-2]-g[Z+-2],$=g[H+-3]-g[Z+-3];var Y=H+-2;g[Y]=g[Y]+g[Z+-2];var X=H+-3;g[X]=g[X]+g[Z+-3],g[Z+-2]=L*a[K]-$*a[K+1],g[Z+-3]=$*a[K]+L*a[K+1],K+=8,L=g[H+-4]-g[Z+-4],$=g[H+-5]-g[Z+-5];var Q=H+-4;g[Q]=g[Q]+g[Z+-4];var J=H+-5;g[J]=g[J]+g[Z+-5],g[Z+-4]=L*a[K]-$*a[K+1],g[Z+-5]=$*a[K]+L*a[K+1],K+=8,L=g[H+-6]-g[Z+-6],$=g[H+-7]-g[Z+-7];var q=H+-6;g[q]=g[q]+g[Z+-6];var ee=H+-7;g[ee]=g[ee]+g[Z+-7],g[Z+-6]=L*a[K]-$*a[K+1],g[Z+-7]=$*a[K]+L*a[K+1],K+=8,H-=8,Z-=8}for(var te=n-1-0*o,ae=0,re=te,ie=te+-(t>>4),se=(t>>5>>2)+1;--se>0;){var ne=g[re]-g[ie],_e=g[re+-1]-g[ie+-1],oe=re;g[oe]=g[oe]+g[ie];var he=re+-1;g[he]=g[he]+g[ie+-1],g[ie]=ne*a[ae]-_e*a[ae+1],g[ie+-1]=_e*a[ae]+ne*a[ae+1],ae+=16,ne=g[re+-2]-g[ie+-2],_e=g[re+-3]-g[ie+-3];var le=re+-2;g[le]=g[le]+g[ie+-2];var ce=re+-3;g[ce]=g[ce]+g[ie+-3],g[ie+-2]=ne*a[ae]-_e*a[ae+1],g[ie+-3]=_e*a[ae]+ne*a[ae+1],ae+=16,ne=g[re+-4]-g[ie+-4],_e=g[re+-5]-g[ie+-5];var de=re+-4;g[de]=g[de]+g[ie+-4];var ue=re+-5;g[ue]=g[ue]+g[ie+-5],g[ie+-4]=ne*a[ae]-_e*a[ae+1],g[ie+-5]=_e*a[ae]+ne*a[ae+1],ae+=16,ne=g[re+-6]-g[ie+-6],_e=g[re+-7]-g[ie+-7];var ge=re+-6;g[ge]=g[ge]+g[ie+-6];var pe=re+-7;g[pe]=g[pe]+g[ie+-7],g[ie+-6]=ne*a[ae]-_e*a[ae+1],g[ie+-7]=_e*a[ae]+ne*a[ae+1],re-=8,ie-=8,ae+=16}for(var me=n-1-o,fe=0,ve=me,ke=me+-(t>>4),ye=(t>>5>>2)+1;--ye>0;){var be=g[ve]-g[ke],Ie=g[ve+-1]-g[ke+-1],Se=ve;g[Se]=g[Se]+g[ke];var xe=ve+-1;g[xe]=g[xe]+g[ke+-1],g[ke]=be*a[fe]-Ie*a[fe+1],g[ke+-1]=Ie*a[fe]+be*a[fe+1],fe+=16,be=g[ve+-2]-g[ke+-2],Ie=g[ve+-3]-g[ke+-3];var Ce=ve+-2;g[Ce]=g[Ce]+g[ke+-2];var we=ve+-3;g[we]=g[we]+g[ke+-3],g[ke+-2]=be*a[fe]-Ie*a[fe+1],g[ke+-3]=Ie*a[fe]+be*a[fe+1],fe+=16,be=g[ve+-4]-g[ke+-4],Ie=g[ve+-5]-g[ke+-5];var Be=ve+-4;g[Be]=g[Be]+g[ke+-4];var Ae=ve+-5;g[Ae]=g[Ae]+g[ke+-5],g[ke+-4]=be*a[fe]-Ie*a[fe+1],g[ke+-5]=Ie*a[fe]+be*a[fe+1],fe+=16,be=g[ve+-6]-g[ke+-6],Ie=g[ve+-7]-g[ke+-7];var Te=ve+-6;g[Te]=g[Te]+g[ke+-6];var Me=ve+-7;g[Me]=g[Me]+g[ke+-7],g[ke+-6]=be*a[fe]-Ie*a[fe+1],g[ke+-7]=Ie*a[fe]+be*a[fe+1],ve-=8,ke-=8,fe+=16}for(var Ve=n-1-2*o,De=0,Fe=Ve,Re=Ve+-(t>>4),Ee=(t>>5>>2)+1;--Ee>0;){var Ge=g[Fe]-g[Re],Ne=g[Fe+-1]-g[Re+-1],je=Fe;g[je]=g[je]+g[Re];var ze=Fe+-1;g[ze]=g[ze]+g[Re+-1],g[Re]=Ge*a[De]-Ne*a[De+1],g[Re+-1]=Ne*a[De]+Ge*a[De+1],De+=16,Ge=g[Fe+-2]-g[Re+-2],Ne=g[Fe+-3]-g[Re+-3];var Pe=Fe+-2;g[Pe]=g[Pe]+g[Re+-2];var He=Fe+-3;g[He]=g[He]+g[Re+-3],g[Re+-2]=Ge*a[De]-Ne*a[De+1],g[Re+-3]=Ne*a[De]+Ge*a[De+1],De+=16,Ge=g[Fe+-4]-g[Re+-4],Ne=g[Fe+-5]-g[Re+-5];var Ze=Fe+-4;g[Ze]=g[Ze]+g[Re+-4];var Ke=Fe+-5;g[Ke]=g[Ke]+g[Re+-5],g[Re+-4]=Ge*a[De]-Ne*a[De+1],g[Re+-5]=Ne*a[De]+Ge*a[De+1],De+=16,Ge=g[Fe+-6]-g[Re+-6],Ne=g[Fe+-7]-g[Re+-7];var We=Fe+-6;g[We]=g[We]+g[Re+-6];var Le=Fe+-7;g[Le]=g[Le]+g[Re+-7],g[Re+-6]=Ge*a[De]-Ne*a[De+1],g[Re+-7]=Ne*a[De]+Ge*a[De+1],Fe-=8,Re-=8,De+=16}for(var $e=n-1-3*o,Ue=0,Oe=$e,Ye=$e+-(t>>4),Xe=(t>>5>>2)+1;--Xe>0;){var Qe=g[Oe]-g[Ye],Je=g[Oe+-1]-g[Ye+-1],qe=Oe;g[qe]=g[qe]+g[Ye];var et=Oe+-1;g[et]=g[et]+g[Ye+-1],g[Ye]=Qe*a[Ue]-Je*a[Ue+1],g[Ye+-1]=Je*a[Ue]+Qe*a[Ue+1],Ue+=16,Qe=g[Oe+-2]-g[Ye+-2],Je=g[Oe+-3]-g[Ye+-3];var tt=Oe+-2;g[tt]=g[tt]+g[Ye+-2];var at=Oe+-3;g[at]=g[at]+g[Ye+-3],g[Ye+-2]=Qe*a[Ue]-Je*a[Ue+1],g[Ye+-3]=Je*a[Ue]+Qe*a[Ue+1],Ue+=16,Qe=g[Oe+-4]-g[Ye+-4],Je=g[Oe+-5]-g[Ye+-5];var rt=Oe+-4;g[rt]=g[rt]+g[Ye+-4];var it=Oe+-5;g[it]=g[it]+g[Ye+-5],g[Ye+-4]=Qe*a[Ue]-Je*a[Ue+1],g[Ye+-5]=Je*a[Ue]+Qe*a[Ue+1],Ue+=16,Qe=g[Oe+-6]-g[Ye+-6],Je=g[Oe+-7]-g[Ye+-7];var st=Oe+-6;g[st]=g[st]+g[Ye+-6];var nt=Oe+-7;g[nt]=g[nt]+g[Ye+-7],g[Ye+-6]=Qe*a[Ue]-Je*a[Ue+1],g[Ye+-7]=Je*a[Ue]+Qe*a[Ue+1],Oe-=8,Ye-=8,Ue+=16}for(var _t=2,ot=x-3>>1;_t<ot;)for(var ht=_t++,lt=t>>ht+2,ct=lt>>1,dt=0,ut=1<<ht+1;dt<ut;)for(var gt=n-1-lt*dt++,pt=1<<ht+3,mt=0,ft=gt,vt=gt+-ct,kt=(t>>ht+4>>2)+1;--kt>0;){var yt=g[ft]-g[vt],bt=g[ft+-1]-g[vt+-1],It=ft;g[It]=g[It]+g[vt];var St=ft+-1;g[St]=g[St]+g[vt+-1],g[vt]=yt*a[mt]-bt*a[mt+1],g[vt+-1]=bt*a[mt]+yt*a[mt+1],mt+=pt,yt=g[ft+-2]-g[vt+-2],bt=g[ft+-3]-g[vt+-3];var xt=ft+-2;g[xt]=g[xt]+g[vt+-2];var Ct=ft+-3;g[Ct]=g[Ct]+g[vt+-3],g[vt+-2]=yt*a[mt]-bt*a[mt+1],g[vt+-3]=bt*a[mt]+yt*a[mt+1],mt+=pt,yt=g[ft+-4]-g[vt+-4],bt=g[ft+-5]-g[vt+-5];var wt=ft+-4;g[wt]=g[wt]+g[vt+-4];var Bt=ft+-5;g[Bt]=g[Bt]+g[vt+-5],g[vt+-4]=yt*a[mt]-bt*a[mt+1],g[vt+-5]=bt*a[mt]+yt*a[mt+1],mt+=pt,yt=g[ft+-6]-g[vt+-6],bt=g[ft+-7]-g[vt+-7];var At=ft+-6;g[At]=g[At]+g[vt+-6];var Tt=ft+-7;g[Tt]=g[Tt]+g[vt+-7],g[vt+-6]=yt*a[mt]-bt*a[mt+1],g[vt+-7]=bt*a[mt]+yt*a[mt+1],ft-=8,vt-=8,mt+=pt}for(var Mt=x-3>>1,Vt=x-6;Mt<Vt;)for(var Dt=Mt++,Ft=t>>Dt+2,Rt=1<<Dt+3,Et=Ft>>1,Gt=t>>Dt+6,Nt=1<<Dt+1,jt=0,zt=n-1,Pt=Gt+1;--Pt>0;){for(var Ht=a[jt],Zt=a[jt+1],Kt=a[jt+Rt],Wt=a[jt+Rt+1],Lt=a[jt+2*Rt],$t=a[jt+2*Rt+1],Ut=a[jt+3*Rt],Ot=a[jt+3*Rt+1],Yt=zt,Xt=zt+-Et,Qt=Nt+1;--Qt>0;){var Jt=g[Yt]-g[Xt],qt=g[Yt+-1]-g[Xt+-1];g[Yt]=g[Yt]+g[Xt],g[Yt+-1]=g[Yt+-1]+g[Xt+-1],g[Xt]=Jt*Ht-qt*Zt,g[Xt+-1]=qt*Ht+Jt*Zt,Jt=g[Yt+-2]-g[Xt+-2],qt=g[Yt+-3]-g[Xt+-3],g[Yt+-2]=g[Yt+-2]+g[Xt+-2],g[Yt+-3]=g[Yt+-3]+g[Xt+-3],g[Xt+-2]=Jt*Kt-qt*Wt,g[Xt+-3]=qt*Kt+Jt*Wt,Jt=g[Yt+-4]-g[Xt+-4],qt=g[Yt+-5]-g[Xt+-5],g[Yt+-4]=g[Yt+-4]+g[Xt+-4],g[Yt+-5]=g[Yt+-5]+g[Xt+-5],g[Xt+-4]=Jt*Lt-qt*$t,g[Xt+-5]=qt*Lt+Jt*$t,Jt=g[Yt+-6]-g[Xt+-6],qt=g[Yt+-7]-g[Xt+-7],g[Yt+-6]=g[Yt+-6]+g[Xt+-6],g[Yt+-7]=g[Yt+-7]+g[Xt+-7],g[Xt+-6]=Jt*Ut-qt*Ot,g[Xt+-7]=qt*Ut+Jt*Ot,Yt-=Ft,Xt-=Ft}jt+=4*Rt,zt-=8}for(var ea=n-1,ta=a[t>>3],aa=ea,ra=ea-16*(t>>5);aa>ra;){var ia=g[aa],sa=g[aa+-8];g[aa+-8]=ia-sa,g[aa]=ia+sa,ia=g[aa+-1],sa=g[aa+-9],g[aa+-9]=ia-sa,g[aa+-1]=ia+sa,ia=g[aa+-2],sa=g[aa+-10];var na=ia-sa;g[aa+-2]=ia+sa,ia=g[aa+-3],sa=g[aa+-11];var _a=ia-sa;g[aa+-3]=ia+sa,g[aa+-10]=(na+_a)*ta,g[aa+-11]=(_a-na)*ta,ia=g[aa+-4],sa=g[aa+-12],na=sa-ia,g[aa+-4]=ia+sa,ia=g[aa+-5],sa=g[aa+-13],_a=ia-sa,g[aa+-5]=ia+sa,g[aa+-12]=_a,g[aa+-13]=na,ia=g[aa+-6],sa=g[aa+-14],na=sa-ia,g[aa+-6]=ia+sa,ia=g[aa+-7],sa=g[aa+-15],_a=ia-sa,g[aa+-7]=ia+sa,g[aa+-14]=(na+_a)*ta,g[aa+-15]=(na-_a)*ta;var oa=g[aa],ha=g[aa+-4],la=oa-ha,ca=oa+ha;oa=g[aa+-2],ha=g[aa+-6];var da=oa+ha,ua=oa-ha;g[aa]=ca+da,g[aa+-2]=ca-da;var ga=g[aa+-3]-g[aa+-7];g[aa+-4]=la+ga,g[aa+-6]=la-ga,oa=g[aa+-1],ha=g[aa+-5];var pa=oa-ha,ma=oa+ha,fa=g[aa+-3]+g[aa+-7];g[aa+-1]=ma+fa,g[aa+-3]=ma-fa,g[aa+-5]=pa-ua,g[aa+-7]=pa+ua;var va=aa-8,ka=g[va],ya=g[va+-4],ba=ka-ya,Ia=ka+ya;ka=g[va+-2],ya=g[va+-6];var Sa=ka+ya,xa=ka-ya;g[va]=Ia+Sa,g[va+-2]=Ia-Sa;var Ca=g[va+-3]-g[va+-7];g[va+-4]=ba+Ca,g[va+-6]=ba-Ca,ka=g[va+-1],ya=g[va+-5];var wa=ka-ya,Ba=ka+ya,Aa=g[va+-3]+g[va+-7];g[va+-1]=Ba+Aa,g[va+-3]=Ba-Aa,g[va+-5]=wa-xa,g[va+-7]=wa+xa,aa-=16}for(var Ta=0,Ma=_-4,Va=n-4;Ma>=0;){var Da=s[Ta];p[Va+3]=g[Da],p[Va+2]=g[Da+1],p[Ma+3]=g[Da+2],p[Ma+2]=g[Da+3],Da=s[Ta+1],p[Va+1]=g[Da],p[Va]=g[Da+1],p[Ma+1]=g[Da+2],p[Ma]=g[Da+3],Ma-=4,Va-=4,Ta+=2}for(var Fa=0,Ra=0,Ea=n-4;Ra<Ea;){var Ga=p[Ra]-p[Ea+2],Na=p[Ra+1]+p[Ea+3],ja=i[Fa+1]*Ga+i[Fa]*Na,za=i[Fa+1]*Na-i[Fa]*Ga,Pa=p[Ra]+p[Ea+2],Ha=p[Ra+1]-p[Ea+3];p[Ra]=Pa+ja,p[Ra+1]=Ha+za,p[Ea+2]=Pa-ja,p[Ea+3]=za-Ha,Ga=p[Ra+2]-p[Ea],Na=p[Ra+3]+p[Ea+1],ja=i[Fa+3]*Ga+i[Fa+2]*Na,za=i[Fa+3]*Na-i[Fa+2]*Ga,Pa=p[Ra+2]+p[Ea],Ha=p[Ra+3]-p[Ea+1],p[Ra+2]=Pa+ja,p[Ra+3]=Ha+za,p[Ea]=Pa-ja,p[Ea+1]=za-Ha,Fa+=4,Ra+=4,Ea-=4}for(var Za=n-8,Ka=n-8,Wa=0,La=n-4,$a=n,Ua=t-4;Ka>=0;){var Oa=h[Ka+6]*r[Za+7]-h[Ka+7]*r[Za+6],Ya=-h[Ka+6]*r[Za+6]-h[Ka+7]*r[Za+7];e[Wa]=Oa,e[La+3]=-Oa,e[$a]=Ya,e[Ua+3]=Ya;var Xa=h[Ka+4]*r[Za+5]-h[Ka+5]*r[Za+4],Qa=-h[Ka+4]*r[Za+4]-h[Ka+5]*r[Za+5];e[Wa+1]=Xa,e[La+2]=-Xa,e[$a+1]=Qa,e[Ua+2]=Qa,Oa=h[Ka+2]*r[Za+3]-h[Ka+3]*r[Za+2],Ya=-h[Ka+2]*r[Za+2]-h[Ka+3]*r[Za+3],e[Wa+2]=Oa,e[La+1]=-Oa,e[$a+2]=Ya,e[Ua+1]=Ya,Xa=h[Ka]*r[Za+1]-h[Ka+1]*r[Za],Qa=-h[Ka]*r[Za]-h[Ka+1]*r[Za+1],e[Wa+3]=Xa,e[La]=-Xa,e[$a+3]=Qa,e[Ua]=Qa,Za-=8,Ka-=8,Wa+=4,$a+=4,La-=4,Ua-=4}},kha_audio2_ogg_tools_Mdct.step3Iter0Loop=function(e,t,a,r,i){for(var s=a,n=a+r,_=0,o=(e>>2)+1;--o>0;){var h=t[s]-t[n],l=t[s+-1]-t[n+-1],c=s;t[c]=t[c]+t[n];var d=s+-1;t[d]=t[d]+t[n+-1],t[n]=h*i[_]-l*i[_+1],t[n+-1]=l*i[_]+h*i[_+1],_+=8,h=t[s+-2]-t[n+-2],l=t[s+-3]-t[n+-3];var u=s+-2;t[u]=t[u]+t[n+-2];var g=s+-3;t[g]=t[g]+t[n+-3],t[n+-2]=h*i[_]-l*i[_+1],t[n+-3]=l*i[_]+h*i[_+1],_+=8,h=t[s+-4]-t[n+-4],l=t[s+-5]-t[n+-5];var p=s+-4;t[p]=t[p]+t[n+-4];var m=s+-5;t[m]=t[m]+t[n+-5],t[n+-4]=h*i[_]-l*i[_+1],t[n+-5]=l*i[_]+h*i[_+1],_+=8,h=t[s+-6]-t[n+-6],l=t[s+-7]-t[n+-7];var f=s+-6;t[f]=t[f]+t[n+-6];var v=s+-7;t[v]=t[v]+t[n+-7],t[n+-6]=h*i[_]-l*i[_+1],t[n+-7]=l*i[_]+h*i[_+1],_+=8,s-=8,n-=8}},kha_audio2_ogg_tools_Mdct.step3InnerRLoop=function(e,t,a,r,i,s){for(var n=0,_=a,o=a+r,h=(e>>2)+1;--h>0;){var l=t[_]-t[o],c=t[_+-1]-t[o+-1],d=_;t[d]=t[d]+t[o];var u=_+-1;t[u]=t[u]+t[o+-1],t[o]=l*i[n]-c*i[n+1],t[o+-1]=c*i[n]+l*i[n+1],n+=s,l=t[_+-2]-t[o+-2],c=t[_+-3]-t[o+-3];var g=_+-2;t[g]=t[g]+t[o+-2];var p=_+-3;t[p]=t[p]+t[o+-3],t[o+-2]=l*i[n]-c*i[n+1],t[o+-3]=c*i[n]+l*i[n+1],n+=s,l=t[_+-4]-t[o+-4],c=t[_+-5]-t[o+-5];var m=_+-4;t[m]=t[m]+t[o+-4];var f=_+-5;t[f]=t[f]+t[o+-5],t[o+-4]=l*i[n]-c*i[n+1],t[o+-5]=c*i[n]+l*i[n+1],n+=s,l=t[_+-6]-t[o+-6],c=t[_+-7]-t[o+-7];var v=_+-6;t[v]=t[v]+t[o+-6];var k=_+-7;t[k]=t[k]+t[o+-7],t[o+-6]=l*i[n]-c*i[n+1],t[o+-7]=c*i[n]+l*i[n+1],_-=8,o-=8,n+=s}},kha_audio2_ogg_tools_Mdct.step3InnerSLoop=function(e,t,a,r,i,s,n,_){for(var o=i[s],h=i[s+1],l=i[s+n],c=i[s+n+1],d=i[s+2*n],u=i[s+2*n+1],g=i[s+3*n],p=i[s+3*n+1],m=a,f=a+r,v=e+1;--v>0;){var k=t[m]-t[f],y=t[m+-1]-t[f+-1];t[m]=t[m]+t[f],t[m+-1]=t[m+-1]+t[f+-1],t[f]=k*o-y*h,t[f+-1]=y*o+k*h,k=t[m+-2]-t[f+-2],y=t[m+-3]-t[f+-3],t[m+-2]=t[m+-2]+t[f+-2],t[m+-3]=t[m+-3]+t[f+-3],t[f+-2]=k*l-y*c,t[f+-3]=y*l+k*c,k=t[m+-4]-t[f+-4],y=t[m+-5]-t[f+-5],t[m+-4]=t[m+-4]+t[f+-4],t[m+-5]=t[m+-5]+t[f+-5],t[f+-4]=k*d-y*u,t[f+-5]=y*d+k*u,k=t[m+-6]-t[f+-6],y=t[m+-7]-t[f+-7],t[m+-6]=t[m+-6]+t[f+-6],t[m+-7]=t[m+-7]+t[f+-7],t[f+-6]=k*g-y*p,t[f+-7]=y*g+k*p,m-=_,f-=_}},kha_audio2_ogg_tools_Mdct.iter54=function(e,t){var a=e[t],r=e[t+-4],i=a-r,s=a+r;a=e[t+-2],r=e[t+-6];var n=a+r,_=a-r;e[t]=s+n,e[t+-2]=s-n;var o=e[t+-3]-e[t+-7];e[t+-4]=i+o,e[t+-6]=i-o,a=e[t+-1],r=e[t+-5];var h=a-r,l=a+r,c=e[t+-3]+e[t+-7];e[t+-1]=l+c,e[t+-3]=l-c,e[t+-5]=h-_,e[t+-7]=h+_},kha_audio2_ogg_tools_Mdct.step3InnerSLoopLd654=function(e,t,a,r,i){for(var s=r[i>>3],n=a,_=a-16*e;n>_;){var o=t[n],h=t[n+-8];t[n+-8]=o-h,t[n]=o+h,o=t[n+-1],h=t[n+-9],t[n+-9]=o-h,t[n+-1]=o+h,o=t[n+-2],h=t[n+-10];var l=o-h;t[n+-2]=o+h,o=t[n+-3],h=t[n+-11];var c=o-h;t[n+-3]=o+h,t[n+-10]=(l+c)*s,t[n+-11]=(c-l)*s,o=t[n+-4],h=t[n+-12],l=h-o,t[n+-4]=o+h,o=t[n+-5],h=t[n+-13],c=o-h,t[n+-5]=o+h,t[n+-12]=c,t[n+-13]=l,o=t[n+-6],h=t[n+-14],l=h-o,t[n+-6]=o+h,o=t[n+-7],h=t[n+-15],c=o-h,t[n+-7]=o+h,t[n+-14]=(l+c)*s,t[n+-15]=(l-c)*s;var d=t[n],u=t[n+-4],g=d-u,p=d+u;d=t[n+-2],u=t[n+-6];var m=d+u,f=d-u;t[n]=p+m,t[n+-2]=p-m;var v=t[n+-3]-t[n+-7];t[n+-4]=g+v,t[n+-6]=g-v,d=t[n+-1],u=t[n+-5];var k=d-u,y=d+u,b=t[n+-3]+t[n+-7];t[n+-1]=y+b,t[n+-3]=y-b,t[n+-5]=k-f,t[n+-7]=k+f;var I=n-8,S=t[I],x=t[I+-4],C=S-x,w=S+x;S=t[I+-2],x=t[I+-6];var B=S+x,A=S-x;t[I]=w+B,t[I+-2]=w-B;var T=t[I+-3]-t[I+-7];t[I+-4]=C+T,t[I+-6]=C-T,S=t[I+-1],x=t[I+-5];var M=S-x,V=S+x,D=t[I+-3]+t[I+-7];t[I+-1]=V+D,t[I+-3]=V-D,t[I+-5]=M-A,t[I+-7]=M+A,n-=16}};var kha_audio2_ogg_vorbis_Reader=function(e,t,a){this.seekFunc=t,this.inputLength=a,this.decoder=kha_audio2_ogg_vorbis_VorbisDecoder.start(e),this.decoder.setupSampleNumber(t,a),this.loopStart=this.get_header().comment.get_loopStart(),this.loopLength=this.get_header().comment.get_loopLength()};$hxClasses["kha.audio2.ogg.vorbis.Reader"]=kha_audio2_ogg_vorbis_Reader,kha_audio2_ogg_vorbis_Reader.__name__=["kha","audio2","ogg","vorbis","Reader"],kha_audio2_ogg_vorbis_Reader.openFromBytes=function(e){var t=new haxe_io_BytesInput(e),a=t;return new kha_audio2_ogg_vorbis_Reader(t,function(e){kha_audio2_ogg_vorbis_Reader.seekBytes(a,e)},e.length)},kha_audio2_ogg_vorbis_Reader.seekBytes=function(e,t){e.set_position(t)},kha_audio2_ogg_vorbis_Reader.readAll=function(e,t,a){null==a&&(a=!1);var r=new haxe_io_BytesInput(e),i=kha_audio2_ogg_vorbis_VorbisDecoder.start(r),s=r;i.setupSampleNumber(function(e){kha_audio2_ogg_vorbis_Reader.seekBytes(s,e)},e.length);for(var n=i.header,_=0,o=4096,h=o*n.channel,l=new Array(h);;){for(var c=i.read(l,o,n.channel,n.sampleRate,a),d=0,u=c*n.channel;d<u;)t.writeInt32(haxe_io_FPHelper.floatToI32(l[d++]));if(0==c)break;_+=c}return i.header},kha_audio2_ogg_vorbis_Reader.prototype={get_header:function(){return this.decoder.header},get_totalSample:function(){return this.decoder.totalSample},get_totalMillisecond:function(){return _$UInt_UInt_$Impl_$.toFloat(this.decoder.totalSample)/_$UInt_UInt_$Impl_$.toFloat(this.get_header().sampleRate)*1e3},get_currentSample:function(){return this.decoder.currentSample},set_currentSample:function(e){return this.decoder.seek(this.seekFunc,this.inputLength,e),this.decoder.currentSample},get_currentMillisecond:function(){return _$UInt_UInt_$Impl_$.toFloat(this.get_currentSample())/_$UInt_UInt_$Impl_$.toFloat(this.get_header().sampleRate)*1e3},set_currentMillisecond:function(e){return this.set_currentSample(Math.floor(_$UInt_UInt_$Impl_$.toFloat(this.get_header().sampleRate)*(e/1e3))),this.get_currentMillisecond()},read:function(e,t,a,r,i){return null==i&&(i=!1),this.decoder.ensurePosition(this.seekFunc),null==t&&(t=this.decoder.totalSample),null==a&&(a=this.get_header().channel),null==r&&(r=this.get_header().sampleRate),this.decoder.read(e,t,a,r,i)},clone:function(){var e=Type.createEmptyInstance(kha_audio2_ogg_vorbis_Reader);return e.seekFunc=this.seekFunc,e.inputLength=this.inputLength,e.decoder=this.decoder.clone(this.seekFunc),e.loopStart=this.loopStart,e.loopLength=this.loopLength,e},sampleToMillisecond:function(e){return _$UInt_UInt_$Impl_$.toFloat(e)/_$UInt_UInt_$Impl_$.toFloat(this.get_header().sampleRate)*1e3},millisecondToSample:function(e){return Math.floor(_$UInt_UInt_$Impl_$.toFloat(this.get_header().sampleRate)*(e/1e3))},__class__:kha_audio2_ogg_vorbis_Reader,__properties__:{set_currentMillisecond:"set_currentMillisecond",get_currentMillisecond:"get_currentMillisecond",set_currentSample:"set_currentSample",get_currentSample:"get_currentSample",get_totalMillisecond:"get_totalMillisecond",get_totalSample:"get_totalSample",get_header:"get_header"}};var kha_audio2_ogg_vorbis_VorbisDecodeState=function(e){this.nextSeg=0,this.firstDecode=!1,this.bytesInSeg=0,this.validBits=0,this.input=e,this.inputPosition=0,this.page=new kha_audio2_ogg_vorbis_data_Page,kha_audio2_ogg_tools_Crc32.init()};$hxClasses["kha.audio2.ogg.vorbis.VorbisDecodeState"]=kha_audio2_ogg_vorbis_VorbisDecodeState,kha_audio2_ogg_vorbis_VorbisDecodeState.__name__=["kha","audio2","ogg","vorbis","VorbisDecodeState"],kha_audio2_ogg_vorbis_VorbisDecodeState.prototype={setup:function(e,t){this.inputPosition+=1;var a=this.input.readByte();this.inputPosition+=a;for(var r=new Array(a),i=0,s=a;i<s;)r[i++]=this.input.readByte();if(this.segments=r,this.endSegWithKnownLoc=-2,e!=-1||t!=-1)for(var n=a-1;n>=0&&!(this.segments[n]<255);)n>=0&&(this.endSegWithKnownLoc=n,this.knownLocForPacket=e),--n;if(this.firstDecode){for(var _=0,o=new kha_audio2_ogg_vorbis_data_ProbedPage,h=0,l=a;h<l;)_+=this.segments[h++];_+=27+a,o.pageStart=this.firstAudioPageOffset,o.pageEnd=o.pageStart+_,o.firstDecodedSample=0,o.lastDecodedSample=e,this.pFirst=o}this.nextSeg=0},clone:function(e){var t=Type.createEmptyInstance(kha_audio2_ogg_vorbis_VorbisDecodeState);return e(this.inputPosition),t.input=this.input,t.eof=this.eof,t.validBits=this.validBits,t.discardSamplesDeferred=this.discardSamplesDeferred,t.firstDecode=this.firstDecode,t.nextSeg=this.nextSeg,t.bytesInSeg=this.bytesInSeg,t.acc=t.acc,t.lastSeg=this.lastSeg,t.lastSegWhich=this.lastSegWhich,t.currentLoc=this.currentLoc,t.currentLocValid=this.currentLocValid,t.inputPosition=this.inputPosition,t.firstAudioPageOffset=this.firstAudioPageOffset,t.error=this.error,t.segments=this.segments,t.pFirst=this.pFirst,t.pLast=this.pLast,t.page=this.page.clone(),t},next:function(){if(this.lastSeg)return 0;if(this.nextSeg==-1){this.lastSegWhich=this.segments.length-1;try{this.page.start(this)}catch(e){if(e instanceof js__$Boot_HaxeError&&(e=e.val),js_Boot.__instanceof(e,kha_audio2_ogg_vorbis_data_ReaderError))return this.lastSeg=!0,this.error=e,0;throw e}if(0==(1&this.page.flag))throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.CONTINUED_PACKET_FLAG_INVALID,null,{fileName:"VorbisDecodeState.hx",lineNumber:171,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"next"}))}var e=this.segments[this.nextSeg++];return e<255&&(this.lastSeg=!0,this.lastSegWhich=this.nextSeg-1),this.nextSeg>=this.segments.length&&(this.nextSeg=-1),this.bytesInSeg=e,e},startPacket:function(){for(;this.nextSeg==-1;)if(this.page.start(this),0!=(1&this.page.flag))throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN,null,{fileName:"VorbisDecodeState.hx",lineNumber:193,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"startPacket"}));this.lastSeg=!1,this.validBits=0,this.bytesInSeg=0},maybeStartPacket:function(){if(this.nextSeg==-1){var e,t=!1;try{this.inputPosition+=1,e=this.input.readByte()}catch(a){if(a instanceof js__$Boot_HaxeError&&(a=a.val),!js_Boot.__instanceof(a,haxe_io_Eof))throw a;t=!0,e=0}if(t)return!1;var a,r,i;if(79==e?(this.inputPosition+=1,i=103!=this.input.readByte()):i=!0,i?r=!0:(this.inputPosition+=1,r=103!=this.input.readByte()),r?a=!0:(this.inputPosition+=1,a=83!=this.input.readByte()),a)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN,null,{fileName:"VorbisDecodeState.hx",lineNumber:218,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"maybeStartPacket"}));this.page.startWithoutCapturePattern(this)}return this.startPacket(),!0},readBits:function(e){if(this.validBits<0)return 0;if(this.validBits<e){if(e>24)return this.readBits(24)+(this.readBits(e-24)<<24);for(0==this.validBits&&(this.acc=0);;){if(0==this.bytesInSeg&&(this.lastSeg||0==this.next())){this.validBits=-1;break}this.bytesInSeg--;var t=this.acc;if(this.inputPosition+=1,this.acc=t+(this.input.readByte()<<this.validBits),this.validBits+=8,!(this.validBits<e))break}if(this.validBits<0)return 0;var a=this.acc&(1<<e)-1;return this.acc=this.acc>>>e,this.validBits-=e,a}var r=this.acc&(1<<e)-1;return this.acc=this.acc>>>e,this.validBits-=e,r},readPacketRaw:function(){return 0!=this.bytesInSeg||!this.lastSeg&&0!=this.next()?(this.bytesInSeg--,this.inputPosition+=1,this.input.readByte()):-1},readPacket:function(){var e;return 0!=this.bytesInSeg||!this.lastSeg&&0!=this.next()?(this.bytesInSeg--,this.inputPosition+=1,e=this.input.readByte()):e=-1,this.validBits=0,e},flushPacket:function(){for(;0!=this.bytesInSeg||!this.lastSeg&&0!=this.next();)this.bytesInSeg--,
this.inputPosition+=1,this.input.readByte()},vorbisValidate:function(){for(var e=new haxe_io_Bytes(new ArrayBuffer(6)),t=0;t<6;){var a,r=t++;0!=this.bytesInSeg||!this.lastSeg&&0!=this.next()?(this.bytesInSeg--,this.inputPosition+=1,a=this.input.readByte()):a=-1,this.validBits=0,e.b[r]=255&a}if("vorbis"!=e.toString())throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"vorbis header",{fileName:"VorbisDecodeState.hx",lineNumber:300,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"vorbisValidate"}))},firstPageValidate:function(){if(1!=this.segments.length)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"segmentCount",{fileName:"VorbisDecodeState.hx",lineNumber:307,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"firstPageValidate"}));if(30!=this.segments[0])throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"decodeState head",{fileName:"VorbisDecodeState.hx",lineNumber:310,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"firstPageValidate"}))},startFirstDecode:function(){this.firstAudioPageOffset=this.inputPosition,this.firstDecode=!0},capturePattern:function(){var e,t,a;if(this.inputPosition+=1,79==this.input.readByte()?(this.inputPosition+=1,a=103!=this.input.readByte()):a=!0,a?t=!0:(this.inputPosition+=1,t=103!=this.input.readByte()),t?e=!0:(this.inputPosition+=1,e=83!=this.input.readByte()),e)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN,null,{fileName:"VorbisDecodeState.hx",lineNumber:323,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"capturePattern"}))},skip:function(e){this.inputPosition+=e;for(var t=new Array(e),a=0,r=e;a<r;)t[a++]=this.input.readByte()},prepHuffman:function(){if(this.validBits<=24)for(0==this.validBits&&(this.acc=0);;){if(0==this.bytesInSeg&&(this.lastSeg||0==this.next()))return;this.bytesInSeg--;var e=this.acc;if(this.inputPosition+=1,this.acc=e+(this.input.readByte()<<this.validBits),this.validBits+=8,!(this.validBits<=24))break}},decode:function(e){this.validBits<10&&this.prepHuffman();var t,a=e.fastHuffman[1023&this.acc];if(a>=0){var r=e.codewordLengths[a];this.acc=this.acc>>>r,this.validBits-=r,this.validBits<0?(this.validBits=0,t=-1):t=a}else t=this.decodeScalarRaw(e);return e.sparse&&(t=e.sortedValues[t]),t},decodeRaw:function(e){this.validBits<10&&this.prepHuffman();var t=e.fastHuffman[1023&this.acc];if(t>=0){var a=e.codewordLengths[t];return this.acc=this.acc>>>a,this.validBits-=a,this.validBits<0?(this.validBits=0,-1):t}return this.decodeScalarRaw(e)},isLastByte:function(){return 0==this.bytesInSeg&&this.lastSeg},finishDecodePacket:function(e,t,a){var r=a.left.start,i=!1,s=t>>1;if(this.firstDecode?(this.currentLoc=-s,this.discardSamplesDeferred=t-a.right.end,i=!0,this.firstDecode=!1):0!=this.discardSamplesDeferred&&(a.left.start+=this.discardSamplesDeferred,r=a.left.start,this.discardSamplesDeferred=0),this.lastSegWhich==this.endSegWithKnownLoc){if(i&&0!=(4&this.page.flag)){var n=this.knownLocForPacket-(t-a.right.end);if(n<this.currentLoc+a.right.end){var _=n<this.currentLoc?0:n-this.currentLoc;return _+=a.left.start,this.currentLoc+=_,{len:_,left:r,right:a.right.start}}}this.currentLoc=this.knownLocForPacket-(s-a.left.start),i=!0}return i&&(this.currentLoc+=a.right.start-a.left.start),{len:a.right.end,left:r,right:a.right.start}},readInt32:function(){return this.inputPosition+=4,this.input.readInt32()},readByte:function(){return this.inputPosition+=1,this.input.readByte()},read:function(e){this.inputPosition+=e;for(var t=new Array(e),a=0,r=e;a<r;)t[a++]=this.input.readByte();return t},readBytes:function(e){return this.inputPosition+=e,this.input.read(e)},readString:function(e){return this.inputPosition+=e,this.input.readString(e)},getSampleNumber:function(e,t){var a=this.inputPosition,r=_$UInt_UInt_$Impl_$.gte(t,65536)&&_$UInt_UInt_$Impl_$.gte(t-65536,this.firstAudioPageOffset)?t-65536:this.firstAudioPageOffset;e(this.inputPosition=r);var i=0,s=!1,n=this.findPage(e,t);switch(n[1]){case 0:i=n[2],s=n[3];break;case 1:throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE,null,{fileName:"VorbisDecodeState.hx",lineNumber:518,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"getSampleNumber"}))}var _=this.inputPosition;try{for(;!s;){e(this.inputPosition=i);var o=this.findPage(e,t);switch(o[1]){case 0:i=o[2],s=o[3];break;case 1:throw"__break__"}r=_+1,_=this.inputPosition}}catch(e){if("__break__"!=e)throw e}e(this.inputPosition=_),this.inputPosition+=6;for(var h=new Array(6),l=0,c=6;l<c;)h[l++]=this.input.readByte();this.inputPosition+=4;var d=this.input.readInt32();this.inputPosition+=4;var u=this.input.readInt32();if(d==-1&&u==-1||u>0)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE,null,{fileName:"VorbisDecodeState.hx",lineNumber:552,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"getSampleNumber"}));return this.pLast=new kha_audio2_ogg_vorbis_data_ProbedPage,this.pLast.pageStart=_,this.pLast.pageEnd=i,this.pLast.lastDecodedSample=d,this.pLast.firstDecodedSample=null,this.pLast.afterPreviousPageStart=r,e(this.inputPosition=a),d},forcePageResync:function(){this.nextSeg=-1},setInputOffset:function(e,t){e(this.inputPosition=t)},findPage:function(e,t){try{for(;;)if(this.inputPosition+=1,79==this.input.readByte()){var a=this.inputPosition;if(a-25>t)return kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound;var r,i;if(this.inputPosition+=1,103==this.input.readByte()?(this.inputPosition+=1,i=103!=this.input.readByte()):i=!0,i?r=!0:(this.inputPosition+=1,r=83!=this.input.readByte()),r)continue;var s=new Array(27);s[0]=79,s[1]=103,s[2]=103,s[3]=83;for(var n=4;n<27;){var _=n++;this.inputPosition+=1,s[_]=this.input.readByte()}if(0!=s[4]){e(this.inputPosition=a);continue}for(var o=s[22]+(s[23]<<8)+(s[24]<<16)+(s[25]<<24),h=22;h<26;)s[h++]=0;for(var l=0,c=0;c<27;)l=l<<8^kha_audio2_ogg_tools_Crc32.table[s[c++]^l>>>24];var d=0;try{for(var u=0,g=s[26];u<g;){u++;this.inputPosition+=1;var p=this.input.readByte();l=l<<8^kha_audio2_ogg_tools_Crc32.table[p^l>>>24],d+=p}for(var m=0,f=d;m<f;){m++;this.inputPosition+=1,l=l<<8^kha_audio2_ogg_tools_Crc32.table[this.input.readByte()^l>>>24]}}catch(e){if(e instanceof js__$Boot_HaxeError&&(e=e.val),js_Boot.__instanceof(e,haxe_io_Eof))return kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound;throw e}if(l==o){var v=this.inputPosition;return e(this.inputPosition=a-1),kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.Found(v,0!=(4&s[5]))}}}catch(e){if(e instanceof js__$Boot_HaxeError&&(e=e.val),js_Boot.__instanceof(e,haxe_io_Eof))return kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound;throw e}},analyzePage:function(e,t){var a=new kha_audio2_ogg_vorbis_data_ProbedPage,r=new Array(255);a.pageStart=this.inputPosition,this.inputPosition+=27;for(var i=new Array(27),s=0,n=27;s<n;)i[s++]=this.input.readByte();var _=i,o=_[26];this.inputPosition+=o;for(var h=new Array(o),l=0,c=o;l<c;)h[l++]=this.input.readByte();for(var d=h,u=0,g=0,p=_[26];g<p;)u+=d[g++];if(a.pageEnd=a.pageStart+27+_[26]+u,a.lastDecodedSample=_[6]+(_[7]<<8)+(_[8]<<16)+(_[9]<<16),0!=(4&_[5]))return a.firstDecodedSample=null,e(this.inputPosition=a.pageStart),a;for(var m=0,f=0==(1&_[5]),v=t.modes.length,k=0,y=_[26];k<y;){var b=k++;if(f){if(0==d[b])return e(this.inputPosition=a.pageStart),null;this.inputPosition+=1;var I=this.input.readByte();if(0!=(1&I))return e(this.inputPosition=a.pageStart),null;I>>=1;var S=v-1,x=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];if(I&=(1<<(S<16384?S<16?x[S]:S<512?5+x[S>>5]:10+x[S>>10]:S<16777216?S<524288?15+x[S>>15]:20+x[S>>20]:S<536870912?25+x[S>>25]:S<-2147483648?30+x[S>>30]:0))-1,I>=v)return e(this.inputPosition=a.pageStart),null;r[m++]=t.modes[I].blockflag;var C=d[b]-1;this.inputPosition+=C;for(var w=new Array(C),B=0,A=C;B<A;)w[B++]=this.input.readByte()}else{var T=d[b];this.inputPosition+=T;for(var M=new Array(T),V=0,D=T;V<D;)M[V++]=this.input.readByte()}f=d[b]<255}var F=0;m>1&&(F+=r[m-1]?t.blocksize1:t.blocksize0);for(var R=m-2;R>=1;)--R,F+=r[R]?r[R+1]?t.blocksize1>>1:(t.blocksize1-t.blocksize0>>2)+(t.blocksize0>>1):t.blocksize0>>1,--R;return a.firstDecodedSample=a.lastDecodedSample-F,e(this.inputPosition=a.pageStart),a},decodeScalarRaw:function(e){this.prepHuffman();var t=e.codewordLengths,a=e.codewords,r=e.sortedCodewords;if(e.entries>8?null!=r:null!=a){var i=this.acc;i=(i&-1431655766)>>>1|(1431655765&i)<<1,i=(i&-858993460)>>>2|(858993459&i)<<2,i=(i&-252645136)>>>4|(252645135&i)<<4,i=(i&-16711936)>>>8|(16711935&i)<<8;for(var s=i>>>16|i<<16,n=0,_=e.sortedEntries;_>1;){var o=n+(_>>1);_$UInt_UInt_$Impl_$.gte(s,r[o])?(n=o,_-=_>>1):_>>=1}e.sparse||(n=e.sortedValues[n]);var h=t[n];return this.validBits>=h?(this.acc=this.acc>>>h,this.validBits-=h,n):(this.validBits=0,-1)}for(var l=0,c=e.entries;l<c;){var d=l++,u=t[d];if(255!=u&&a[d]==(this.acc&(1<<u)-1))return this.validBits>=u?(this.acc=this.acc>>>u,this.validBits-=u,d):(this.validBits=0,-1)}return this.error=new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{fileName:"VorbisDecodeState.hx",lineNumber:846,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"decodeScalarRaw"}),this.validBits=0,-1},__class__:kha_audio2_ogg_vorbis_VorbisDecodeState};var kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult=$hxClasses["kha.audio2.ogg.vorbis._VorbisDecodeState.FindPageResult"]={__ename__:["kha","audio2","ogg","vorbis","_VorbisDecodeState","FindPageResult"],__constructs__:["Found","NotFound"]};kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.Found=function(e,t){var a=["Found",0,e,t];return a.__enum__=kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult,a.toString=$estr,a},kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound=["NotFound",1],kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound.toString=$estr,kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound.__enum__=kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult;var kha_audio2_ogg_vorbis_VorbisDecoder=function(e,t){this.header=e,this.decodeState=t,this.totalSample=null,this.currentSample=0,this.previousLength=0;var a=e.channel;this.channelBuffers=new Array(a);var r=e.channel;this.previousWindow=new Array(r);var i=e.channel;this.finalY=new Array(i);for(var s=0,n=e.channel;s<n;){var _=s++,o=e.blocksize1;this.channelBuffers[_]=new Array(o);var h=e.blocksize1/2|0;this.previousWindow[_]=new Array(h),this.finalY[_]=[]}this.a=new Array(2),this.b=new Array(2),this.c=new Array(2),this.window=new Array(2),this.bitReverseData=new Array(2),this.initBlocksize(0,e.blocksize0),this.initBlocksize(1,e.blocksize1)};$hxClasses["kha.audio2.ogg.vorbis.VorbisDecoder"]=kha_audio2_ogg_vorbis_VorbisDecoder,kha_audio2_ogg_vorbis_VorbisDecoder.__name__=["kha","audio2","ogg","vorbis","VorbisDecoder"],kha_audio2_ogg_vorbis_VorbisDecoder.start=function(e){var t=new kha_audio2_ogg_vorbis_VorbisDecodeState(e),a=new kha_audio2_ogg_vorbis_VorbisDecoder(kha_audio2_ogg_vorbis_data_Header.read(t),t);return t.startFirstDecode(),a.pumpFirstFrame(),a},kha_audio2_ogg_vorbis_VorbisDecoder.prototype={read:function(e,t,a,r,i){if(0!=(_$UInt_UInt_$Impl_$.toFloat(r)%_$UInt_UInt_$Impl_$.toFloat(this.header.sampleRate)|0))throw new js__$Boot_HaxeError("Unsupported sampleRate : can't convert "+Std.string(_$UInt_UInt_$Impl_$.toFloat(this.header.sampleRate))+" to "+r);if(a%this.header.channel!=0)throw new js__$Boot_HaxeError("Unsupported channels : can't convert "+this.header.channel+" to "+a);var s=_$UInt_UInt_$Impl_$.toFloat(r)/_$UInt_UInt_$Impl_$.toFloat(this.header.sampleRate)|0,n=a/this.header.channel|0,_=0,o=Math.floor(t/s);null!=this.totalSample&&o>this.totalSample-this.currentSample&&(o=this.totalSample-this.currentSample);for(var h=0;_<o;){var l=this.channelBufferEnd-this.channelBufferStart;l>=o-_&&(l=o-_);for(var c=this.channelBufferStart,d=this.channelBufferStart+l;c<d;)for(var u=c++,g=0;g<s;){++g;for(var p=0,m=this.header.channel;p<m;)for(var f=p++,v=0;v<n;){++v;var k=this.channelBuffers[f][u];k>1?k=1:k<-1&&(k=-1),i&&(e[h]=k,++h)}}if(_+=l,this.channelBufferStart+=l,_==o||0==this.getFrameFloat())break}for(var y=_,b=o;y<b;){++y;for(var I=0;I<s;){++I;for(var S=0,x=this.header.channel;S<x;){++S;for(var C=0;C<n;)++C,i&&(e[h]=0,++h)}}}return this.currentSample+=o,o*s},skipSamples:function(e){var t=0;for(null!=this.totalSample&&e>this.totalSample-this.currentSample&&(e=this.totalSample-this.currentSample);t<e;){var a=this.channelBufferEnd-this.channelBufferStart;if(a>=e-t&&(a=e-t),t+=a,this.channelBufferStart+=a,t==e||0==this.getFrameFloat())break}return this.currentSample+=e,e},setupSampleNumber:function(e,t){null==this.totalSample&&(this.totalSample=this.decodeState.getSampleNumber(e,t))},seek:function(e,t,a){if(this.currentSample!=a){if(null==this.totalSample&&(this.setupSampleNumber(e,t),0==this.totalSample))throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE,null,{fileName:"VorbisDecoder.hx",lineNumber:187,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}));a<0&&(a=0);var r=this.decodeState.pFirst,i=this.decodeState.pLast;if(a>=i.lastDecodedSample&&(a=i.lastDecodedSample-1),a<r.lastDecodedSample)this.seekFrameFromPage(e,r.pageStart,0,a);else{for(var s=0;r.pageEnd<i.pageStart;){var n=r.pageEnd,_=i.afterPreviousPageStart,o=r.lastDecodedSample,h=i.lastDecodedSample;if(null==o||null==h)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:219,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}));_$UInt_UInt_$Impl_$.gt(_,n+4e3)&&(_-=4e3);var l=n+Math.floor(_$UInt_UInt_$Impl_$.toFloat(_-n)/_$UInt_UInt_$Impl_$.toFloat(h-o)*(a-o));if(s>=4){var c=n+(_-n>>>1);s>=8?l=c:_$UInt_UInt_$Impl_$.gt(c,l)?l+=c-l>>>1:l=c+(l-c>>>1)}switch(++s,e(this.decodeState.inputPosition=l),this.decodeState.findPage(e,t)[1]){case 0:break;case 1:throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:249,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}))}var d=this.decodeState.analyzePage(e,this.header);if(null==d)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:255,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}));d.afterPreviousPageStart=l,d.pageStart!=i.pageStart?a<d.lastDecodedSample?i=d:r=d:i=d}if(!(r.lastDecodedSample<=a&&a<i.lastDecodedSample))throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:275,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}));this.seekFrameFromPage(e,i.pageStart,r.lastDecodedSample,a)}}},seekFrameFromPage:function(e,t,a,r){var i=0,s=a;e(this.decodeState.inputPosition=t),this.decodeState.nextSeg=-1;for(var n=0,_=0,o=null,h=null;;){o=h,h=this.decodeState.clone(e);var l=this.decodeInitial();if(null==l){h=o;break}_=l.left.start,n=l.left.end;var c=0==i?n:_;if(r<s+l.right.start-c)break;for(var d=this.decodeState;0!=d.bytesInSeg||!d.lastSeg&&0!=d.next();)d.bytesInSeg--,d.inputPosition+=1,d.input.readByte();s+=l.right.start-c,++i}this.decodeState=h,e(this.decodeState.inputPosition),this.previousLength=0,this.pumpFirstFrame(),this.currentSample=s,this.skipSamples(r-s)},clone:function(e){var t=Type.createEmptyInstance(kha_audio2_ogg_vorbis_VorbisDecoder);t.currentSample=this.currentSample,t.totalSample=this.totalSample,t.previousLength=this.previousLength,t.channelBufferStart=this.channelBufferStart,t.channelBufferEnd=this.channelBufferEnd,t.a=this.a,t.b=this.b,t.c=this.c,t.window=this.window,t.bitReverseData=this.bitReverseData,t.header=this.header,t.decodeState=this.decodeState.clone(e);var a=this.header.channel;t.channelBuffers=new Array(a);var r=this.header.channel;t.previousWindow=new Array(r);var i=this.header.channel;t.finalY=new Array(i);for(var s=0,n=this.header.channel;s<n;){var _=s++;t.channelBuffers[_]=kha_audio2_ogg_vorbis_VorbisTools.copyVector(this.channelBuffers[_]),t.previousWindow[_]=kha_audio2_ogg_vorbis_VorbisTools.copyVector(this.previousWindow[_]),t.finalY[_]=Lambda.array(this.finalY[_])}return t},ensurePosition:function(e){e(this.decodeState.inputPosition)},getFrameFloat:function(){var e=this.decodePacket();if(null==e)return this.channelBufferStart=this.channelBufferEnd=0,0;var t=this.finishFrame(e);return this.channelBufferStart=e.left,this.channelBufferEnd=e.left+t,t},pumpFirstFrame:function(){this.finishFrame(this.decodePacket())},finishFrame:function(e){var t=e.len,a=e.right,r=e.left;if(0!=this.previousLength)for(var i=this.previousLength,s=this.getWindow(i),n=0,_=this.header.channel;n<_;)for(var o=n++,h=this.channelBuffers[o],l=this.previousWindow[o],c=0;c<i;){var d=c++;h[r+d]=h[r+d]*s[d]+l[d]*s[i-1-d]}var u=this.previousLength;this.previousLength=t-a;for(var g=0,p=this.header.channel;g<p;)for(var m=g++,f=this.previousWindow[m],v=this.channelBuffers[m],k=0,y=t-a;k<y;){var b=k++;f[b]=v[a+b]}return 0==u?0:(t<a&&(a=t),a-r)},getWindow:function(e){return e<<=1,e==this.header.blocksize0?this.window[0]:e==this.header.blocksize1?this.window[1]:null},initBlocksize:function(e,t){var a=t>>1,r=t>>2,i=t>>3;this.a[e]=new Array(a),this.b[e]=new Array(a),this.c[e]=new Array(r),this.window[e]=new Array(a),this.bitReverseData[e]=new Array(i),kha_audio2_ogg_vorbis_VorbisTools.computeTwiddleFactors(t,this.a[e],this.b[e],this.c[e]),kha_audio2_ogg_vorbis_VorbisTools.computeWindow(t,this.window[e]),kha_audio2_ogg_vorbis_VorbisTools.computeBitReverse(t,this.bitReverseData[e])},inverseMdct:function(e,t,a){for(var r=a?1:0,i=this.a[r],s=this.b[r],n=this.c[r],_=this.bitReverseData[r],o=t>>1,h=t>>2,l=t>>3,c=new Array(o),d=o-2,u=0,g=0,p=o;g!=p;)c[d+1]=e[g]*i[u]-e[g+2]*i[u+1],c[d]=e[g]*i[u+1]+e[g+2]*i[u],d-=2,u+=2,g+=4;for(g=o-3;d>=0;)c[d+1]=-e[g+2]*i[u]- -e[g]*i[u+1],c[d]=-e[g+2]*i[u+1]+-e[g]*i[u],d-=2,u+=2,g-=4;for(var m=e,f=c,v=o-8,k=h,y=0,b=h,I=0;v>=0;){var S=f[k+1]-f[y+1],x=f[k]-f[y];m[b+1]=f[k+1]+f[y+1],m[b]=f[k]+f[y],m[I+1]=S*i[v+4]-x*i[v+5],m[I]=x*i[v+4]+S*i[v+5],S=f[k+3]-f[y+3],x=f[k+2]-f[y+2],m[b+3]=f[k+3]+f[y+3],m[b+2]=f[k+2]+f[y+2],m[I+3]=S*i[v]-x*i[v+1],m[I+2]=x*i[v]+S*i[v+1],v-=8,b+=4,I+=4,k+=4,y+=4}for(var C=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],w=(t<16384?t<16?C[t]:t<512?5+C[t>>5]:10+C[t>>10]:t<16777216?t<524288?15+C[t>>15]:20+C[t>>20]:t<536870912?25+C[t>>25]:t<-2147483648?30+C[t>>30]:0)-1,B=o-1-0*h,A=B,T=B+-(t>>3),M=0,V=(t>>4>>2)+1;--V>0;){var D=m[A]-m[T],F=m[A+-1]-m[T+-1],R=A;m[R]=m[R]+m[T];var E=A+-1;m[E]=m[E]+m[T+-1],m[T]=D*i[M]-F*i[M+1],m[T+-1]=F*i[M]+D*i[M+1],M+=8,D=m[A+-2]-m[T+-2],F=m[A+-3]-m[T+-3];var G=A+-2;m[G]=m[G]+m[T+-2];var N=A+-3;m[N]=m[N]+m[T+-3],m[T+-2]=D*i[M]-F*i[M+1],m[T+-3]=F*i[M]+D*i[M+1],M+=8,D=m[A+-4]-m[T+-4],F=m[A+-5]-m[T+-5];var j=A+-4;m[j]=m[j]+m[T+-4];var z=A+-5;m[z]=m[z]+m[T+-5],m[T+-4]=D*i[M]-F*i[M+1],m[T+-5]=F*i[M]+D*i[M+1],M+=8,D=m[A+-6]-m[T+-6],F=m[A+-7]-m[T+-7];var P=A+-6;m[P]=m[P]+m[T+-6];var H=A+-7;m[H]=m[H]+m[T+-7],m[T+-6]=D*i[M]-F*i[M+1],m[T+-7]=F*i[M]+D*i[M+1],M+=8,A-=8,T-=8}for(var Z=o-1-h,K=Z,W=Z+-(t>>3),L=0,$=(t>>4>>2)+1;--$>0;){var U=m[K]-m[W],O=m[K+-1]-m[W+-1],Y=K;m[Y]=m[Y]+m[W];var X=K+-1;m[X]=m[X]+m[W+-1],m[W]=U*i[L]-O*i[L+1],m[W+-1]=O*i[L]+U*i[L+1],L+=8,U=m[K+-2]-m[W+-2],O=m[K+-3]-m[W+-3];var Q=K+-2;m[Q]=m[Q]+m[W+-2];var J=K+-3;m[J]=m[J]+m[W+-3],m[W+-2]=U*i[L]-O*i[L+1],m[W+-3]=O*i[L]+U*i[L+1],L+=8,U=m[K+-4]-m[W+-4],O=m[K+-5]-m[W+-5];var q=K+-4;m[q]=m[q]+m[W+-4];var ee=K+-5;m[ee]=m[ee]+m[W+-5],m[W+-4]=U*i[L]-O*i[L+1],m[W+-5]=O*i[L]+U*i[L+1],L+=8,U=m[K+-6]-m[W+-6],O=m[K+-7]-m[W+-7];var te=K+-6;m[te]=m[te]+m[W+-6];var ae=K+-7;m[ae]=m[ae]+m[W+-7],m[W+-6]=U*i[L]-O*i[L+1],m[W+-7]=O*i[L]+U*i[L+1],L+=8,K-=8,W-=8}for(var re=o-1-0*l,ie=0,se=re,ne=re+-(t>>4),_e=(t>>5>>2)+1;--_e>0;){var oe=m[se]-m[ne],he=m[se+-1]-m[ne+-1],le=se;m[le]=m[le]+m[ne];var ce=se+-1;m[ce]=m[ce]+m[ne+-1],m[ne]=oe*i[ie]-he*i[ie+1],m[ne+-1]=he*i[ie]+oe*i[ie+1],ie+=16,oe=m[se+-2]-m[ne+-2],he=m[se+-3]-m[ne+-3];var de=se+-2;m[de]=m[de]+m[ne+-2];var ue=se+-3;m[ue]=m[ue]+m[ne+-3],m[ne+-2]=oe*i[ie]-he*i[ie+1],m[ne+-3]=he*i[ie]+oe*i[ie+1],ie+=16,oe=m[se+-4]-m[ne+-4],he=m[se+-5]-m[ne+-5];var ge=se+-4;m[ge]=m[ge]+m[ne+-4];var pe=se+-5;m[pe]=m[pe]+m[ne+-5],m[ne+-4]=oe*i[ie]-he*i[ie+1],m[ne+-5]=he*i[ie]+oe*i[ie+1],ie+=16,oe=m[se+-6]-m[ne+-6],he=m[se+-7]-m[ne+-7];var me=se+-6;m[me]=m[me]+m[ne+-6];var fe=se+-7;m[fe]=m[fe]+m[ne+-7],m[ne+-6]=oe*i[ie]-he*i[ie+1],m[ne+-7]=he*i[ie]+oe*i[ie+1],se-=8,ne-=8,ie+=16}for(var ve=o-1-l,ke=0,ye=ve,be=ve+-(t>>4),Ie=(t>>5>>2)+1;--Ie>0;){var Se=m[ye]-m[be],xe=m[ye+-1]-m[be+-1],Ce=ye;m[Ce]=m[Ce]+m[be];var we=ye+-1;m[we]=m[we]+m[be+-1],m[be]=Se*i[ke]-xe*i[ke+1],m[be+-1]=xe*i[ke]+Se*i[ke+1],ke+=16,Se=m[ye+-2]-m[be+-2],xe=m[ye+-3]-m[be+-3];var Be=ye+-2;m[Be]=m[Be]+m[be+-2];var Ae=ye+-3;m[Ae]=m[Ae]+m[be+-3],m[be+-2]=Se*i[ke]-xe*i[ke+1],m[be+-3]=xe*i[ke]+Se*i[ke+1],ke+=16,Se=m[ye+-4]-m[be+-4],xe=m[ye+-5]-m[be+-5];var Te=ye+-4;m[Te]=m[Te]+m[be+-4];var Me=ye+-5;m[Me]=m[Me]+m[be+-5],m[be+-4]=Se*i[ke]-xe*i[ke+1],m[be+-5]=xe*i[ke]+Se*i[ke+1],ke+=16,Se=m[ye+-6]-m[be+-6],xe=m[ye+-7]-m[be+-7];var Ve=ye+-6;m[Ve]=m[Ve]+m[be+-6];var De=ye+-7;m[De]=m[De]+m[be+-7],m[be+-6]=Se*i[ke]-xe*i[ke+1],m[be+-7]=xe*i[ke]+Se*i[ke+1],ye-=8,be-=8,ke+=16}for(var Fe=o-1-2*l,Re=0,Ee=Fe,Ge=Fe+-(t>>4),Ne=(t>>5>>2)+1;--Ne>0;){var je=m[Ee]-m[Ge],ze=m[Ee+-1]-m[Ge+-1],Pe=Ee;m[Pe]=m[Pe]+m[Ge];var He=Ee+-1;m[He]=m[He]+m[Ge+-1],m[Ge]=je*i[Re]-ze*i[Re+1],m[Ge+-1]=ze*i[Re]+je*i[Re+1],Re+=16,je=m[Ee+-2]-m[Ge+-2],ze=m[Ee+-3]-m[Ge+-3];var Ze=Ee+-2;m[Ze]=m[Ze]+m[Ge+-2];var Ke=Ee+-3;m[Ke]=m[Ke]+m[Ge+-3],m[Ge+-2]=je*i[Re]-ze*i[Re+1],m[Ge+-3]=ze*i[Re]+je*i[Re+1],Re+=16,je=m[Ee+-4]-m[Ge+-4],ze=m[Ee+-5]-m[Ge+-5];var We=Ee+-4;m[We]=m[We]+m[Ge+-4];var Le=Ee+-5;m[Le]=m[Le]+m[Ge+-5],m[Ge+-4]=je*i[Re]-ze*i[Re+1],m[Ge+-5]=ze*i[Re]+je*i[Re+1],Re+=16,je=m[Ee+-6]-m[Ge+-6],ze=m[Ee+-7]-m[Ge+-7];var $e=Ee+-6;m[$e]=m[$e]+m[Ge+-6];var Ue=Ee+-7;m[Ue]=m[Ue]+m[Ge+-7],m[Ge+-6]=je*i[Re]-ze*i[Re+1],m[Ge+-7]=ze*i[Re]+je*i[Re+1],Ee-=8,Ge-=8,Re+=16}for(var Oe=o-1-3*l,Ye=0,Xe=Oe,Qe=Oe+-(t>>4),Je=(t>>5>>2)+1;--Je>0;){var qe=m[Xe]-m[Qe],et=m[Xe+-1]-m[Qe+-1],tt=Xe;m[tt]=m[tt]+m[Qe];var at=Xe+-1;m[at]=m[at]+m[Qe+-1],m[Qe]=qe*i[Ye]-et*i[Ye+1],m[Qe+-1]=et*i[Ye]+qe*i[Ye+1],Ye+=16,qe=m[Xe+-2]-m[Qe+-2],et=m[Xe+-3]-m[Qe+-3];var rt=Xe+-2;m[rt]=m[rt]+m[Qe+-2];var it=Xe+-3;m[it]=m[it]+m[Qe+-3],m[Qe+-2]=qe*i[Ye]-et*i[Ye+1],m[Qe+-3]=et*i[Ye]+qe*i[Ye+1],Ye+=16,qe=m[Xe+-4]-m[Qe+-4],et=m[Xe+-5]-m[Qe+-5];var st=Xe+-4;m[st]=m[st]+m[Qe+-4];var nt=Xe+-5;m[nt]=m[nt]+m[Qe+-5],m[Qe+-4]=qe*i[Ye]-et*i[Ye+1],m[Qe+-5]=et*i[Ye]+qe*i[Ye+1],Ye+=16,qe=m[Xe+-6]-m[Qe+-6],et=m[Xe+-7]-m[Qe+-7];var _t=Xe+-6;m[_t]=m[_t]+m[Qe+-6];var ot=Xe+-7;m[ot]=m[ot]+m[Qe+-7],m[Qe+-6]=qe*i[Ye]-et*i[Ye+1],m[Qe+-7]=et*i[Ye]+qe*i[Ye+1],Xe-=8,Qe-=8,Ye+=16}for(var ht=2,lt=w-3>>1;ht<lt;)for(var ct=ht++,dt=t>>ct+2,ut=dt>>1,gt=0,pt=1<<ct+1;gt<pt;)for(var mt=o-1-dt*gt++,ft=1<<ct+3,vt=0,kt=mt,yt=mt+-ut,bt=(t>>ct+4>>2)+1;--bt>0;){var It=m[kt]-m[yt],St=m[kt+-1]-m[yt+-1],xt=kt;m[xt]=m[xt]+m[yt];var Ct=kt+-1;m[Ct]=m[Ct]+m[yt+-1],m[yt]=It*i[vt]-St*i[vt+1],m[yt+-1]=St*i[vt]+It*i[vt+1],vt+=ft,It=m[kt+-2]-m[yt+-2],St=m[kt+-3]-m[yt+-3];var wt=kt+-2;m[wt]=m[wt]+m[yt+-2];var Bt=kt+-3;m[Bt]=m[Bt]+m[yt+-3],m[yt+-2]=It*i[vt]-St*i[vt+1],m[yt+-3]=St*i[vt]+It*i[vt+1],vt+=ft,It=m[kt+-4]-m[yt+-4],St=m[kt+-5]-m[yt+-5];var At=kt+-4;m[At]=m[At]+m[yt+-4];var Tt=kt+-5;m[Tt]=m[Tt]+m[yt+-5],m[yt+-4]=It*i[vt]-St*i[vt+1],m[yt+-5]=St*i[vt]+It*i[vt+1],vt+=ft,It=m[kt+-6]-m[yt+-6],St=m[kt+-7]-m[yt+-7];var Mt=kt+-6;m[Mt]=m[Mt]+m[yt+-6];var Vt=kt+-7;m[Vt]=m[Vt]+m[yt+-7],m[yt+-6]=It*i[vt]-St*i[vt+1],m[yt+-7]=St*i[vt]+It*i[vt+1],kt-=8,yt-=8,vt+=ft}for(var Dt=w-3>>1,Ft=w-6;Dt<Ft;)for(var Rt=Dt++,Et=t>>Rt+2,Gt=1<<Rt+3,Nt=Et>>1,jt=t>>Rt+6,zt=1<<Rt+1,Pt=0,Ht=o-1,Zt=jt+1;--Zt>0;){for(var Kt=i[Pt],Wt=i[Pt+1],Lt=i[Pt+Gt],$t=i[Pt+Gt+1],Ut=i[Pt+2*Gt],Ot=i[Pt+2*Gt+1],Yt=i[Pt+3*Gt],Xt=i[Pt+3*Gt+1],Qt=Ht,Jt=Ht+-Nt,qt=zt+1;--qt>0;){var ea=m[Qt]-m[Jt],ta=m[Qt+-1]-m[Jt+-1];m[Qt]=m[Qt]+m[Jt],m[Qt+-1]=m[Qt+-1]+m[Jt+-1],m[Jt]=ea*Kt-ta*Wt,m[Jt+-1]=ta*Kt+ea*Wt,ea=m[Qt+-2]-m[Jt+-2],ta=m[Qt+-3]-m[Jt+-3],m[Qt+-2]=m[Qt+-2]+m[Jt+-2],m[Qt+-3]=m[Qt+-3]+m[Jt+-3],m[Jt+-2]=ea*Lt-ta*$t,m[Jt+-3]=ta*Lt+ea*$t,ea=m[Qt+-4]-m[Jt+-4],ta=m[Qt+-5]-m[Jt+-5],m[Qt+-4]=m[Qt+-4]+m[Jt+-4],m[Qt+-5]=m[Qt+-5]+m[Jt+-5],m[Jt+-4]=ea*Ut-ta*Ot,m[Jt+-5]=ta*Ut+ea*Ot,ea=m[Qt+-6]-m[Jt+-6],ta=m[Qt+-7]-m[Jt+-7],m[Qt+-6]=m[Qt+-6]+m[Jt+-6],m[Qt+-7]=m[Qt+-7]+m[Jt+-7],m[Jt+-6]=ea*Yt-ta*Xt,m[Jt+-7]=ta*Yt+ea*Xt,Qt-=Et,Jt-=Et}Pt+=4*Gt,Ht-=8}for(var aa=o-1,ra=i[t>>3],ia=aa,sa=aa-16*(t>>5);ia>sa;){var na=m[ia],_a=m[ia+-8];m[ia+-8]=na-_a,m[ia]=na+_a,na=m[ia+-1],_a=m[ia+-9],m[ia+-9]=na-_a,m[ia+-1]=na+_a,na=m[ia+-2],_a=m[ia+-10];var oa=na-_a;m[ia+-2]=na+_a,na=m[ia+-3],_a=m[ia+-11];var ha=na-_a;m[ia+-3]=na+_a,m[ia+-10]=(oa+ha)*ra,m[ia+-11]=(ha-oa)*ra,na=m[ia+-4],_a=m[ia+-12],oa=_a-na,m[ia+-4]=na+_a,na=m[ia+-5],_a=m[ia+-13],ha=na-_a,m[ia+-5]=na+_a,m[ia+-12]=ha,m[ia+-13]=oa,na=m[ia+-6],_a=m[ia+-14],oa=_a-na,m[ia+-6]=na+_a,na=m[ia+-7],_a=m[ia+-15],ha=na-_a,m[ia+-7]=na+_a,m[ia+-14]=(oa+ha)*ra,m[ia+-15]=(oa-ha)*ra;var la=m[ia],ca=m[ia+-4],da=la-ca,ua=la+ca;la=m[ia+-2],ca=m[ia+-6];var ga=la+ca,pa=la-ca;m[ia]=ua+ga,m[ia+-2]=ua-ga;var ma=m[ia+-3]-m[ia+-7];m[ia+-4]=da+ma,m[ia+-6]=da-ma,la=m[ia+-1],ca=m[ia+-5];var fa=la-ca,va=la+ca,ka=m[ia+-3]+m[ia+-7];m[ia+-1]=va+ka,m[ia+-3]=va-ka,m[ia+-5]=fa-pa,m[ia+-7]=fa+pa;var ya=ia-8,ba=m[ya],Ia=m[ya+-4],Sa=ba-Ia,xa=ba+Ia;ba=m[ya+-2],Ia=m[ya+-6];var Ca=ba+Ia,wa=ba-Ia;m[ya]=xa+Ca,m[ya+-2]=xa-Ca;var Ba=m[ya+-3]-m[ya+-7];m[ya+-4]=Sa+Ba,m[ya+-6]=Sa-Ba,ba=m[ya+-1],Ia=m[ya+-5];var Aa=ba-Ia,Ta=ba+Ia,Ma=m[ya+-3]+m[ya+-7];m[ya+-1]=Ta+Ma,m[ya+-3]=Ta-Ma,m[ya+-5]=Aa-wa,m[ya+-7]=Aa+wa,ia-=16}for(var Va=0,Da=h-4,Fa=o-4;Da>=0;){var Ra=_[Va];f[Fa+3]=m[Ra],f[Fa+2]=m[Ra+1],f[Da+3]=m[Ra+2],f[Da+2]=m[Ra+3],Ra=_[Va+1],f[Fa+1]=m[Ra],f[Fa]=m[Ra+1],f[Da+1]=m[Ra+2],f[Da]=m[Ra+3],Da-=4,Fa-=4,Va+=2}for(var Ea=0,Ga=0,Na=o-4;Ga<Na;){var ja=f[Ga]-f[Na+2],za=f[Ga+1]+f[Na+3],Pa=n[Ea+1]*ja+n[Ea]*za,Ha=n[Ea+1]*za-n[Ea]*ja,Za=f[Ga]+f[Na+2],Ka=f[Ga+1]-f[Na+3];f[Ga]=Za+Pa,f[Ga+1]=Ka+Ha,f[Na+2]=Za-Pa,f[Na+3]=Ha-Ka,ja=f[Ga+2]-f[Na],za=f[Ga+3]+f[Na+1],Pa=n[Ea+3]*ja+n[Ea+2]*za,Ha=n[Ea+3]*za-n[Ea+2]*ja,Za=f[Ga+2]+f[Na],Ka=f[Ga+3]-f[Na+1],f[Ga+2]=Za+Pa,f[Ga+3]=Ka+Ha,f[Na]=Za-Pa,f[Na+1]=Ha-Ka,Ea+=4,Ga+=4,Na-=4}for(var Wa=o-8,La=o-8,$a=0,Ua=o-4,Oa=o,Ya=t-4;La>=0;){var Xa=c[La+6]*s[Wa+7]-c[La+7]*s[Wa+6],Qa=-c[La+6]*s[Wa+6]-c[La+7]*s[Wa+7];e[$a]=Xa,e[Ua+3]=-Xa,e[Oa]=Qa,e[Ya+3]=Qa;var Ja=c[La+4]*s[Wa+5]-c[La+5]*s[Wa+4],qa=-c[La+4]*s[Wa+4]-c[La+5]*s[Wa+5];e[$a+1]=Ja,e[Ua+2]=-Ja,e[Oa+1]=qa,e[Ya+2]=qa,Xa=c[La+2]*s[Wa+3]-c[La+3]*s[Wa+2],Qa=-c[La+2]*s[Wa+2]-c[La+3]*s[Wa+3],e[$a+2]=Xa,e[Ua+1]=-Xa,e[Oa+2]=Qa,e[Ya+1]=Qa,Ja=c[La]*s[Wa+1]-c[La+1]*s[Wa],qa=-c[La]*s[Wa]-c[La+1]*s[Wa+1],e[$a+3]=Ja,e[Ua]=-Ja,e[Oa+3]=qa,e[Ya]=qa,Wa-=8,La-=8,$a+=4,Oa+=4,Ua-=4,Ya-=4}},decodePacket:function(){var e=this.decodeInitial();return null==e?null:this.decodePacketRest(e)},decodeInitial:function(){for(this.channelBufferStart=this.channelBufferEnd=0;;){if(!this.decodeState.maybeStartPacket())return null;var e,t=this.decodeState;if(t.validBits<0)e=0;else if(t.validBits<1){for(0==t.validBits&&(t.acc=0);;){if(0==t.bytesInSeg&&(t.lastSeg||0==t.next())){t.validBits=-1;break}t.bytesInSeg--;var a=t.acc;if(t.inputPosition+=1,t.acc=a+(t.input.readByte()<<t.validBits),t.validBits+=8,!(t.validBits<1))break}if(t.validBits<0)e=0;else{var r=1&t.acc;t.acc=t.acc>>>1,t.validBits-=1,e=r}}else{var i=1&t.acc;t.acc=t.acc>>>1,t.validBits-=1,e=i}if(0==e)break;for(;;){var s,n=this.decodeState;if(0!=n.bytesInSeg||!n.lastSeg&&0!=n.next()?(n.bytesInSeg--,n.inputPosition+=1,s=n.input.readByte()):s=-1,n.validBits=0,-1==s)break}}var _,o=this.decodeState,h=this.header.modes.length-1,l=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],c=h<16384?h<16?l[h]:h<512?5+l[h>>5]:10+l[h>>10]:h<16777216?h<524288?15+l[h>>15]:20+l[h>>20]:h<536870912?25+l[h>>25]:h<-2147483648?30+l[h>>30]:0;if(o.validBits<0)_=0;else if(o.validBits<c)if(c>24)_=o.readBits(24)+(o.readBits(c-24)<<24);else{for(0==o.validBits&&(o.acc=0);;){if(0==o.bytesInSeg&&(o.lastSeg||0==o.next())){o.validBits=-1;break}o.bytesInSeg--;var d=o.acc;if(o.inputPosition+=1,o.acc=d+(o.input.readByte()<<o.validBits),o.validBits+=8,!(o.validBits<c))break}if(o.validBits<0)_=0;else{var u=o.acc&(1<<c)-1;o.acc=o.acc>>>c,o.validBits-=c,_=u}}else{var g=o.acc&(1<<c)-1;o.acc=o.acc>>>c,o.validBits-=c,_=g}if(_==-1||_>=this.header.modes.length)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:519,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"decodeInitial"}));var p,m,f,v=this.header.modes[_];if(v.blockflag){p=this.header.blocksize1;var k=this.decodeState;if(k.validBits<0)m=0;else if(k.validBits<1){for(0==k.validBits&&(k.acc=0);;){if(0==k.bytesInSeg&&(k.lastSeg||0==k.next())){k.validBits=-1;break}k.bytesInSeg--;var y=k.acc;if(k.inputPosition+=1,k.acc=y+(k.input.readByte()<<k.validBits),k.validBits+=8,!(k.validBits<1))break}if(k.validBits<0)m=0;else{var b=1&k.acc;k.acc=k.acc>>>1,k.validBits-=1,m=b}}else{var I=1&k.acc;k.acc=k.acc>>>1,k.validBits-=1,m=I}var S=this.decodeState;if(S.validBits<0)f=0;else if(S.validBits<1){for(0==S.validBits&&(S.acc=0);;){if(0==S.bytesInSeg&&(S.lastSeg||0==S.next())){S.validBits=-1;break}S.bytesInSeg--;var x=S.acc;if(S.inputPosition+=1,S.acc=x+(S.input.readByte()<<S.validBits),S.validBits+=8,!(S.validBits<1))break}if(S.validBits<0)f=0;else{var C=1&S.acc;S.acc=S.acc>>>1,S.validBits-=1,f=C}}else{var w=1&S.acc;S.acc=S.acc>>>1,S.validBits-=1,f=w}}else f=0,m=0,p=this.header.blocksize0;var B=p>>1;return{mode:_,left:v.blockflag&&0==m?{start:p-this.header.blocksize0>>2,end:p+this.header.blocksize0>>2}:{start:0,end:B},right:v.blockflag&&0==f?{start:3*p-this.header.blocksize0>>2,end:3*p+this.header.blocksize0>>2}:{start:B,end:p}}},decodePacketRest:function(e){for(var t=this.header.modes[e.mode],a=new Array(256),r=new Array(256),i=t.blockflag?this.header.blocksize1:this.header.blocksize0,s=this.header.mapping[t.mapping],n=i>>1,_=[256,128,86,64],o=this.header.codebooks,h=0,l=this.header.channel;h<l;){var c=h++,d=s.chan[c].mux;a[c]=!1;var u=this.header.floorConfig[s.submapFloor[d]];if(0==u.type)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{fileName:"VorbisDecoder.hx",lineNumber:581,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"decodePacketRest"}));var g,p=u.floor1,m=this.decodeState;if(m.validBits<0)g=0;else if(m.validBits<1){for(0==m.validBits&&(m.acc=0);;){if(0==m.bytesInSeg&&(m.lastSeg||0==m.next())){m.validBits=-1;break}m.bytesInSeg--;var f=m.acc;if(m.inputPosition+=1,m.acc=f+(m.input.readByte()<<m.validBits),m.validBits+=8,!(m.validBits<1))break}if(m.validBits<0)g=0;else{var v=1&m.acc;m.acc=m.acc>>>1,m.validBits-=1,g=v}}else{var k=1&m.acc;m.acc=m.acc>>>1,m.validBits-=1,g=k}if(0!=g){var y=[],b=new Array(256),I=_[p.floor1Multiplier-1],S=2;y=this.finalY[c];var x,C=this.decodeState,w=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],B=(I<16384?I<16?w[I]:I<512?5+w[I>>5]:10+w[I>>10]:I<16777216?I<524288?15+w[I>>15]:20+w[I>>20]:I<536870912?25+w[I>>25]:I<-2147483648?30+w[I>>30]:0)-1;if(C.validBits<0)x=0;else if(C.validBits<B)if(B>24)x=C.readBits(24)+(C.readBits(B-24)<<24);else{
for(0==C.validBits&&(C.acc=0);;){if(0==C.bytesInSeg&&(C.lastSeg||0==C.next())){C.validBits=-1;break}C.bytesInSeg--;var A=C.acc;if(C.inputPosition+=1,C.acc=A+(C.input.readByte()<<C.validBits),C.validBits+=8,!(C.validBits<B))break}if(C.validBits<0)x=0;else{var T=C.acc&(1<<B)-1;C.acc=C.acc>>>B,C.validBits-=B,x=T}}else{var M=C.acc&(1<<B)-1;C.acc=C.acc>>>B,C.validBits-=B,x=M}y[0]=x;var V,D=this.decodeState,F=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],R=(I<16384?I<16?F[I]:I<512?5+F[I>>5]:10+F[I>>10]:I<16777216?I<524288?15+F[I>>15]:20+F[I>>20]:I<536870912?25+F[I>>25]:I<-2147483648?30+F[I>>30]:0)-1;if(D.validBits<0)V=0;else if(D.validBits<R)if(R>24)V=D.readBits(24)+(D.readBits(R-24)<<24);else{for(0==D.validBits&&(D.acc=0);;){if(0==D.bytesInSeg&&(D.lastSeg||0==D.next())){D.validBits=-1;break}D.bytesInSeg--;var E=D.acc;if(D.inputPosition+=1,D.acc=E+(D.input.readByte()<<D.validBits),D.validBits+=8,!(D.validBits<R))break}if(D.validBits<0)V=0;else{var G=D.acc&(1<<R)-1;D.acc=D.acc>>>R,D.validBits-=R,V=G}}else{var N=D.acc&(1<<R)-1;D.acc=D.acc>>>R,D.validBits-=R,V=N}y[1]=V;for(var j=0,z=p.partitions;j<z;){var P=p.partitionClassList[j++],H=p.classDimensions[P],Z=p.classSubclasses[P],K=(1<<Z)-1,W=0;if(0!=Z){var L=o[p.classMasterbooks[P]],$=this.decodeState;$.validBits<10&&$.prepHuffman();var U,O=L.fastHuffman[1023&$.acc];if(O>=0){var Y=L.codewordLengths[O];$.acc=$.acc>>>Y,$.validBits-=Y,$.validBits<0?($.validBits=0,U=-1):U=O}else U=$.decodeScalarRaw(L);L.sparse&&(U=L.sortedValues[U]),W=U}for(var X=p.subclassBooks[P],Q=0,J=H;Q<J;){var q=(Q++,X[W&K]);W>>=Z;var ee,te=S++;if(q>=0){var ae=this.decodeState,re=o[q];ae.validBits<10&&ae.prepHuffman();var ie,se=re.fastHuffman[1023&ae.acc];if(se>=0){var ne=re.codewordLengths[se];ae.acc=ae.acc>>>ne,ae.validBits-=ne,ae.validBits<0?(ae.validBits=0,ie=-1):ie=se}else ie=ae.decodeScalarRaw(re);re.sparse&&(ie=re.sortedValues[ie]),ee=ie}else ee=0;y[te]=ee}}if(this.decodeState.validBits==-1){a[c]=!0;continue}b[0]=b[1]=!0;for(var _e=p.neighbors,oe=p.xlist,he=2,le=p.values;he<le;){var ce=he++,de=_e[ce][0],ue=_e[ce][1],ge=oe[de],pe=y[de],me=y[ue]-pe,fe=oe[ue]-ge,ve=Math.abs(me)*(oe[ce]-ge)/fe|0,ke=me<0?pe-ve:pe+ve,ye=y[ce],be=I-ke,Ie=be<ke?2*be:2*ke;0!=ye?(b[de]=b[ue]=!0,b[ce]=!0,ye>=Ie?be>ke?y[ce]=ye-ke+ke:y[ce]=ke-ye+be-1:0!=(1&ye)?y[ce]=ke-(ye+1>>1):y[ce]=ke+(ye>>1)):(b[ce]=!1,y[ce]=ke)}for(var Se=0,xe=p.values;Se<xe;){var Ce=Se++;b[Ce]||(y[Ce]=-1)}}else a[c]=!0}for(var we=0,Be=this.header.channel;we<Be;){var Ae=we++;r[Ae]=a[Ae]}for(var Te=0,Me=s.couplingSteps;Te<Me;){var Ve=Te++;a[s.chan[Ve].magnitude]&&a[s.chan[Ve].angle]||(a[s.chan[Ve].magnitude]=a[s.chan[Ve].angle]=!1)}for(var De=0,Fe=s.submaps;De<Fe;){for(var Re=De++,Ee=this.header.channel,Ge=new Array(Ee),Ne=new Array(256),je=0,ze=0,Pe=this.header.channel;ze<Pe;){var He=ze++;s.chan[He].mux==Re&&(a[He]?(Ne[je]=!0,Ge[je]=null):(Ne[je]=!1,Ge[je]=this.channelBuffers[He]),++je)}this.header.residueConfig[s.submapResidue[Re]].decode(this.decodeState,this.header,Ge,je,n,Ne,this.channelBuffers)}for(var Ze=s.couplingSteps,Ke=i>>1;--Ze>=0;)for(var We=this.channelBuffers[s.chan[Ze].magnitude],Le=this.channelBuffers[s.chan[Ze].angle],$e=0,Ue=Ke;$e<Ue;){var Oe,Ye,Xe=$e++;We[Xe]>0?Le[Xe]>0?(Ye=We[Xe],Oe=We[Xe]-Le[Xe]):(Oe=We[Xe],Ye=We[Xe]+Le[Xe]):Le[Xe]>0?(Ye=We[Xe],Oe=We[Xe]+Le[Xe]):(Oe=We[Xe],Ye=We[Xe]-Le[Xe]),We[Xe]=Ye,Le[Xe]=Oe}for(var Qe=0,Je=this.header.channel;Qe<Je;){var qe=Qe++;if(r[qe])for(var et=0,tt=Ke;et<tt;)this.channelBuffers[qe][et++]=0;else s.doFloor(this.header.floorConfig,qe,i,this.channelBuffers[qe],this.finalY[qe],null)}for(var at=0,rt=this.header.channel;at<rt;)this.inverseMdct(this.channelBuffers[at++],i,t.blockflag);for(var it=this.decodeState;0!=it.bytesInSeg||!it.lastSeg&&0!=it.next();)it.bytesInSeg--,it.inputPosition+=1,it.input.readByte();return this.decodeState.finishDecodePacket(this.previousLength,i,e)},__class__:kha_audio2_ogg_vorbis_VorbisDecoder};var kha_audio2_ogg_vorbis_VorbisTools=function(){};$hxClasses["kha.audio2.ogg.vorbis.VorbisTools"]=kha_audio2_ogg_vorbis_VorbisTools,kha_audio2_ogg_vorbis_VorbisTools.__name__=["kha","audio2","ogg","vorbis","VorbisTools"],kha_audio2_ogg_vorbis_VorbisTools.assert=function(e,t){},kha_audio2_ogg_vorbis_VorbisTools.neighbors=function(e,t){for(var a=-1,r=65536,i=0,s=0,n=0;n<t;){var _=n++;e[_]>a&&e[_]<e[t]&&(i=_,a=e[_]),e[_]<r&&e[_]>e[t]&&(s=_,r=e[_])}return{low:i,high:s}},kha_audio2_ogg_vorbis_VorbisTools.floatUnpack=function(e){var t=_$UInt_UInt_$Impl_$.toFloat(2097151&e),a=e&-2147483648,r=(2145386496&e)>>>21;return(0!=a?-t:t)*Math.pow(2,r-788)},kha_audio2_ogg_vorbis_VorbisTools.bitReverse=function(e){return e=(e&-1431655766)>>>1|(1431655765&e)<<1,e=(e&-858993460)>>>2|(858993459&e)<<2,e=(e&-252645136)>>>4|(252645135&e)<<4,e=(e&-16711936)>>>8|(16711935&e)<<8,e>>>16|e<<16},kha_audio2_ogg_vorbis_VorbisTools.pointCompare=function(e,t){return e.x<t.x?-1:e.x>t.x?1:0},kha_audio2_ogg_vorbis_VorbisTools.uintAsc=function(e,t){return _$UInt_UInt_$Impl_$.gt(t,e)?-1:e==t?0:1},kha_audio2_ogg_vorbis_VorbisTools.lookup1Values=function(e,t){var a=0|Math.exp(Math.log(e)/t);return(0|Math.pow(a+1,t))<=e&&++a,Math.pow(a+1,t),Math.pow(a,t),a},kha_audio2_ogg_vorbis_VorbisTools.computeWindow=function(e,t){for(var a=e>>1,r=0;r<a;){var i=r++;t[i]=Math.sin(1.5707963267948966*kha_audio2_ogg_vorbis_VorbisTools.square(Math.sin((i+.5)/a*.5*3.141592653589793)))}},kha_audio2_ogg_vorbis_VorbisTools.square=function(e){return e*e},kha_audio2_ogg_vorbis_VorbisTools.computeBitReverse=function(e,t){for(var a=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],r=(e<16384?e<16?a[e]:e<512?5+a[e>>5]:10+a[e>>10]:e<16777216?e<524288?15+a[e>>15]:20+a[e>>20]:e<536870912?25+a[e>>25]:e<-2147483648?30+a[e>>30]:0)-1,i=e>>3,s=0;s<i;){var n=s++,_=n;_=(_&-1431655766)>>>1|(1431655765&_)<<1,_=(_&-858993460)>>>2|(858993459&_)<<2,_=(_&-252645136)>>>4|(252645135&_)<<4,_=(_&-16711936)>>>8|(16711935&_)<<8,t[n]=(_>>>16|_<<16)>>>32-r+3<<2}},kha_audio2_ogg_vorbis_VorbisTools.computeTwiddleFactors=function(e,t,a,r){for(var i=e>>2,s=e>>3,n=0,_=0;_<i;){var o=_++;t[n]=Math.cos(4*o*3.141592653589793/e),t[n+1]=-Math.sin(4*o*3.141592653589793/e),a[n]=.5*Math.cos(3.141592653589793*(n+1)/e/2),a[n+1]=.5*Math.sin(3.141592653589793*(n+1)/e/2),n+=2}for(var h=0,l=0;l<s;)++l,r[h]=Math.cos(2*(h+1)*3.141592653589793/e),r[h+1]=-Math.sin(2*(h+1)*3.141592653589793/e),h+=2},kha_audio2_ogg_vorbis_VorbisTools.drawLine=function(e,t,a,r,i,s){if(null==kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable){kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable=new Array(32);for(var n=0;n<32;){var _=n++;kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable[_]=new Array(64);for(var o=1;o<64;){var h=o++;kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable[_][h]=_/h|0}}}var l,c,d=i-a,u=r-t,g=d<0?-d:d,p=t,m=a,f=0;u<64&&g<32?d<0?(l=-kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable[g][u],c=l-1):(l=kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable[g][u],c=l+1):(l=d/u|0,c=d<0?l-1:l+1),g-=(l<0?-l:l)*u,r>s&&(r=s);var v=p;e[v]=e[v]*kha_audio2_ogg_vorbis_VorbisTools.INVERSE_DB_TABLE[m];for(var k=p+1,y=r;k<y;){var b=k++;f+=g,f>=u?(f-=u,m+=c):m+=l;var I=b;e[I]=e[I]*kha_audio2_ogg_vorbis_VorbisTools.INVERSE_DB_TABLE[m]}},kha_audio2_ogg_vorbis_VorbisTools.predictPoint=function(e,t,a,r,i){var s=i-r,n=Math.abs(s)*(e-t)/(a-t)|0;return s<0?r-n:r+n},kha_audio2_ogg_vorbis_VorbisTools.emptyFloatVector=function(e){return new Array(e)},kha_audio2_ogg_vorbis_VorbisTools.copyVector=function(e){for(var t=e.length,a=new Array(t),r=0,i=e.length;r<i;){var s=r++;a[s]=e[s]}return a};var kha_audio2_ogg_vorbis_data_Codebook=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Codebook"]=kha_audio2_ogg_vorbis_data_Codebook,kha_audio2_ogg_vorbis_data_Codebook.__name__=["kha","audio2","ogg","vorbis","data","Codebook"],kha_audio2_ogg_vorbis_data_Codebook.read=function(e){var t,a,r,i=new kha_audio2_ogg_vorbis_data_Codebook;if(e.validBits<0)r=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var s=e.acc;if(e.inputPosition+=1,e.acc=s+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)r=0;else{var n=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,r=n}}else{var _=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,r=_}if(66==r){var o;if(e.validBits<0)o=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var h=e.acc;if(e.inputPosition+=1,e.acc=h+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)o=0;else{var l=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,o=l}}else{var c=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,o=c}a=67!=o}else a=!0;if(a)t=!0;else{var d;if(e.validBits<0)d=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var u=e.acc;if(e.inputPosition+=1,e.acc=u+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)d=0;else{var g=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,d=g}}else{var p=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,d=p}t=86!=d}if(t)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Codebook.hx",lineNumber:40,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}));var m;if(e.validBits<0)m=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var f=e.acc;if(e.inputPosition+=1,e.acc=f+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)m=0;else{var v=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,m=v}}else{var k=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,m=k}var y;if(e.validBits<0)y=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var b=e.acc;if(e.inputPosition+=1,e.acc=b+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)y=0;else{var I=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,y=I}}else{var S=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,y=S}i.dimensions=(y<<8)+m;var x;if(e.validBits<0)x=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var C=e.acc;if(e.inputPosition+=1,e.acc=C+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)x=0;else{var w=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,x=w}}else{var B=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,x=B}var A;if(e.validBits<0)A=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var T=e.acc;if(e.inputPosition+=1,e.acc=T+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)A=0;else{var M=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,A=M}}else{var V=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,A=V}var D;if(e.validBits<0)D=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var F=e.acc;if(e.inputPosition+=1,e.acc=F+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)D=0;else{var R=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,D=R}}else{var E=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,D=E}i.entries=(D<<16)+(A<<8)+x;var G;if(e.validBits<0)G=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var N=e.acc;if(e.inputPosition+=1,e.acc=N+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)G=0;else{var j=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,G=j}}else{var z=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,G=z}var P;if(0!=G)P=!1;else{var H;if(e.validBits<0)H=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var Z=e.acc;if(e.inputPosition+=1,e.acc=Z+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)H=0;else{var K=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,H=K}}else{var W=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,H=W}P=0!=H}i.sparse=P;var L=i.entries,$=new Array(L);i.sparse||(i.codewordLengths=$);var U=0;if(0!=G){var O,Y=0;if(e.validBits<0)O=0;else if(e.validBits<5){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var X=e.acc;if(e.inputPosition+=1,e.acc=X+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<5))break}if(e.validBits<0)O=0;else{var Q=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,O=Q}}else{var J=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,O=J}for(var q=O+1;Y<i.entries;){var ee,te=i.entries-Y,ae=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],re=te<16384?te<16?ae[te]:te<512?5+ae[te>>5]:10+ae[te>>10]:te<16777216?te<524288?15+ae[te>>15]:20+ae[te>>20]:te<536870912?25+ae[te>>25]:te<-2147483648?30+ae[te>>30]:0;if(e.validBits<0)ee=0;else if(e.validBits<re)if(re>24)ee=e.readBits(24)+(e.readBits(re-24)<<24);else{for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var ie=e.acc;if(e.inputPosition+=1,e.acc=ie+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<re))break}if(e.validBits<0)ee=0;else{var se=e.acc&(1<<re)-1;e.acc=e.acc>>>re,e.validBits-=re,ee=se}}else{var ne=e.acc&(1<<re)-1;e.acc=e.acc>>>re,e.validBits-=re,ee=ne}if(Y+ee>i.entries)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"codebook entrys",{fileName:"Codebook.hx",lineNumber:67,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}));for(var _e=0,oe=ee;_e<oe;)$[Y+_e++]=q;Y+=ee,++q}}else for(var he=0,le=i.entries;he<le;){var ce,de=he++;if(i.sparse)if(e.validBits<0)ce=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var ue=e.acc;if(e.inputPosition+=1,e.acc=ue+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)ce=0;else{var ge=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,ce=ge}}else{var pe=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,ce=pe}else ce=1;if(0!=ce){var me;if(e.validBits<0)me=0;else if(e.validBits<5){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var fe=e.acc;if(e.inputPosition+=1,e.acc=fe+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<5))break}if(e.validBits<0)me=0;else{var ve=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,me=ve}}else{var ke=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,me=ke}$[de]=me+1,++U}else $[de]=255}i.sparse&&U>=i.entries>>2&&(i.codewordLengths=$,i.sparse=!1);var ye;if(i.sparse)ye=U;else{for(var be=0,Ie=0,Se=i.entries;Ie<Se;){var xe=$[Ie++];xe>10&&255!=xe&&++be}ye=be}i.sortedEntries=ye;var Ce=null;if(i.sparse){if(0!=i.sortedEntries){var we=i.sortedEntries;i.codewordLengths=new Array(we);var Be=i.entries;i.codewords=new Array(Be);var Ae=i.entries;Ce=new Array(Ae)}i.entries+64*i.sortedEntries}else{var Te=i.entries;i.codewords=new Array(Te)}if(!i.computeCodewords($,i.entries,Ce))throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"compute codewords",{fileName:"Codebook.hx",lineNumber:120,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}));if(0!=i.sortedEntries){i.sortedCodewords=[];var Me=i.sortedEntries;i.sortedValues=new Array(Me),i.computeSortedHuffman($,Ce)}i.sparse&&(Ce=null,i.codewords=null,$=null),i.computeAcceleratedHuffman();var Ve;if(e.validBits<0)Ve=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var De=e.acc;if(e.inputPosition+=1,e.acc=De+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)Ve=0;else{var Fe=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,Ve=Fe}}else{var Re=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,Ve=Re}if(i.lookupType=Ve,i.lookupType>2)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"codebook lookup type",{fileName:"Codebook.hx",lineNumber:143,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}));if(i.lookupType>0){var Ee;if(e.validBits<0)Ee=0;else if(e.validBits<32)Ee=e.readBits(24)+(e.readBits(8)<<24);else{var Ge=e.acc&-1;e.acc=e.acc>>>32,e.validBits-=32,Ee=Ge}var Ne=_$UInt_UInt_$Impl_$.toFloat(2097151&Ee),je=Ee&-2147483648,ze=(2145386496&Ee)>>>21;i.minimumValue=(0!=je?-Ne:Ne)*Math.pow(2,ze-788);var Pe;if(e.validBits<0)Pe=0;else if(e.validBits<32)Pe=e.readBits(24)+(e.readBits(8)<<24);else{var He=e.acc&-1;e.acc=e.acc>>>32,e.validBits-=32,Pe=He}var Ze=_$UInt_UInt_$Impl_$.toFloat(2097151&Pe),Ke=Pe&-2147483648,We=(2145386496&Pe)>>>21;i.deltaValue=(0!=Ke?-Ze:Ze)*Math.pow(2,We-788);var Le;if(e.validBits<0)Le=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var $e=e.acc;if(e.inputPosition+=1,e.acc=$e+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)Le=0;else{var Ue=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,Le=Ue}}else{var Oe=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,Le=Oe}i.valueBits=Le+1;var Ye;if(e.validBits<0)Ye=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var Xe=e.acc;if(e.inputPosition+=1,e.acc=Xe+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)Ye=0;else{var Qe=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,Ye=Qe}}else{var Je=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,Ye=Je}i.sequenceP=0!=Ye,1==i.lookupType?i.lookupValues=kha_audio2_ogg_vorbis_VorbisTools.lookup1Values(i.entries,i.dimensions):i.lookupValues=i.entries*i.dimensions;for(var qe=i.lookupValues,et=new Array(qe),tt=0,at=i.lookupValues;tt<at;){var rt,it=tt++,st=i.valueBits;if(e.validBits<0)rt=0;else if(e.validBits<st)if(st>24)rt=e.readBits(24)+(e.readBits(st-24)<<24);else{for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var nt=e.acc;if(e.inputPosition+=1,e.acc=nt+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<st))break}if(e.validBits<0)rt=0;else{var _t=e.acc&(1<<st)-1;e.acc=e.acc>>>st,e.validBits-=st,rt=_t}}else{var ot=e.acc&(1<<st)-1;e.acc=e.acc>>>st,e.validBits-=st,rt=ot}if(rt==-1)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"fail lookup",{fileName:"Codebook.hx",lineNumber:161,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}));et[it]=rt}var ht=i.lookupValues;i.multiplicands=new Array(ht);for(var lt=0,ct=i.lookupValues;lt<ct;){var dt=lt++;i.multiplicands[dt]=et[dt]*i.deltaValue+i.minimumValue}if(2==i.lookupType&&i.sequenceP){for(var ut=1,gt=i.lookupValues;ut<gt;){var pt=ut++;i.multiplicands[pt]=i.multiplicands[pt-1]}i.sequenceP=!1}}return i},kha_audio2_ogg_vorbis_data_Codebook.prototype={addEntry:function(e,t,a,r,i){this.sparse?(this.codewords[a]=e,this.codewordLengths[a]=r,i[a]=t):this.codewords[t]=e},includeInSort:function(e){return!!this.sparse||255!=e&&e>10},computeCodewords:function(e,t,a){for(var r=new Array(32),i=0;i<32;)r[i++]=0;for(var s=0;s<t&&!(e[s]<255);)++s;if(s==t){0==this.sortedEntries;return!0}var n=0,_=n++;this.sparse?(this.codewords[_]=0,this.codewordLengths[_]=e[s],a[_]=s):this.codewords[s]=0;for(var o=0;++o<=e[s];)r[o]=1<<32-o;for(o=s;++o<t;){var h=e[o];if(255!=h){for(;h>0&&0==r[h];)--h;if(0==h)return!1;var l=r[h];r[h]=0;var c=l;c=(c&-1431655766)>>>1|(1431655765&c)<<1,c=(c&-858993460)>>>2|(858993459&c)<<2,c=(c&-252645136)>>>4|(252645135&c)<<4,c=(c&-16711936)>>>8|(16711935&c)<<8;var d=c>>>16|c<<16,u=n++;if(this.sparse?(this.codewords[u]=d,this.codewordLengths[u]=e[o],a[u]=o):this.codewords[o]=d,h!=e[o])for(var g=e[o];g>h;)r[g]=l+(1<<32-g),--g}}return!0},computeSortedHuffman:function(e,t){if(this.sparse)for(var a=0,r=this.sortedEntries;a<r;){var i=a++,s=this.codewords[i];s=(s&-1431655766)>>>1|(1431655765&s)<<1,s=(s&-858993460)>>>2|(858993459&s)<<2,s=(s&-252645136)>>>4|(252645135&s)<<4,s=(s&-16711936)>>>8|(16711935&s)<<8,this.sortedCodewords[i]=s>>>16|s<<16}else for(var n=0,_=0,o=this.entries;_<o;){var h=_++,l=e[h];if(!!this.sparse||255!=l&&l>10){var c=n++,d=this.codewords[h];d=(d&-1431655766)>>>1|(1431655765&d)<<1,d=(d&-858993460)>>>2|(858993459&d)<<2,d=(d&-252645136)>>>4|(252645135&d)<<4,d=(d&-16711936)>>>8|(16711935&d)<<8,this.sortedCodewords[c]=d>>>16|d<<16}}this.sortedCodewords[this.sortedEntries]=-1,this.sortedCodewords.sort(kha_audio2_ogg_vorbis_VorbisTools.uintAsc);for(var u=0,g=this.sparse?this.sortedEntries:this.entries;u<g;){var p=u++,m=this.sparse?e[t[p]]:e[p];if(!!this.sparse||255!=m&&m>10){var f=this.codewords[p];f=(f&-1431655766)>>>1|(1431655765&f)<<1,f=(f&-858993460)>>>2|(858993459&f)<<2,f=(f&-252645136)>>>4|(252645135&f)<<4,f=(f&-16711936)>>>8|(16711935&f)<<8;for(var v=f>>>16|f<<16,k=0,y=this.sortedEntries;y>1;){var b=k+(y>>1);_$UInt_UInt_$Impl_$.gte(v,this.sortedCodewords[b])?(k=b,y-=y>>1):y>>=1}this.sparse?(this.sortedValues[k]=t[p],this.codewordLengths[k]=m):this.sortedValues[k]=p}}},computeAcceleratedHuffman:function(){this.fastHuffman=new Array(1024),this.fastHuffman[0]=-1;for(var e=0,t=1024;e<t;)this.fastHuffman[e++]=-1;for(var a=0,r=this.sparse?this.sortedEntries:this.entries;a<r;){var i=a++;if(this.codewordLengths[i]<=10){var s;if(this.sparse){var n=this.sortedCodewords[i];n=(n&-1431655766)>>>1|(1431655765&n)<<1,n=(n&-858993460)>>>2|(858993459&n)<<2,n=(n&-252645136)>>>4|(252645135&n)<<4,n=(n&-16711936)>>>8|(16711935&n)<<8,s=n>>>16|n<<16}else s=this.codewords[i];for(;s<1024;)this.fastHuffman[s]=i,s+=1<<this.codewordLengths[i]}}},codebookDecode:function(e,t,a,r){e.validBits<10&&e.prepHuffman();var i,s=this.fastHuffman[1023&e.acc];if(s>=0){var n=this.codewordLengths[s];e.acc=e.acc>>>n,e.validBits-=n,e.validBits<0?(e.validBits=0,i=-1):i=s}else i=e.decodeScalarRaw(this);this.sparse&&(i=this.sortedValues[i]);var _=i,o=this.lookupValues,h=this.sequenceP,l=this.multiplicands,c=this.minimumValue;if(_<0)return!1;if(r>this.dimensions&&(r=this.dimensions),1==this.lookupType){for(var d=1,u=0,g=0,p=r;g<p;){var m=g++,f=l[_$UInt_UInt_$Impl_$.toFloat(_/d|0)%_$UInt_UInt_$Impl_$.toFloat(o)|0]+u,v=a+m;t[v]=t[v]+f,h&&(u=f+c),d*=o}return!0}if(_*=this.dimensions,h)for(var k=0,y=0,b=r;y<b;){var I=y++,S=l[_+I]+k,x=a+I;t[x]=t[x]+S,k=S+c}else for(var C=0,w=r;C<w;){var B=C++,A=a+B;t[A]=t[A]+l[_+B]}return!0},codebookDecodeStep:function(e,t,a,r,i){e.validBits<10&&e.prepHuffman();var s,n=this.fastHuffman[1023&e.acc];if(n>=0){var _=this.codewordLengths[n];e.acc=e.acc>>>_,e.validBits-=_,e.validBits<0?(e.validBits=0,s=-1):s=n}else s=e.decodeScalarRaw(this);this.sparse&&(s=this.sortedValues[s]);var o=s,h=0;if(o<0)return!1;r>this.dimensions&&(r=this.dimensions);var l=this.lookupValues,c=this.sequenceP,d=this.multiplicands;if(1==this.lookupType){for(var u=1,g=0,p=r;g<p;){var m=g++,f=d[_$UInt_UInt_$Impl_$.toFloat(o/u|0)%_$UInt_UInt_$Impl_$.toFloat(l)|0]+h,v=a+m*i;t[v]=t[v]+f,c&&(h=f),u*=l}return!0}o*=this.dimensions;for(var k=0,y=r;k<y;){var b=k++,I=d[o+b]+h,S=a+b*i;t[S]=t[S]+I,c&&(h=I)}return!0},decodeStart:function(e){e.validBits<10&&e.prepHuffman();var t,a=this.fastHuffman[1023&e.acc];if(a>=0){var r=this.codewordLengths[a];e.acc=e.acc>>>r,e.validBits-=r,e.validBits<0?(e.validBits=0,t=-1):t=a}else t=e.decodeScalarRaw(this);return this.sparse&&(t=this.sortedValues[t]),t},decodeDeinterleaveRepeat:function(e,t,a,r,i,s,n){var _=this.dimensions;if(0==this.lookupType)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{fileName:"Codebook.hx",lineNumber:488,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"decodeDeinterleaveRepeat"}));for(var o=this.multiplicands,h=this.sequenceP,l=this.lookupValues;n>0;){var c=0;e.validBits<10&&e.prepHuffman();var d,u=this.fastHuffman[1023&e.acc];if(u>=0){var g=this.codewordLengths[u];e.acc=e.acc>>>g,e.validBits-=g,e.validBits<0?(e.validBits=0,d=-1):d=u}else d=e.decodeScalarRaw(this);this.sparse&&(d=this.sortedValues[d]);var p=d;if(p<0){if(0==e.bytesInSeg&&e.lastSeg)return null;throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{fileName:"Codebook.hx",lineNumber:503,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"decodeDeinterleaveRepeat"}))}if(r+i*a+_>s*a&&(_=s*a-(i*a-r)),1==this.lookupType){var m=1;if(h)for(var f=0,v=_;f<v;){++f;var k=o[_$UInt_UInt_$Impl_$.toFloat(p/m|0)%_$UInt_UInt_$Impl_$.toFloat(l)|0]+c,y=i;t[r][y]=t[r][y]+k,++r==a&&(r=0,++i),c=k,m*=l}else for(var b=0,I=_;b<I;){++b;var S=i;t[r][S]=t[r][S]+o[_$UInt_UInt_$Impl_$.toFloat(p/m|0)%_$UInt_UInt_$Impl_$.toFloat(l)|0],++r==a&&(r=0,++i),m*=l}}else if(p*=this.dimensions,h)for(var x=0,C=_;x<C;){var w=o[p+x++]+c,B=i;t[r][B]=t[r][B]+w,++r==a&&(r=0,++i),c=w}else for(var A=0,T=_;A<T;){var M=i;t[r][M]=t[r][M]+o[p+A++],++r==a&&(r=0,++i)}n-=_}return{cInter:r,pInter:i}},residueDecode:function(e,t,a,r,i){if(0==i)for(var s=r/this.dimensions|0,n=0;n<s;){var _=n++;if(!this.codebookDecodeStep(e,t,a+_,r-a-_,s))return!1}else for(var o=0;o<r;){if(!this.codebookDecode(e,t,a,r-o))return!1;o+=this.dimensions,a+=this.dimensions}return!0},__class__:kha_audio2_ogg_vorbis_data_Codebook};var kha_audio2_ogg_vorbis_data_Comment=function(){this.data=new haxe_ds_StringMap};$hxClasses["kha.audio2.ogg.vorbis.data.Comment"]=kha_audio2_ogg_vorbis_data_Comment,kha_audio2_ogg_vorbis_data_Comment.__name__=["kha","audio2","ogg","vorbis","data","Comment"],kha_audio2_ogg_vorbis_data_Comment.prototype={get_title:function(){return this.getString("title")},get_loopStart:function(){return Std.parseInt(this.getString("loopstart"))},get_loopLength:function(){return Std.parseInt(this.getString("looplength"))},get_version:function(){return this.getString("version")},get_album:function(){return this.getString("album")},get_organization:function(){return this.getString("organization")},get_tracknumber:function(){return this.getString("tracknumber")},get_performer:function(){return this.getString("performer")},get_copyright:function(){return this.getString("copyright")},get_license:function(){return this.getString("license")},get_artist:function(){return this.getString("artist")},get_description:function(){return this.getString("description")},get_genre:function(){return this.getString("genre")},get_date:function(){return this.getString("date")},get_location:function(){return this.getString("location")},get_contact:function(){return this.getString("contact")},get_isrc:function(){return this.getString("isrc")},get_artists:function(){return this.getArray("artist")},add:function(e,t){e=e.toLowerCase();var a=this.data;if(null!=__map_reserved[e]?a.existsReserved(e):a.h.hasOwnProperty(e)){var r=this.data;(null!=__map_reserved[e]?r.getReserved(e):r.h[e]).push(t)}else{var i=[t],s=this.data;null!=__map_reserved[e]?s.setReserved(e,i):s.h[e]=i}},getString:function(e){e=e.toLowerCase();var t=this.data;if(null!=__map_reserved[e]?t.existsReserved(e):t.h.hasOwnProperty(e)){var a=this.data;return(null!=__map_reserved[e]?a.getReserved(e):a.h[e])[0]}return null},getArray:function(e){e=e.toLowerCase();var t=this.data;if(null!=__map_reserved[e]?t.existsReserved(e):t.h.hasOwnProperty(e)){var a=this.data;return null!=__map_reserved[e]?a.getReserved(e):a.h[e]}return null},__class__:kha_audio2_ogg_vorbis_data_Comment,__properties__:{get_artists:"get_artists",get_isrc:"get_isrc",get_contact:"get_contact",get_location:"get_location",get_date:"get_date",get_genre:"get_genre",get_description:"get_description",get_artist:"get_artist",get_license:"get_license",get_copyright:"get_copyright",get_performer:"get_performer",get_tracknumber:"get_tracknumber",get_organization:"get_organization",get_album:"get_album",get_version:"get_version",get_loopLength:"get_loopLength",get_loopStart:"get_loopStart",get_title:"get_title"}};var kha_audio2_ogg_vorbis_data_Floor=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Floor"]=kha_audio2_ogg_vorbis_data_Floor,kha_audio2_ogg_vorbis_data_Floor.__name__=["kha","audio2","ogg","vorbis","data","Floor"],kha_audio2_ogg_vorbis_data_Floor.read=function(e,t){var a,r=new kha_audio2_ogg_vorbis_data_Floor;if(e.validBits<0)a=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var i=e.acc;if(e.inputPosition+=1,e.acc=i+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)a=0;else{var s=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,a=s}}else{var n=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,a=n}if(r.type=a,r.type>1)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Floor.hx",lineNumber:28,className:"kha.audio2.ogg.vorbis.data.Floor",methodName:"read"}));if(0==r.type){var _,o=r.floor0=new kha_audio2_ogg_vorbis_data_Floor0;if(e.validBits<0)_=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var h=e.acc;if(e.inputPosition+=1,e.acc=h+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)_=0;else{var l=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,_=l}}else{var c=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,_=c}o.order=_;var d;if(e.validBits<0)d=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var u=e.acc;if(e.inputPosition+=1,e.acc=u+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)d=0;else{var g=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,d=g}}else{var p=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,d=p}o.rate=d;var m;if(e.validBits<0)m=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var f=e.acc;if(e.inputPosition+=1,e.acc=f+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)m=0;else{var v=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,m=v}}else{var k=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,m=k}o.barkMapSize=m;var y;if(e.validBits<0)y=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var b=e.acc;if(e.inputPosition+=1,e.acc=b+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)y=0;else{var I=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,y=I}}else{var S=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,y=S}o.amplitudeBits=y;var x;if(e.validBits<0)x=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var C=e.acc;if(e.inputPosition+=1,e.acc=C+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)x=0;else{var w=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,x=w}}else{var B=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,x=B}o.amplitudeOffset=x;var A;if(e.validBits<0)A=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var T=e.acc;if(e.inputPosition+=1,e.acc=T+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)A=0;else{var M=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,A=M}}else{var V=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,A=V}o.numberOfBooks=A+1;
for(var D=0,F=o.numberOfBooks;D<F;){var R,E=D++;if(e.validBits<0)R=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var G=e.acc;if(e.inputPosition+=1,e.acc=G+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)R=0;else{var N=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,R=N}}else{var j=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,R=j}o.bookList[E]=R}throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.FEATURE_NOT_SUPPORTED,null,{fileName:"Floor.hx",lineNumber:41,className:"kha.audio2.ogg.vorbis.data.Floor",methodName:"read"}))}var z,P=[],H=r.floor1=new kha_audio2_ogg_vorbis_data_Floor1,Z=-1;if(e.validBits<0)z=0;else if(e.validBits<5){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var K=e.acc;if(e.inputPosition+=1,e.acc=K+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<5))break}if(e.validBits<0)z=0;else{var W=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,z=W}}else{var L=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,z=L}H.partitions=z;var $=H.partitions;H.partitionClassList=new Array($);for(var U=0,O=H.partitions;U<O;){var Y,X=U++;if(e.validBits<0)Y=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var Q=e.acc;if(e.inputPosition+=1,e.acc=Q+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)Y=0;else{var J=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,Y=J}}else{var q=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,Y=q}H.partitionClassList[X]=Y,H.partitionClassList[X]>Z&&(Z=H.partitionClassList[X])}H.classDimensions=new Array(Z+1),H.classMasterbooks=new Array(Z+1),H.classSubclasses=new Array(Z+1),H.subclassBooks=new Array(Z+1);for(var ee=0,te=Z+1;ee<te;){var ae,re=ee++;if(e.validBits<0)ae=0;else if(e.validBits<3){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var ie=e.acc;if(e.inputPosition+=1,e.acc=ie+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<3))break}if(e.validBits<0)ae=0;else{var se=7&e.acc;e.acc=e.acc>>>3,e.validBits-=3,ae=se}}else{var ne=7&e.acc;e.acc=e.acc>>>3,e.validBits-=3,ae=ne}H.classDimensions[re]=ae+1;var _e;if(e.validBits<0)_e=0;else if(e.validBits<2){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var oe=e.acc;if(e.inputPosition+=1,e.acc=oe+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<2))break}if(e.validBits<0)_e=0;else{var he=3&e.acc;e.acc=e.acc>>>2,e.validBits-=2,_e=he}}else{var le=3&e.acc;e.acc=e.acc>>>2,e.validBits-=2,_e=le}if(H.classSubclasses[re]=_e,0!=H.classSubclasses[re]){var ce;if(e.validBits<0)ce=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var de=e.acc;if(e.inputPosition+=1,e.acc=de+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)ce=0;else{var ue=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,ce=ue}}else{var ge=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,ce=ge}if(H.classMasterbooks[re]=ce,H.classMasterbooks[re]>=t.length)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Floor.hx",lineNumber:64,className:"kha.audio2.ogg.vorbis.data.Floor",methodName:"read"}))}var pe=1<<H.classSubclasses[re];H.subclassBooks[re]=new Array(pe);for(var me=0,fe=pe;me<fe;){var ve,ke=me++;if(e.validBits<0)ve=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var ye=e.acc;if(e.inputPosition+=1,e.acc=ye+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)ve=0;else{var be=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,ve=be}}else{var Ie=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,ve=Ie}if(H.subclassBooks[re][ke]=ve-1,H.subclassBooks[re][ke]>=t.length)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Floor.hx",lineNumber:73,className:"kha.audio2.ogg.vorbis.data.Floor",methodName:"read"}))}}var Se;if(e.validBits<0)Se=0;else if(e.validBits<2){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var xe=e.acc;if(e.inputPosition+=1,e.acc=xe+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<2))break}if(e.validBits<0)Se=0;else{var Ce=3&e.acc;e.acc=e.acc>>>2,e.validBits-=2,Se=Ce}}else{var we=3&e.acc;e.acc=e.acc>>>2,e.validBits-=2,Se=we}H.floor1Multiplier=Se+1;var Be;if(e.validBits<0)Be=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var Ae=e.acc;if(e.inputPosition+=1,e.acc=Ae+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)Be=0;else{var Te=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,Be=Te}}else{var Me=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,Be=Me}H.rangebits=Be,H.xlist=new Array(250),H.xlist[0]=0,H.xlist[1]=1<<H.rangebits,H.values=2;for(var Ve=0,De=H.partitions;Ve<De;)for(var Fe=0,Re=H.classDimensions[H.partitionClassList[Ve++]];Fe<Re;){var Ee,Ge=(Fe++,H.values),Ne=H.rangebits;if(e.validBits<0)Ee=0;else if(e.validBits<Ne)if(Ne>24)Ee=e.readBits(24)+(e.readBits(Ne-24)<<24);else{for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var je=e.acc;if(e.inputPosition+=1,e.acc=je+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<Ne))break}if(e.validBits<0)Ee=0;else{var ze=e.acc&(1<<Ne)-1;e.acc=e.acc>>>Ne,e.validBits-=Ne,Ee=ze}}else{var Pe=e.acc&(1<<Ne)-1;e.acc=e.acc>>>Ne,e.validBits-=Ne,Ee=Pe}H.xlist[Ge]=Ee,H.values++}for(var He=0,Ze=H.values;He<Ze;){var Ke=He++;P.push(new kha_audio2_ogg_vorbis_data_IntPoint),P[Ke].x=H.xlist[Ke],P[Ke].y=Ke}P.sort(kha_audio2_ogg_vorbis_VorbisTools.pointCompare);var We=H.values;H.sortedOrder=new Array(We);for(var Le=0,$e=H.values;Le<$e;){var Ue=Le++;H.sortedOrder[Ue]=P[Ue].y}var Oe=H.values;H.neighbors=new Array(Oe);for(var Ye=2,Xe=H.values;Ye<Xe;){for(var Qe=Ye++,Je=H.xlist,qe=-1,et=65536,tt=0,at=0,rt=0,it=Qe;rt<it;){var st=rt++;Je[st]>qe&&Je[st]<Je[Qe]&&(tt=st,qe=Je[st]),Je[st]<et&&Je[st]>Je[Qe]&&(at=st,et=Je[st])}var nt=tt,_t=at,ot=H.values;H.neighbors[Qe]=new Array(ot),H.neighbors[Qe][0]=nt,H.neighbors[Qe][1]=_t}return r},kha_audio2_ogg_vorbis_data_Floor.prototype={__class__:kha_audio2_ogg_vorbis_data_Floor};var kha_audio2_ogg_vorbis_data_Floor0=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Floor0"]=kha_audio2_ogg_vorbis_data_Floor0,kha_audio2_ogg_vorbis_data_Floor0.__name__=["kha","audio2","ogg","vorbis","data","Floor0"],kha_audio2_ogg_vorbis_data_Floor0.prototype={__class__:kha_audio2_ogg_vorbis_data_Floor0};var kha_audio2_ogg_vorbis_data_Floor1=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Floor1"]=kha_audio2_ogg_vorbis_data_Floor1,kha_audio2_ogg_vorbis_data_Floor1.__name__=["kha","audio2","ogg","vorbis","data","Floor1"],kha_audio2_ogg_vorbis_data_Floor1.prototype={__class__:kha_audio2_ogg_vorbis_data_Floor1};var kha_audio2_ogg_vorbis_data_Header=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Header"]=kha_audio2_ogg_vorbis_data_Header,kha_audio2_ogg_vorbis_data_Header.__name__=["kha","audio2","ogg","vorbis","data","Header"],kha_audio2_ogg_vorbis_data_Header.read=function(e){var t=e.page;if(t.start(e),0==(2&t.flag))throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"not firstPage",{fileName:"Header.hx",lineNumber:46,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(0!=(4&t.flag))throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"lastPage",{fileName:"Header.hx",lineNumber:49,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(0!=(1&t.flag))throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"continuedPacket",{fileName:"Header.hx",lineNumber:52,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(e.firstPageValidate(),e.inputPosition+=1,1!=e.input.readByte())throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"decodeState head",{fileName:"Header.hx",lineNumber:57,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));for(var a=new haxe_io_Bytes(new ArrayBuffer(6)),r=0;r<6;){var i,s=r++;0!=e.bytesInSeg||!e.lastSeg&&0!=e.next()?(e.bytesInSeg--,e.inputPosition+=1,i=e.input.readByte()):i=-1,e.validBits=0,a.b[s]=255&i}if("vorbis"!=a.toString())throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"vorbis header",{fileName:"VorbisDecodeState.hx",lineNumber:300,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"vorbisValidate"}));e.inputPosition+=4;var n=e.input.readInt32();if(0!=n)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"vorbis version : "+n,{fileName:"Header.hx",lineNumber:66,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));var _=new kha_audio2_ogg_vorbis_data_Header;if(e.inputPosition+=1,_.channel=e.input.readByte(),0==_.channel)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"no channel",{fileName:"Header.hx",lineNumber:73,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(_.channel>16)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.TOO_MANY_CHANNELS,"too many channels",{fileName:"Header.hx",lineNumber:75,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(e.inputPosition+=4,_.sampleRate=e.input.readInt32(),0==_.sampleRate)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"no sampling rate",{fileName:"Header.hx",lineNumber:80,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));e.inputPosition+=4,_.maximumBitRate=e.input.readInt32(),e.inputPosition+=4,_.nominalBitRate=e.input.readInt32(),e.inputPosition+=4,_.minimumBitRate=e.input.readInt32(),e.inputPosition+=1;var o=e.input.readByte(),h=15&o,l=o>>4;if(_.blocksize0=1<<h,_.blocksize1=1<<l,h<6||h>13)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:93,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(l<6||l>13)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:96,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(h>l)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:99,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));e.inputPosition+=1;var c=e.input.readByte();if(0==(1&c))throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,null,{fileName:"Header.hx",lineNumber:105,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));e.page.start(e),e.startPacket();for(var d=0,u=new haxe_io_BytesOutput;;){if(d=e.next(),0==d)break;e.inputPosition+=d,u.write(e.input.read(d)),e.bytesInSeg=0}var g=new haxe_io_BytesInput(u.getBytes());g.readByte(),g.read(6);var p=g.readInt32();_.vendor=g.readString(p),_.comment=new kha_audio2_ogg_vorbis_data_Comment;for(var m=0,f=g.readInt32();m<f;){var v=(m++,g.readString(g.readInt32())),k=v.indexOf("=");k!=-1&&_.comment.add(v.substring(0,k),v.substring(k+1))}if(0==(1&g.readByte()))throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:141,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));e.startPacket();var y;if(0!=e.bytesInSeg||!e.lastSeg&&0!=e.next()?(e.bytesInSeg--,e.inputPosition+=1,y=e.input.readByte()):y=-1,e.validBits=0,5!=y)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"setup packet",{fileName:"Header.hx",lineNumber:149,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));for(var b=new haxe_io_Bytes(new ArrayBuffer(6)),I=0;I<6;){var S,x=I++;0!=e.bytesInSeg||!e.lastSeg&&0!=e.next()?(e.bytesInSeg--,e.inputPosition+=1,S=e.input.readByte()):S=-1,e.validBits=0,b.b[x]=255&S}if("vorbis"!=b.toString())throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"vorbis header",{fileName:"VorbisDecodeState.hx",lineNumber:300,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"vorbisValidate"}));var C;if(e.validBits<0)C=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var w=e.acc;if(e.inputPosition+=1,e.acc=w+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)C=0;else{var B=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,C=B}}else{var A=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,C=A}var T=C+1;_.codebooks=new Array(T);for(var M=0,V=T;M<V;)_.codebooks[M++]=kha_audio2_ogg_vorbis_data_Codebook.read(e);var D;if(e.validBits<0)D=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var F=e.acc;if(e.inputPosition+=1,e.acc=F+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)D=0;else{var R=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,D=R}}else{var E=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,D=E}c=D+1;for(var G=0,N=c;G<N;){var j;G++;if(e.validBits<0)j=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var z=e.acc;if(e.inputPosition+=1,e.acc=z+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)j=0;else{var P=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,j=P}}else{var H=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,j=H}if(0!=j)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:165,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}var Z;if(e.validBits<0)Z=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var K=e.acc;if(e.inputPosition+=1,e.acc=K+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)Z=0;else{var W=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,Z=W}}else{var L=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,Z=L}var $=Z+1;_.floorConfig=new Array($);for(var U=0,O=$;U<O;)_.floorConfig[U++]=kha_audio2_ogg_vorbis_data_Floor.read(e,_.codebooks);var Y;if(e.validBits<0)Y=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var X=e.acc;if(e.inputPosition+=1,e.acc=X+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)Y=0;else{var Q=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,Y=Q}}else{var J=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,Y=J}var q=Y+1;_.residueConfig=new Array(q);for(var ee=0,te=q;ee<te;)_.residueConfig[ee++]=kha_audio2_ogg_vorbis_data_Residue.read(e,_.codebooks);var ae;if(e.validBits<0)ae=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var re=e.acc;if(e.inputPosition+=1,e.acc=re+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)ae=0;else{var ie=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,ae=ie}}else{var se=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,ae=se}var ne=ae+1;_.mapping=new Array(ne);for(var _e=0,oe=ne;_e<oe;){var he=_e++,le=kha_audio2_ogg_vorbis_data_Mapping.read(e,_.channel);_.mapping[he]=le;for(var ce=0,de=le.submaps;ce<de;){var ue=ce++;if(le.submapFloor[ue]>=_.floorConfig.length)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:191,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(le.submapResidue[ue]>=_.residueConfig.length)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:194,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}}var ge;if(e.validBits<0)ge=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var pe=e.acc;if(e.inputPosition+=1,e.acc=pe+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)ge=0;else{var me=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,ge=me}}else{var fe=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,ge=fe}var ve=ge+1;_.modes=new Array(ve);for(var ke=0,ye=ve;ke<ye;){var be=ke++,Ie=kha_audio2_ogg_vorbis_data_Mode.read(e);if(_.modes[be]=Ie,Ie.mapping>=_.mapping.length)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:205,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}for(;0!=e.bytesInSeg||!e.lastSeg&&0!=e.next();)e.bytesInSeg--,e.inputPosition+=1,e.input.readByte();return _},kha_audio2_ogg_vorbis_data_Header.prototype={__class__:kha_audio2_ogg_vorbis_data_Header};var kha_audio2_ogg_vorbis_data_IntPoint=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.IntPoint"]=kha_audio2_ogg_vorbis_data_IntPoint,kha_audio2_ogg_vorbis_data_IntPoint.__name__=["kha","audio2","ogg","vorbis","data","IntPoint"],kha_audio2_ogg_vorbis_data_IntPoint.prototype={__class__:kha_audio2_ogg_vorbis_data_IntPoint};var kha_audio2_ogg_vorbis_data_Mapping=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Mapping"]=kha_audio2_ogg_vorbis_data_Mapping,kha_audio2_ogg_vorbis_data_Mapping.__name__=["kha","audio2","ogg","vorbis","data","Mapping"],kha_audio2_ogg_vorbis_data_Mapping.read=function(e,t){var a,r=new kha_audio2_ogg_vorbis_data_Mapping;if(e.validBits<0)a=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var i=e.acc;if(e.inputPosition+=1,e.acc=i+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)a=0;else{var s=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,a=s}}else{var n=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,a=n}if(0!=a)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"mapping type "+a,{fileName:"Mapping.hx",lineNumber:22,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}));r.chan=new Array(t);for(var _=0,o=t;_<o;)r.chan[_++]=new kha_audio2_ogg_vorbis_data_MappingChannel;var h;if(e.validBits<0)h=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var l=e.acc;if(e.inputPosition+=1,e.acc=l+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)h=0;else{var c=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,h=c}}else{var d=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,h=d}if(0!=h){var u;if(e.validBits<0)u=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var g=e.acc;if(e.inputPosition+=1,e.acc=g+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)u=0;else{var p=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,u=p}}else{var m=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,u=m}r.submaps=u+1}else r.submaps=1;var f;if(e.validBits<0)f=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var v=e.acc;if(e.inputPosition+=1,e.acc=v+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)f=0;else{var k=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,f=k}}else{var y=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,f=y}if(0!=f){var b;if(e.validBits<0)b=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var I=e.acc;if(e.inputPosition+=1,e.acc=I+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)b=0;else{var S=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,b=S}}else{var x=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,b=x}r.couplingSteps=b+1;for(var C=0,w=r.couplingSteps;C<w;){var B,A=C++,T=t-1,M=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],V=T<16384?T<16?M[T]:T<512?5+M[T>>5]:10+M[T>>10]:T<16777216?T<524288?15+M[T>>15]:20+M[T>>20]:T<536870912?25+M[T>>25]:T<-2147483648?30+M[T>>30]:0;if(e.validBits<0)B=0;else if(e.validBits<V)if(V>24)B=e.readBits(24)+(e.readBits(V-24)<<24);else{for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var D=e.acc;if(e.inputPosition+=1,e.acc=D+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<V))break}if(e.validBits<0)B=0;else{var F=e.acc&(1<<V)-1;e.acc=e.acc>>>V,e.validBits-=V,B=F}}else{var R=e.acc&(1<<V)-1;e.acc=e.acc>>>V,e.validBits-=V,B=R}r.chan[A].magnitude=B;var E,G=t-1,N=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],j=G<16384?G<16?N[G]:G<512?5+N[G>>5]:10+N[G>>10]:G<16777216?G<524288?15+N[G>>15]:20+N[G>>20]:G<536870912?25+N[G>>25]:G<-2147483648?30+N[G>>30]:0;if(e.validBits<0)E=0;else if(e.validBits<j)if(j>24)E=e.readBits(24)+(e.readBits(j-24)<<24);else{for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var z=e.acc;if(e.inputPosition+=1,e.acc=z+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<j))break}if(e.validBits<0)E=0;else{var P=e.acc&(1<<j)-1;e.acc=e.acc>>>j,e.validBits-=j,E=P}}else{var H=e.acc&(1<<j)-1;e.acc=e.acc>>>j,e.validBits-=j,E=H}if(r.chan[A].angle=E,r.chan[A].magnitude>=t)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:46,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}));if(r.chan[A].angle>=t)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:49,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}));if(r.chan[A].magnitude==r.chan[A].angle)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:52,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}))}}else r.couplingSteps=0;var Z;if(e.validBits<0)Z=0;else if(e.validBits<2){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var K=e.acc;if(e.inputPosition+=1,e.acc=K+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<2))break}if(e.validBits<0)Z=0;else{var W=3&e.acc;e.acc=e.acc>>>2,e.validBits-=2,Z=W}}else{var L=3&e.acc;e.acc=e.acc>>>2,e.validBits-=2,Z=L}if(0!=Z)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:61,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}));if(r.submaps>1)for(var $=0,U=t;$<U;){var O,Y=$++;if(e.validBits<0)O=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var X=e.acc;if(e.inputPosition+=1,e.acc=X+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)O=0;else{var Q=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,O=Q}}else{var J=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,O=J}if(r.chan[Y].mux=O,r.chan[Y].mux>=r.submaps)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:67,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}))}else for(var q=0,ee=t;q<ee;)r.chan[q++].mux=0;var te=r.submaps;r.submapFloor=new Array(te);var ae=r.submaps;r.submapResidue=new Array(ae);for(var re=0,ie=r.submaps;re<ie;){var se=re++;if(e.validBits>=0)if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var ne=e.acc;if(e.inputPosition+=1,e.acc=ne+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits>=0){255&e.acc;e.acc=e.acc>>>8,e.validBits-=8}}else{255&e.acc;e.acc=e.acc>>>8,e.validBits-=8}var _e;if(e.validBits<0)_e=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var oe=e.acc;if(e.inputPosition+=1,e.acc=oe+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)_e=0;else{var he=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,_e=he}}else{var le=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,_e=le}r.submapFloor[se]=_e;var ce;if(e.validBits<0)ce=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var de=e.acc;if(e.inputPosition+=1,e.acc=de+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)ce=0;else{var ue=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,ce=ue}}else{var ge=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,ce=ge}r.submapResidue[se]=ce}return r},kha_audio2_ogg_vorbis_data_Mapping.prototype={doFloor:function(e,t,a,r,i,s){var n=a>>1,_=e[this.submapFloor[this.chan[t].mux]];if(0==_.type)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{fileName:"Mapping.hx",lineNumber:94,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"doFloor"}));for(var o=_.floor1,h=0,l=i[0]*o.floor1Multiplier,c=1,d=o.values;c<d;){var u=o.sortedOrder[c++];if(i[u]>=0){var g=i[u]*o.floor1Multiplier,p=o.xlist[u];kha_audio2_ogg_vorbis_VorbisTools.drawLine(r,h,l,p,g,n),h=p,l=g}}if(h<n)for(var m=h;m<n;){var f=m++;r[f]=r[f]*kha_audio2_ogg_vorbis_VorbisTools.INVERSE_DB_TABLE[l]}},__class__:kha_audio2_ogg_vorbis_data_Mapping};var kha_audio2_ogg_vorbis_data_MappingChannel=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.MappingChannel"]=kha_audio2_ogg_vorbis_data_MappingChannel,kha_audio2_ogg_vorbis_data_MappingChannel.__name__=["kha","audio2","ogg","vorbis","data","MappingChannel"],kha_audio2_ogg_vorbis_data_MappingChannel.prototype={__class__:kha_audio2_ogg_vorbis_data_MappingChannel};var kha_audio2_ogg_vorbis_data_Mode=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Mode"]=kha_audio2_ogg_vorbis_data_Mode,kha_audio2_ogg_vorbis_data_Mode.__name__=["kha","audio2","ogg","vorbis","data","Mode"],kha_audio2_ogg_vorbis_data_Mode.read=function(e){var t,a=new kha_audio2_ogg_vorbis_data_Mode;if(e.validBits<0)t=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var r=e.acc;if(e.inputPosition+=1,e.acc=r+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)t=0;else{var i=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,t=i}}else{var s=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,t=s}a.blockflag=0!=t;var n;if(e.validBits<0)n=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var _=e.acc;if(e.inputPosition+=1,e.acc=_+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)n=0;else{var o=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,n=o}}else{var h=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,n=h}a.windowtype=n;var l;if(e.validBits<0)l=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var c=e.acc;if(e.inputPosition+=1,e.acc=c+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)l=0;else{var d=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,l=d}}else{var u=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,l=u}a.transformtype=l;var g;if(e.validBits<0)g=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var p=e.acc;if(e.inputPosition+=1,e.acc=p+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)g=0;else{var m=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,g=m}}else{var f=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,g=f}if(a.mapping=g,0!=a.windowtype)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mode.hx",lineNumber:22,className:"kha.audio2.ogg.vorbis.data.Mode",methodName:"read"}));if(0!=a.transformtype)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mode.hx",lineNumber:25,className:"kha.audio2.ogg.vorbis.data.Mode",methodName:"read"}));return a},kha_audio2_ogg_vorbis_data_Mode.prototype={__class__:kha_audio2_ogg_vorbis_data_Mode};var kha_audio2_ogg_vorbis_data_Page=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Page"]=kha_audio2_ogg_vorbis_data_Page,kha_audio2_ogg_vorbis_data_Page.__name__=["kha","audio2","ogg","vorbis","data","Page"],kha_audio2_ogg_vorbis_data_Page.prototype={clone:function(){var e=new kha_audio2_ogg_vorbis_data_Page;return e.flag=this.flag,e},start:function(e){var t,a,r;if(e.inputPosition+=1,79==e.input.readByte()?(e.inputPosition+=1,r=103!=e.input.readByte()):r=!0,r?a=!0:(e.inputPosition+=1,a=103!=e.input.readByte()),a?t=!0:(e.inputPosition+=1,t=83!=e.input.readByte()),t)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN,null,{fileName:"VorbisDecodeState.hx",lineNumber:323,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"capturePattern"}));this.startWithoutCapturePattern(e)},startWithoutCapturePattern:function(e){e.inputPosition+=1;var t=e.input.readByte();if(0!=t)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM_STRUCTURE_VERSION,""+t,{fileName:"Page.hx",lineNumber:34,className:"kha.audio2.ogg.vorbis.data.Page",methodName:"startWithoutCapturePattern"}));e.inputPosition+=1,this.flag=e.input.readByte(),e.inputPosition+=4;var a=e.input.readInt32();e.inputPosition+=4;var r=e.input.readInt32();e.inputPosition+=4,e.input.readInt32(),e.inputPosition+=4,e.input.readInt32(),e.inputPosition+=4,e.input.readInt32(),e.setup(a,r);
},__class__:kha_audio2_ogg_vorbis_data_Page};var kha_audio2_ogg_vorbis_data_PageFlag=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.PageFlag"]=kha_audio2_ogg_vorbis_data_PageFlag,kha_audio2_ogg_vorbis_data_PageFlag.__name__=["kha","audio2","ogg","vorbis","data","PageFlag"];var kha_audio2_ogg_vorbis_data_ProbedPage=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.ProbedPage"]=kha_audio2_ogg_vorbis_data_ProbedPage,kha_audio2_ogg_vorbis_data_ProbedPage.__name__=["kha","audio2","ogg","vorbis","data","ProbedPage"],kha_audio2_ogg_vorbis_data_ProbedPage.prototype={__class__:kha_audio2_ogg_vorbis_data_ProbedPage};var kha_audio2_ogg_vorbis_data_ReaderError=function(e,t,a){null==t&&(t=""),this.type=e,this.message=t,this.posInfos=a};$hxClasses["kha.audio2.ogg.vorbis.data.ReaderError"]=kha_audio2_ogg_vorbis_data_ReaderError,kha_audio2_ogg_vorbis_data_ReaderError.__name__=["kha","audio2","ogg","vorbis","data","ReaderError"],kha_audio2_ogg_vorbis_data_ReaderError.prototype={__class__:kha_audio2_ogg_vorbis_data_ReaderError};var kha_audio2_ogg_vorbis_data_ReaderErrorType=$hxClasses["kha.audio2.ogg.vorbis.data.ReaderErrorType"]={__ename__:["kha","audio2","ogg","vorbis","data","ReaderErrorType"],__constructs__:["NEED_MORE_DATA","INVALID_API_MIXING","OUTOFMEM","FEATURE_NOT_SUPPORTED","TOO_MANY_CHANNELS","FILE_OPEN_FAILURE","SEEK_WITHOUT_LENGTH","UNEXPECTED_EOF","SEEK_INVALID","INVALID_SETUP","INVALID_STREAM","MISSING_CAPTURE_PATTERN","INVALID_STREAM_STRUCTURE_VERSION","CONTINUED_PACKET_FLAG_INVALID","INCORRECT_STREAM_SERIAL_NUMBER","INVALID_FIRST_PAGE","BAD_PACKET_TYPE","CANT_FIND_LAST_PAGE","SEEK_FAILED","OTHER"]};kha_audio2_ogg_vorbis_data_ReaderErrorType.NEED_MORE_DATA=["NEED_MORE_DATA",0],kha_audio2_ogg_vorbis_data_ReaderErrorType.NEED_MORE_DATA.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.NEED_MORE_DATA.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_API_MIXING=["INVALID_API_MIXING",1],kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_API_MIXING.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_API_MIXING.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.OUTOFMEM=["OUTOFMEM",2],kha_audio2_ogg_vorbis_data_ReaderErrorType.OUTOFMEM.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.OUTOFMEM.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.FEATURE_NOT_SUPPORTED=["FEATURE_NOT_SUPPORTED",3],kha_audio2_ogg_vorbis_data_ReaderErrorType.FEATURE_NOT_SUPPORTED.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.FEATURE_NOT_SUPPORTED.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.TOO_MANY_CHANNELS=["TOO_MANY_CHANNELS",4],kha_audio2_ogg_vorbis_data_ReaderErrorType.TOO_MANY_CHANNELS.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.TOO_MANY_CHANNELS.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.FILE_OPEN_FAILURE=["FILE_OPEN_FAILURE",5],kha_audio2_ogg_vorbis_data_ReaderErrorType.FILE_OPEN_FAILURE.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.FILE_OPEN_FAILURE.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_WITHOUT_LENGTH=["SEEK_WITHOUT_LENGTH",6],kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_WITHOUT_LENGTH.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_WITHOUT_LENGTH.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.UNEXPECTED_EOF=["UNEXPECTED_EOF",7],kha_audio2_ogg_vorbis_data_ReaderErrorType.UNEXPECTED_EOF.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.UNEXPECTED_EOF.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_INVALID=["SEEK_INVALID",8],kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_INVALID.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_INVALID.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP=["INVALID_SETUP",9],kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM=["INVALID_STREAM",10],kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN=["MISSING_CAPTURE_PATTERN",11],kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM_STRUCTURE_VERSION=["INVALID_STREAM_STRUCTURE_VERSION",12],kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM_STRUCTURE_VERSION.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM_STRUCTURE_VERSION.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.CONTINUED_PACKET_FLAG_INVALID=["CONTINUED_PACKET_FLAG_INVALID",13],kha_audio2_ogg_vorbis_data_ReaderErrorType.CONTINUED_PACKET_FLAG_INVALID.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.CONTINUED_PACKET_FLAG_INVALID.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.INCORRECT_STREAM_SERIAL_NUMBER=["INCORRECT_STREAM_SERIAL_NUMBER",14],kha_audio2_ogg_vorbis_data_ReaderErrorType.INCORRECT_STREAM_SERIAL_NUMBER.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.INCORRECT_STREAM_SERIAL_NUMBER.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE=["INVALID_FIRST_PAGE",15],kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.BAD_PACKET_TYPE=["BAD_PACKET_TYPE",16],kha_audio2_ogg_vorbis_data_ReaderErrorType.BAD_PACKET_TYPE.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.BAD_PACKET_TYPE.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE=["CANT_FIND_LAST_PAGE",17],kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED=["SEEK_FAILED",18],kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType,kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER=["OTHER",19],kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER.toString=$estr,kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;var kha_audio2_ogg_vorbis_data_Residue=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Residue"]=kha_audio2_ogg_vorbis_data_Residue,kha_audio2_ogg_vorbis_data_Residue.__name__=["kha","audio2","ogg","vorbis","data","Residue"],kha_audio2_ogg_vorbis_data_Residue.read=function(e,t){var a,r=new kha_audio2_ogg_vorbis_data_Residue;if(e.validBits<0)a=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var i=e.acc;if(e.inputPosition+=1,e.acc=i+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)a=0;else{var s=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,a=s}}else{var n=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,a=n}if(r.type=a,r.type>2)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Residue.hx",lineNumber:29,className:"kha.audio2.ogg.vorbis.data.Residue",methodName:"read"}));var _,o=new Array(64);if(e.validBits<0)_=0;else if(e.validBits<24){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var h=e.acc;if(e.inputPosition+=1,e.acc=h+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<24))break}if(e.validBits<0)_=0;else{var l=16777215&e.acc;e.acc=e.acc>>>24,e.validBits-=24,_=l}}else{var c=16777215&e.acc;e.acc=e.acc>>>24,e.validBits-=24,_=c}r.begin=_;var d;if(e.validBits<0)d=0;else if(e.validBits<24){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var u=e.acc;if(e.inputPosition+=1,e.acc=u+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<24))break}if(e.validBits<0)d=0;else{var g=16777215&e.acc;e.acc=e.acc>>>24,e.validBits-=24,d=g}}else{var p=16777215&e.acc;e.acc=e.acc>>>24,e.validBits-=24,d=p}r.end=d;var m;if(e.validBits<0)m=0;else if(e.validBits<24){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var f=e.acc;if(e.inputPosition+=1,e.acc=f+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<24))break}if(e.validBits<0)m=0;else{var v=16777215&e.acc;e.acc=e.acc>>>24,e.validBits-=24,m=v}}else{var k=16777215&e.acc;e.acc=e.acc>>>24,e.validBits-=24,m=k}r.partSize=m+1;var y;if(e.validBits<0)y=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var b=e.acc;if(e.inputPosition+=1,e.acc=b+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)y=0;else{var I=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,y=I}}else{var S=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,y=S}var x,C=r.classifications=y+1;if(e.validBits<0)x=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var w=e.acc;if(e.inputPosition+=1,e.acc=w+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)x=0;else{var B=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,x=B}}else{var A=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,x=A}r.classbook=x;for(var T=0,M=r.classifications;T<M;){var V,D=T++,F=0;if(e.validBits<0)V=0;else if(e.validBits<3){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var R=e.acc;if(e.inputPosition+=1,e.acc=R+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<3))break}if(e.validBits<0)V=0;else{var E=7&e.acc;e.acc=e.acc>>>3,e.validBits-=3,V=E}}else{var G=7&e.acc;e.acc=e.acc>>>3,e.validBits-=3,V=G}var N;if(e.validBits<0)N=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var j=e.acc;if(e.inputPosition+=1,e.acc=j+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)N=0;else{var z=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,N=z}}else{var P=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,N=P}if(0!=N)if(e.validBits<0)F=0;else if(e.validBits<5){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var H=e.acc;if(e.inputPosition+=1,e.acc=H+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<5))break}if(e.validBits<0)F=0;else{var Z=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,F=Z}}else{var K=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,F=K}o[D]=8*F+V}var W=r.classifications;r.residueBooks=new Array(W);for(var L=0,$=r.classifications;L<$;){var U=L++;r.residueBooks[U]=new Array(8);for(var O=0;O<8;){var Y=O++;if(0!=(o[U]&1<<Y)){var X;if(e.validBits<0)X=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}e.bytesInSeg--;var Q=e.acc;if(e.inputPosition+=1,e.acc=Q+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)X=0;else{var J=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,X=J}}else{var q=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,X=q}if(r.residueBooks[U][Y]=X,r.residueBooks[U][Y]>=t.length)throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Residue.hx",lineNumber:55,className:"kha.audio2.ogg.vorbis.data.Residue",methodName:"read"}))}else r.residueBooks[U][Y]=-1}}var ee=t[r.classbook].entries,te=t[r.classbook].dimensions;r.classdata=new Array(ee);for(var ae=0,re=ee;ae<re;)for(var ie=ae++,se=ie,ne=te,_e=r.classdata[ie]=new Array(te);--ne>=0;)_e[ne]=se%C,se=se/C|0;return r},kha_audio2_ogg_vorbis_data_Residue.prototype={decode:function(e,t,a,r,i,s,n){for(var _=t.codebooks,o=_[this.classbook].dimensions,h=this.end-this.begin,l=this.partSize,c=_$UInt_UInt_$Impl_$.toFloat(h)/_$UInt_UInt_$Impl_$.toFloat(l)|0,d=t.channel*c+1,u=new Array(d),g=0,p=r;g<p;){var m=g++;if(!s[m])for(var f=a[m],v=0,k=f.length;v<k;)f[v++]=0}if(2!=this.type||1==r)for(var y=0;y<8;)for(var b=y++,I=0;I<c;){if(0==b)for(var S=0,x=r;S<x;){var C=S++;if(!s[C]){var w=_[this.classbook];e.validBits<10&&e.prepHuffman();var B,A=w.fastHuffman[1023&e.acc];if(A>=0){var T=w.codewordLengths[A];e.acc=e.acc>>>T,e.validBits-=T,e.validBits<0?(e.validBits=0,B=-1):B=A}else B=e.decodeScalarRaw(w);w.sparse&&(B=w.sortedValues[B]);var M=B;if(M==-1)return;for(var V=o;--V>=0;)u[C*c+V+I]=M%this.classifications,M=M/this.classifications|0}}for(var D=0,F=o;D<F;){D++;if(I>=c)break;for(var R=0,E=r;R<E;){var G=R++;if(!s[G]){var N=this.residueBooks[u[G*c+I]][b];if(N>=0){var j=a[G],z=this.begin+I*l;if(!_[N].residueDecode(e,j,z,l,this.type))return}}}++I}}else{for(var P=0,H=r;P<H;){var Z=P++;if(!s[Z])break;if(Z==r-1)return}for(var K=0;K<8;){var W=K++,L=0;if(2==r)for(;L<c;){var $=this.begin+L*l,U=1&$,O=$>>>1;if(0==W){var Y=_[this.classbook];e.validBits<10&&e.prepHuffman();var X,Q=Y.fastHuffman[1023&e.acc];if(Q>=0){var J=Y.codewordLengths[Q];e.acc=e.acc>>>J,e.validBits-=J,e.validBits<0?(e.validBits=0,X=-1):X=Q}else X=e.decodeScalarRaw(Y);Y.sparse&&(X=Y.sortedValues[X]);var q=X;if(q==-1)return;for(var ee=o;--ee>=0;)u[ee+L]=q%this.classifications,q=q/this.classifications|0}for(var te=0,ae=o;te<ae;){te++;if(L>=c)break;var re=this.begin+L*l,ie=this.residueBooks[u[L]][W];if(ie>=0){var se=_[ie].decodeDeinterleaveRepeat(e,a,r,U,O,i,l);if(null==se)return;U=se.cInter,O=se.pInter}else re+=l,U=1&re,O=re>>>1;++L}}else if(1==r)for(;L<c;){var ne=this.begin+L*l,_e=0,oe=ne;if(0==W){var he=_[this.classbook];e.validBits<10&&e.prepHuffman();var le,ce=he.fastHuffman[1023&e.acc];if(ce>=0){var de=he.codewordLengths[ce];e.acc=e.acc>>>de,e.validBits-=de,e.validBits<0?(e.validBits=0,le=-1):le=ce}else le=e.decodeScalarRaw(he);he.sparse&&(le=he.sortedValues[le]);var ue=le;if(ue==-1)return;for(var ge=o;--ge>=0;)u[ge+L]=ue%this.classifications,ue=ue/this.classifications|0}for(var pe=0,me=o;pe<me;){pe++;if(L>=c)break;var fe=this.begin+L*l,ve=this.residueBooks[u[L]][W];if(ve>=0){var ke=_[ve].decodeDeinterleaveRepeat(e,a,r,_e,oe,i,l);if(null==ke)return;_e=ke.cInter,oe=ke.pInter}else fe+=l,_e=0,oe=fe;++L}}else for(;L<c;){var ye=this.begin+L*l,be=_$UInt_UInt_$Impl_$.toFloat(ye)%_$UInt_UInt_$Impl_$.toFloat(r)|0,Ie=_$UInt_UInt_$Impl_$.toFloat(ye)/_$UInt_UInt_$Impl_$.toFloat(r)|0;if(0==W){var Se=_[this.classbook];e.validBits<10&&e.prepHuffman();var xe,Ce=Se.fastHuffman[1023&e.acc];if(Ce>=0){var we=Se.codewordLengths[Ce];e.acc=e.acc>>>we,e.validBits-=we,e.validBits<0?(e.validBits=0,xe=-1):xe=Ce}else xe=e.decodeScalarRaw(Se);Se.sparse&&(xe=Se.sortedValues[xe]);var Be=xe;if(Be==-1)return;for(var Ae=o;--Ae>=0;)u[Ae+L]=Be%this.classifications,Be=Be/this.classifications|0}for(var Te=0,Me=o;Te<Me;){Te++;if(L>=c)break;var Ve=this.begin+L*l,De=this.residueBooks[u[L]][W];if(De>=0){var Fe=_[De].decodeDeinterleaveRepeat(e,a,r,be,Ie,i,l);if(null==Fe)return;be=Fe.cInter,Ie=Fe.pInter}else Ve+=l,be=_$UInt_UInt_$Impl_$.toFloat(Ve)%_$UInt_UInt_$Impl_$.toFloat(r)|0,Ie=_$UInt_UInt_$Impl_$.toFloat(Ve)/_$UInt_UInt_$Impl_$.toFloat(r)|0;++L}}}}},__class__:kha_audio2_ogg_vorbis_data_Residue};var kha_audio2_ogg_vorbis_data_Setting=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Setting"]=kha_audio2_ogg_vorbis_data_Setting,kha_audio2_ogg_vorbis_data_Setting.__name__=["kha","audio2","ogg","vorbis","data","Setting"];var kha_graphics1_Graphics=function(){};$hxClasses["kha.graphics1.Graphics"]=kha_graphics1_Graphics,kha_graphics1_Graphics.__name__=["kha","graphics1","Graphics"],kha_graphics1_Graphics.prototype={__class__:kha_graphics1_Graphics};var kha_graphics2_Graphics=function(){this.transformations=[],this.transformations.push(new kha_math_FastMatrix3(1,0,0,0,1,0,0,0,1)),this.opacities=[],this.opacities.push(1),this.myFontSize=12,this.myFontGlyphs=[];for(var e=32;e<256;)this.myFontGlyphs.push(e++);this.pipe=null};$hxClasses["kha.graphics2.Graphics"]=kha_graphics2_Graphics,kha_graphics2_Graphics.__name__=["kha","graphics2","Graphics"],kha_graphics2_Graphics.prototype={begin:function(e,t){null==e&&(e=!0)},end:function(){},flush:function(){},clear:function(e){},drawImage:function(e,t,a){this.drawSubImage(e,t,a,0,0,e.get_width(),e.get_height())},drawSubImage:function(e,t,a,r,i,s,n){this.drawScaledSubImage(e,r,i,s,n,t,a,s,n)},drawScaledImage:function(e,t,a,r,i){this.drawScaledSubImage(e,0,0,e.get_width(),e.get_height(),t,a,r,i)},drawScaledSubImage:function(e,t,a,r,i,s,n,_,o){},drawRect:function(e,t,a,r,i){null==i&&(i=1)},fillRect:function(e,t,a,r){},drawString:function(e,t,a){},drawLine:function(e,t,a,r,i){null==i&&(i=1)},drawVideo:function(e,t,a,r,i){},fillTriangle:function(e,t,a,r,i,s){},get_imageScaleQuality:function(){return kha_graphics2_ImageScaleQuality.Low},set_imageScaleQuality:function(e){return kha_graphics2_ImageScaleQuality.High},get_mipmapScaleQuality:function(){return kha_graphics2_ImageScaleQuality.Low},set_mipmapScaleQuality:function(e){return kha_graphics2_ImageScaleQuality.High},get_color:function(){return kha__$Color_Color_$Impl_$.Black},set_color:function(e){return kha__$Color_Color_$Impl_$.Black},get_font:function(){return null},set_font:function(e){return null},get_fontSize:function(){return this.myFontSize},set_fontSize:function(e){return this.myFontSize=e},get_fontGlyphs:function(){return this.myFontGlyphs},set_fontGlyphs:function(e){return this.myFontGlyphs=e},pushTransformation:function(e){this.setTransformation(e),this.transformations.push(e)},popTransformation:function(){var e=this.transformations.pop();return this.setTransformation(this.transformations[this.transformations.length-1]),e},get_transformation:function(){return this.transformations[this.transformations.length-1]},set_transformation:function(e){return this.setTransformation(e),this.transformations[this.transformations.length-1]=e},translation:function(e,t){var a=1,r=0,i=0,s=1,n=0,_=0,o=1,h=this.transformations[this.transformations.length-1];return new kha_math_FastMatrix3(a*h._00+r*h._01+e*h._02,a*h._10+r*h._11+e*h._12,a*h._20+r*h._21+e*h._22,i*h._00+s*h._01+t*h._02,i*h._10+s*h._11+t*h._12,i*h._20+s*h._21+t*h._22,n*h._00+_*h._01+o*h._02,n*h._10+_*h._11+o*h._12,n*h._20+_*h._21+o*h._22)},translate:function(e,t){var a=1,r=0,i=0,s=1,n=0,_=0,o=1,h=this.transformations[this.transformations.length-1],l=new kha_math_FastMatrix3(a*h._00+r*h._01+e*h._02,a*h._10+r*h._11+e*h._12,a*h._20+r*h._21+e*h._22,i*h._00+s*h._01+t*h._02,i*h._10+s*h._11+t*h._12,i*h._20+s*h._21+t*h._22,n*h._00+_*h._01+o*h._02,n*h._10+_*h._11+o*h._12,n*h._20+_*h._21+o*h._22);this.setTransformation(l),this.transformations[this.transformations.length-1]=l},pushTranslation:function(e,t){var a=1,r=0,i=0,s=1,n=0,_=0,o=1,h=this.transformations[this.transformations.length-1];this.pushTransformation(new kha_math_FastMatrix3(a*h._00+r*h._01+e*h._02,a*h._10+r*h._11+e*h._12,a*h._20+r*h._21+e*h._22,i*h._00+s*h._01+t*h._02,i*h._10+s*h._11+t*h._12,i*h._20+s*h._21+t*h._22,n*h._00+_*h._01+o*h._02,n*h._10+_*h._11+o*h._12,n*h._20+_*h._21+o*h._22))},rotation:function(e,t,a){var r=1,i=0,s=0,n=1,_=0,o=0,h=1,l=Math.cos(e),c=-Math.sin(e),d=Math.sin(e),u=Math.cos(e),g=0,p=0,m=0,f=0,v=1,k=r*l+i*d+t*m,y=r*c+i*u+t*f,b=r*g+i*p+t*v,I=s*l+n*d+a*m,S=s*c+n*u+a*f,x=s*g+n*p+a*v,C=_*l+o*d+h*m,w=_*c+o*u+h*f,B=_*g+o*p+h*v,A=1,T=0,M=-t,V=0,D=1,F=-a,R=0,E=0,G=1,N=k*A+y*V+b*R,j=k*T+y*D+b*E,z=k*M+y*F+b*G,P=I*A+S*V+x*R,H=I*T+S*D+x*E,Z=I*M+S*F+x*G,K=C*A+w*V+B*R,W=C*T+w*D+B*E,L=C*M+w*F+B*G,$=this.transformations[this.transformations.length-1];return new kha_math_FastMatrix3(N*$._00+j*$._01+z*$._02,N*$._10+j*$._11+z*$._12,N*$._20+j*$._21+z*$._22,P*$._00+H*$._01+Z*$._02,P*$._10+H*$._11+Z*$._12,P*$._20+H*$._21+Z*$._22,K*$._00+W*$._01+L*$._02,K*$._10+W*$._11+L*$._12,K*$._20+W*$._21+L*$._22)},rotate:function(e,t,a){var r=1,i=0,s=0,n=1,_=0,o=0,h=1,l=Math.cos(e),c=-Math.sin(e),d=Math.sin(e),u=Math.cos(e),g=0,p=0,m=0,f=0,v=1,k=r*l+i*d+t*m,y=r*c+i*u+t*f,b=r*g+i*p+t*v,I=s*l+n*d+a*m,S=s*c+n*u+a*f,x=s*g+n*p+a*v,C=_*l+o*d+h*m,w=_*c+o*u+h*f,B=_*g+o*p+h*v,A=1,T=0,M=-t,V=0,D=1,F=-a,R=0,E=0,G=1,N=k*A+y*V+b*R,j=k*T+y*D+b*E,z=k*M+y*F+b*G,P=I*A+S*V+x*R,H=I*T+S*D+x*E,Z=I*M+S*F+x*G,K=C*A+w*V+B*R,W=C*T+w*D+B*E,L=C*M+w*F+B*G,$=this.transformations[this.transformations.length-1],U=new kha_math_FastMatrix3(N*$._00+j*$._01+z*$._02,N*$._10+j*$._11+z*$._12,N*$._20+j*$._21+z*$._22,P*$._00+H*$._01+Z*$._02,P*$._10+H*$._11+Z*$._12,P*$._20+H*$._21+Z*$._22,K*$._00+W*$._01+L*$._02,K*$._10+W*$._11+L*$._12,K*$._20+W*$._21+L*$._22);this.setTransformation(U),this.transformations[this.transformations.length-1]=U},pushRotation:function(e,t,a){var r=1,i=0,s=0,n=1,_=0,o=0,h=1,l=Math.cos(e),c=-Math.sin(e),d=Math.sin(e),u=Math.cos(e),g=0,p=0,m=0,f=0,v=1,k=r*l+i*d+t*m,y=r*c+i*u+t*f,b=r*g+i*p+t*v,I=s*l+n*d+a*m,S=s*c+n*u+a*f,x=s*g+n*p+a*v,C=_*l+o*d+h*m,w=_*c+o*u+h*f,B=_*g+o*p+h*v,A=1,T=0,M=-t,V=0,D=1,F=-a,R=0,E=0,G=1,N=k*A+y*V+b*R,j=k*T+y*D+b*E,z=k*M+y*F+b*G,P=I*A+S*V+x*R,H=I*T+S*D+x*E,Z=I*M+S*F+x*G,K=C*A+w*V+B*R,W=C*T+w*D+B*E,L=C*M+w*F+B*G,$=this.transformations[this.transformations.length-1];this.pushTransformation(new kha_math_FastMatrix3(N*$._00+j*$._01+z*$._02,N*$._10+j*$._11+z*$._12,N*$._20+j*$._21+z*$._22,P*$._00+H*$._01+Z*$._02,P*$._10+H*$._11+Z*$._12,P*$._20+H*$._21+Z*$._22,K*$._00+W*$._01+L*$._02,K*$._10+W*$._11+L*$._12,K*$._20+W*$._21+L*$._22))},pushOpacity:function(e){this.setOpacity(e),this.opacities.push(e)},popOpacity:function(){var e=this.opacities.pop();return this.setOpacity(this.get_opacity()),e},get_opacity:function(){return this.opacities[this.opacities.length-1]},set_opacity:function(e){return this.setOpacity(e),this.opacities[this.opacities.length-1]=e},scissor:function(e,t,a,r){},disableScissor:function(){},get_pipeline:function(){return this.pipe},set_pipeline:function(e){return this.setPipeline(e),this.pipe=e},setTransformation:function(e){},setOpacity:function(e){},setPipeline:function(e){},__class__:kha_graphics2_Graphics,__properties__:{set_pipeline:"set_pipeline",get_pipeline:"get_pipeline",set_opacity:"set_opacity",get_opacity:"get_opacity",set_transformation:"set_transformation",get_transformation:"get_transformation",set_fontGlyphs:"set_fontGlyphs",get_fontGlyphs:"get_fontGlyphs",set_fontSize:"set_fontSize",get_fontSize:"get_fontSize",set_font:"set_font",get_font:"get_font",set_color:"set_color",get_color:"get_color",set_mipmapScaleQuality:"set_mipmapScaleQuality",get_mipmapScaleQuality:"get_mipmapScaleQuality",set_imageScaleQuality:"set_imageScaleQuality",get_imageScaleQuality:"get_imageScaleQuality"}};var kha_graphics2_Graphics1=function(e){this.canvas=e};$hxClasses["kha.graphics2.Graphics1"]=kha_graphics2_Graphics1,kha_graphics2_Graphics1.__name__=["kha","graphics2","Graphics1"],kha_graphics2_Graphics1.__interfaces__=[kha_graphics1_Graphics],kha_graphics2_Graphics1.prototype={begin:function(){null==this.texture&&(this.texture=kha_Image.create(this.canvas.get_width(),this.canvas.get_height(),kha_graphics4_TextureFormat.RGBA32,kha_graphics4_Usage.ReadableUsage)),this.pixels=this.texture.lock()},end:function(){this.texture.unlock(),this.canvas.get_g2().begin(),this.canvas.get_g2().drawImage(this.texture,0,0),this.canvas.get_g2().end()},setPixel:function(e,t,a){this.pixels.setInt32(t*this.texture.get_realWidth()*4+4*e,a)},__class__:kha_graphics2_Graphics1};var kha_graphics2_ImageScaleQuality=$hxClasses["kha.graphics2.ImageScaleQuality"]={__ename__:["kha","graphics2","ImageScaleQuality"],__constructs__:["Low","High"]};kha_graphics2_ImageScaleQuality.Low=["Low",0],kha_graphics2_ImageScaleQuality.Low.toString=$estr,kha_graphics2_ImageScaleQuality.Low.__enum__=kha_graphics2_ImageScaleQuality,kha_graphics2_ImageScaleQuality.High=["High",1],kha_graphics2_ImageScaleQuality.High.toString=$estr,kha_graphics2_ImageScaleQuality.High.__enum__=kha_graphics2_ImageScaleQuality;var kha_graphics2_truetype_VectorOfIntPointer=function(){};$hxClasses["kha.graphics2.truetype.VectorOfIntPointer"]=kha_graphics2_truetype_VectorOfIntPointer,kha_graphics2_truetype_VectorOfIntPointer.__name__=["kha","graphics2","truetype","VectorOfIntPointer"],kha_graphics2_truetype_VectorOfIntPointer.prototype={__class__:kha_graphics2_truetype_VectorOfIntPointer};var kha_graphics2_truetype_Stbtt_$temp_$rect=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_temp_rect"]=kha_graphics2_truetype_Stbtt_$temp_$rect,kha_graphics2_truetype_Stbtt_$temp_$rect.__name__=["kha","graphics2","truetype","Stbtt_temp_rect"],kha_graphics2_truetype_Stbtt_$temp_$rect.prototype={__class__:kha_graphics2_truetype_Stbtt_$temp_$rect};var kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_temp_glyph_h_metrics"]=kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics,kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics.__name__=["kha","graphics2","truetype","Stbtt_temp_glyph_h_metrics"],kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics.prototype={__class__:kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics};var kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_temp_font_v_metrics"]=kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics,kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics.__name__=["kha","graphics2","truetype","Stbtt_temp_font_v_metrics"],kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics.prototype={__class__:kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics};var kha_graphics2_truetype_Stbtt_$temp_$region=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_temp_region"]=kha_graphics2_truetype_Stbtt_$temp_$region,kha_graphics2_truetype_Stbtt_$temp_$region.__name__=["kha","graphics2","truetype","Stbtt_temp_region"],kha_graphics2_truetype_Stbtt_$temp_$region.prototype={__class__:kha_graphics2_truetype_Stbtt_$temp_$region};var kha_graphics2_truetype_Stbtt_$bakedchar=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_bakedchar"]=kha_graphics2_truetype_Stbtt_$bakedchar,kha_graphics2_truetype_Stbtt_$bakedchar.__name__=["kha","graphics2","truetype","Stbtt_bakedchar"],kha_graphics2_truetype_Stbtt_$bakedchar.prototype={__class__:kha_graphics2_truetype_Stbtt_$bakedchar};var kha_graphics2_truetype_Stbtt_$aligned_$quad=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_aligned_quad"]=kha_graphics2_truetype_Stbtt_$aligned_$quad,kha_graphics2_truetype_Stbtt_$aligned_$quad.__name__=["kha","graphics2","truetype","Stbtt_aligned_quad"],kha_graphics2_truetype_Stbtt_$aligned_$quad.prototype={__class__:kha_graphics2_truetype_Stbtt_$aligned_$quad};var kha_graphics2_truetype_Stbtt_$packedchar=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_packedchar"]=kha_graphics2_truetype_Stbtt_$packedchar,kha_graphics2_truetype_Stbtt_$packedchar.__name__=["kha","graphics2","truetype","Stbtt_packedchar"],kha_graphics2_truetype_Stbtt_$packedchar.prototype={__class__:kha_graphics2_truetype_Stbtt_$packedchar};var kha_graphics2_truetype_Stbtt_$pack_$range=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_pack_range"]=kha_graphics2_truetype_Stbtt_$pack_$range,kha_graphics2_truetype_Stbtt_$pack_$range.__name__=["kha","graphics2","truetype","Stbtt_pack_range"],kha_graphics2_truetype_Stbtt_$pack_$range.prototype={__class__:kha_graphics2_truetype_Stbtt_$pack_$range};var kha_graphics2_truetype_Stbtt_$pack_$context=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_pack_context"]=kha_graphics2_truetype_Stbtt_$pack_$context,kha_graphics2_truetype_Stbtt_$pack_$context.__name__=["kha","graphics2","truetype","Stbtt_pack_context"],kha_graphics2_truetype_Stbtt_$pack_$context.prototype={__class__:kha_graphics2_truetype_Stbtt_$pack_$context};var kha_graphics2_truetype_Stbtt_$fontinfo=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_fontinfo"]=kha_graphics2_truetype_Stbtt_$fontinfo,kha_graphics2_truetype_Stbtt_$fontinfo.__name__=["kha","graphics2","truetype","Stbtt_fontinfo"],kha_graphics2_truetype_Stbtt_$fontinfo.prototype={__class__:kha_graphics2_truetype_Stbtt_$fontinfo};var kha_graphics2_truetype_Stbtt_$vertex=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_vertex"]=kha_graphics2_truetype_Stbtt_$vertex,kha_graphics2_truetype_Stbtt_$vertex.__name__=["kha","graphics2","truetype","Stbtt_vertex"],kha_graphics2_truetype_Stbtt_$vertex.prototype={__class__:kha_graphics2_truetype_Stbtt_$vertex};var kha_graphics2_truetype_Stbtt_$_$bitmap=function(){};$hxClasses["kha.graphics2.truetype.Stbtt__bitmap"]=kha_graphics2_truetype_Stbtt_$_$bitmap,kha_graphics2_truetype_Stbtt_$_$bitmap.__name__=["kha","graphics2","truetype","Stbtt__bitmap"],kha_graphics2_truetype_Stbtt_$_$bitmap.prototype={__class__:kha_graphics2_truetype_Stbtt_$_$bitmap};var kha_graphics2_truetype_Stbtt_$_$edge=function(){};$hxClasses["kha.graphics2.truetype.Stbtt__edge"]=kha_graphics2_truetype_Stbtt_$_$edge,kha_graphics2_truetype_Stbtt_$_$edge.__name__=["kha","graphics2","truetype","Stbtt__edge"],kha_graphics2_truetype_Stbtt_$_$edge.prototype={__class__:kha_graphics2_truetype_Stbtt_$_$edge};var kha_graphics2_truetype_Stbtt_$_$active_$edge=function(){};$hxClasses["kha.graphics2.truetype.Stbtt__active_edge"]=kha_graphics2_truetype_Stbtt_$_$active_$edge,kha_graphics2_truetype_Stbtt_$_$active_$edge.__name__=["kha","graphics2","truetype","Stbtt__active_edge"],kha_graphics2_truetype_Stbtt_$_$active_$edge.prototype={__class__:kha_graphics2_truetype_Stbtt_$_$active_$edge};var kha_graphics2_truetype_Stbtt_$_$point=function(){};$hxClasses["kha.graphics2.truetype.Stbtt__point"]=kha_graphics2_truetype_Stbtt_$_$point,kha_graphics2_truetype_Stbtt_$_$point.__name__=["kha","graphics2","truetype","Stbtt__point"],kha_graphics2_truetype_Stbtt_$_$point.prototype={__class__:kha_graphics2_truetype_Stbtt_$_$point};var kha_graphics2_truetype_StbTruetype=function(){};$hxClasses["kha.graphics2.truetype.StbTruetype"]=kha_graphics2_truetype_StbTruetype,kha_graphics2_truetype_StbTruetype.__name__=["kha","graphics2","truetype","StbTruetype"],kha_graphics2_truetype_StbTruetype.STBTT_assert=function(e){if(!e)throw new js__$Boot_HaxeError("Error")},kha_graphics2_truetype_StbTruetype.STBTT_POINT_SIZE=function(e){return-e},kha_graphics2_truetype_StbTruetype.ttBYTE=function(e,t){return null==t&&(t=0),e.readU8(t)},kha_graphics2_truetype_StbTruetype.ttCHAR=function(e,t){null==t&&(t=0);var a=e.readU8(t);return a>=128?a-256:a},kha_graphics2_truetype_StbTruetype.ttUSHORT=function(e,t){null==t&&(t=0);var a=e.readU8(t);return e.readU8(t+1)|a<<8},kha_graphics2_truetype_StbTruetype.ttSHORT=function(e,t){null==t&&(t=0);var a=e.readU8(t),r=e.readU8(t+1)|a<<8;return 0!=(32768&r)?r-65536:r},kha_graphics2_truetype_StbTruetype.ttULONG=function(e,t){null==t&&(t=0);var a=e.readU8(t),r=e.readU8(t+1),i=e.readU8(t+2);return e.readU8(t+3)|i<<8|r<<16|a<<24},kha_graphics2_truetype_StbTruetype.ttLONG=function(e,t){null==t&&(t=0);var a=e.readU8(t),r=e.readU8(t+1),i=e.readU8(t+2);return e.readU8(t+3)|i<<8|r<<16|a<<24},kha_graphics2_truetype_StbTruetype.ttFixed=function(e,t){null==t&&(t=0);var a=e.readU8(t),r=e.readU8(t+1),i=e.readU8(t+2);
return e.readU8(t+3)|i<<8|r<<16|a<<24},kha_graphics2_truetype_StbTruetype.stbtt_tag4=function(e,t,a,r,i,s){return e.readU8(t)==a&&e.readU8(t+1)==r&&e.readU8(t+2)==i&&e.readU8(t+3)==s},kha_graphics2_truetype_StbTruetype.stbtt_tag=function(e,t,a){var r=HxOverrides.cca(a,0),i=HxOverrides.cca(a,1),s=HxOverrides.cca(a,2),n=HxOverrides.cca(a,3);return e.readU8(t)==r&&e.readU8(t+1)==i&&e.readU8(t+2)==s&&e.readU8(t+3)==n},kha_graphics2_truetype_StbTruetype.stbtt__isfont=function(e){var t=HxOverrides.cca("1",0);if(e.readU8(0)==t&&0==e.readU8(1)&&0==e.readU8(2)&&0==e.readU8(3))return!0;var a=HxOverrides.cca("typ1",0),r=HxOverrides.cca("typ1",1),i=HxOverrides.cca("typ1",2),s=HxOverrides.cca("typ1",3);if(e.readU8(0)==a&&e.readU8(1)==r&&e.readU8(2)==i&&e.readU8(3)==s)return!0;var n=HxOverrides.cca("OTTO",0),_=HxOverrides.cca("OTTO",1),o=HxOverrides.cca("OTTO",2),h=HxOverrides.cca("OTTO",3);return e.readU8(0)==n&&e.readU8(1)==_&&e.readU8(2)==o&&e.readU8(3)==h||0==e.readU8(0)&&1==e.readU8(1)&&0==e.readU8(2)&&0==e.readU8(3)},kha_graphics2_truetype_StbTruetype.stbtt__find_table=function(e,t,a){for(var r=t+4,i=e.readU8(r),s=e.readU8(r+1)|i<<8,n=t+12,_=0;_<s;){var o=n+16*_++,h=HxOverrides.cca(a,0),l=HxOverrides.cca(a,1),c=HxOverrides.cca(a,2),d=HxOverrides.cca(a,3);if(e.readU8(o)==h&&e.readU8(o+1)==l&&e.readU8(o+2)==c&&e.readU8(o+3)==d){var u=o+8,g=e.readU8(u),p=e.readU8(u+1),m=e.readU8(u+2);return e.readU8(u+3)|m<<8|p<<16|g<<24}}return 0},kha_graphics2_truetype_StbTruetype.stbtt_GetFontOffsetForIndex=function(e,t){if(kha_graphics2_truetype_StbTruetype.stbtt__isfont(e))return 0==t?0:-1;var a=HxOverrides.cca("ttcf",0),r=HxOverrides.cca("ttcf",1),i=HxOverrides.cca("ttcf",2),s=HxOverrides.cca("ttcf",3);if(e.readU8(0)==a&&e.readU8(1)==r&&e.readU8(2)==i&&e.readU8(3)==s){var n,_=e.readU8(4),o=e.readU8(5),h=e.readU8(6);if(65536!=(e.readU8(7)|h<<8|o<<16|_<<24)){var l=e.readU8(4),c=e.readU8(5),d=e.readU8(6);n=131072==(e.readU8(7)|d<<8|c<<16|l<<24)}else n=!0;if(n){var u=e.readU8(8),g=e.readU8(9),p=e.readU8(10);if(t>=(e.readU8(11)|p<<8|g<<16|u<<24))return-1;var m=12+4*t,f=e.readU8(m),v=e.readU8(m+1),k=e.readU8(m+2);return e.readU8(m+3)|k<<8|v<<16|f<<24}}return-1},kha_graphics2_truetype_StbTruetype.stbtt_InitFont=function(e,t,a){var r,i,s;if(e.data=t,e.fontstart=a,r=kha_graphics2_truetype_StbTruetype.stbtt__find_table(t,a,"cmap"),e.loca=kha_graphics2_truetype_StbTruetype.stbtt__find_table(t,a,"loca"),e.head=kha_graphics2_truetype_StbTruetype.stbtt__find_table(t,a,"head"),e.glyf=kha_graphics2_truetype_StbTruetype.stbtt__find_table(t,a,"glyf"),e.hhea=kha_graphics2_truetype_StbTruetype.stbtt__find_table(t,a,"hhea"),e.hmtx=kha_graphics2_truetype_StbTruetype.stbtt__find_table(t,a,"hmtx"),e.kern=kha_graphics2_truetype_StbTruetype.stbtt__find_table(t,a,"kern"),0==r||0==e.loca||0==e.head||0==e.glyf||0==e.hhea||0==e.hmtx)return!1;if(i=kha_graphics2_truetype_StbTruetype.stbtt__find_table(t,a,"maxp"),0!=i){var n=i+4,_=t.readU8(n);e.numGlyphs=t.readU8(n+1)|_<<8}else e.numGlyphs=65535;var o=r+2,h=t.readU8(o);s=t.readU8(o+1)|h<<8,e.index_map=0;for(var l=0;l<s;){var c=r+4+8*l++,d=t.readU8(c);switch(t.readU8(c+1)|d<<8){case 0:var u=c+4,g=t.readU8(u),p=t.readU8(u+1),m=t.readU8(u+2);e.index_map=r+(t.readU8(u+3)|m<<8|p<<16|g<<24);break;case 3:var f=c+2,v=t.readU8(f);switch(t.readU8(f+1)|v<<8){case 1:case 10:var k=c+4,y=t.readU8(k),b=t.readU8(k+1),I=t.readU8(k+2);e.index_map=r+(t.readU8(k+3)|I<<8|b<<16|y<<24)}}}if(0==e.index_map)return!1;var S=e.head+50,x=t.readU8(S);return e.indexToLocFormat=t.readU8(S+1)|x<<8,!0},kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex=function(e,t){var a=e.data,r=e.index_map,i=a.readU8(r),s=a.readU8(r+1)|i<<8;if(0==s){var n=r+2,_=a.readU8(n);return t<(a.readU8(n+1)|_<<8)-6?a.readU8(r+6+t):0}if(6==s){var o=r+6,h=a.readU8(o),l=a.readU8(o+1)|h<<8,c=r+8,d=a.readU8(c),u=a.readU8(c+1)|d<<8;if(t>=l&&t<l+u){var g=r+10+2*(t-l),p=a.readU8(g);return a.readU8(g+1)|p<<8}return 0}if(2==s)throw new js__$Boot_HaxeError("Error");if(4==s){var m=r+6,f=a.readU8(m),v=(a.readU8(m+1)|f<<8)>>1,k=r+8,y=a.readU8(k),b=(a.readU8(k+1)|y<<8)>>1,I=r+10,S=a.readU8(I),x=a.readU8(I+1)|S<<8,C=r+12,w=a.readU8(C),B=(a.readU8(C+1)|w<<8)>>1,A=r+14,T=A;if(t>65535)return 0;var M=A+2*B,V=a.readU8(M);for(t>=(a.readU8(M+1)|V<<8)&&(T=A+2*B),T-=2;0!=x;){var D;b>>=1;var F=T+2*b,R=a.readU8(F);D=a.readU8(F+1)|R<<8,t>D&&(T+=2*b),--x}T+=2;var E,G,N=T-A>>1,j=A+2*N,z=a.readU8(j);if(t>(a.readU8(j+1)|z<<8))throw new js__$Boot_HaxeError("Error");var P=r+14+2*v+2+2*N,H=a.readU8(P);if(G=a.readU8(P+1)|H<<8,t<G)return 0;var Z=r+14+6*v+2+2*N,K=a.readU8(Z);if(E=a.readU8(Z+1)|K<<8,0==E){var W=r+14+4*v+2+2*N,L=a.readU8(W),$=a.readU8(W+1)|L<<8;return t+(0!=(32768&$)?$-65536:$)}var U=E+2*(t-G)+r+14+6*v+2+2*N,O=a.readU8(U);return a.readU8(U+1)|O<<8}if(12==s||13==s){var Y,X,Q=r+12,J=a.readU8(Q),q=a.readU8(Q+1),ee=a.readU8(Q+2),te=a.readU8(Q+3)|ee<<8|q<<16|J<<24;for(Y=0,X=te;Y<X;){var ae=Y+(X-Y>>1),re=r+16+12*ae,ie=a.readU8(re),se=a.readU8(re+1),ne=a.readU8(re+2),_e=a.readU8(re+3)|ne<<8|se<<16|ie<<24,oe=r+16+12*ae+4,he=a.readU8(oe),le=a.readU8(oe+1),ce=a.readU8(oe+2),de=a.readU8(oe+3)|ce<<8|le<<16|he<<24;if(t<_e)X=ae;else{if(!(t>de)){var ue=r+16+12*ae+8,ge=a.readU8(ue),pe=a.readU8(ue+1),me=a.readU8(ue+2),fe=a.readU8(ue+3)|me<<8|pe<<16|ge<<24;return 12==s?fe+t-_e:fe}Y=ae+1}}return 0}throw new js__$Boot_HaxeError("Error")},kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointShape=function(e,t){return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphShape(e,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(e,t))},kha_graphics2_truetype_StbTruetype.stbtt_setvertex=function(e,t,a,r,i,s){e.type=t,e.x=a,e.y=r,e.cx=i,e.cy=s},kha_graphics2_truetype_StbTruetype.stbtt__GetGlyfOffset=function(e,t){var a,r;if(t>=e.numGlyphs)return-1;if(e.indexToLocFormat>=2)return-1;if(0==e.indexToLocFormat){var i=e.glyf,s=e.data,n=e.loca+2*t,_=s.readU8(n);a=i+2*(s.readU8(n+1)|_<<8);var o=e.glyf,h=e.data,l=e.loca+2*t+2,c=h.readU8(l);r=o+2*(h.readU8(l+1)|c<<8)}else{var d=e.data,u=e.loca+4*t,g=d.readU8(u),p=d.readU8(u+1),m=d.readU8(u+2),f=d.readU8(u+3)|m<<8|p<<16|g<<24;a=e.glyf+f;var v=e.data,k=e.loca+4*t+4,y=v.readU8(k),b=v.readU8(k+1),I=v.readU8(k+2),S=v.readU8(k+3)|I<<8|b<<16|y<<24;r=e.glyf+S}return a==r?-1:a},kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBox=function(e,t,a){var r=kha_graphics2_truetype_StbTruetype.stbtt__GetGlyfOffset(e,t);if(r<0)return!1;var i=e.data,s=r+2,n=i.readU8(s),_=i.readU8(s+1)|n<<8;a.x0=0!=(32768&_)?_-65536:_;var o=e.data,h=r+4,l=o.readU8(h),c=o.readU8(h+1)|l<<8;a.y0=0!=(32768&c)?c-65536:c;var d=e.data,u=r+6,g=d.readU8(u),p=d.readU8(u+1)|g<<8;a.x1=0!=(32768&p)?p-65536:p;var m=e.data,f=r+8,v=m.readU8(f),k=m.readU8(f+1)|v<<8;return a.y1=0!=(32768&k)?k-65536:k,!0},kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBox=function(e,t,a){return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBox(e,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(e,t),a)},kha_graphics2_truetype_StbTruetype.stbtt_IsGlyphEmpty=function(e,t){var a,r=kha_graphics2_truetype_StbTruetype.stbtt__GetGlyfOffset(e,t);if(r<0)return!0;var i=e.data,s=i.readU8(r),n=i.readU8(r+1)|s<<8;return a=0!=(32768&n)?n-65536:n,0==a},kha_graphics2_truetype_StbTruetype.stbtt__close_shape=function(e,t,a,r,i,s,n,_,o,h){return r?(a&&kha_graphics2_truetype_StbTruetype.stbtt_setvertex(e[t++],3,o+n>>1,h+_>>1,o,h),kha_graphics2_truetype_StbTruetype.stbtt_setvertex(e[t++],3,i,s,n,_)):a?kha_graphics2_truetype_StbTruetype.stbtt_setvertex(e[t++],3,i,s,o,h):kha_graphics2_truetype_StbTruetype.stbtt_setvertex(e[t++],2,i,s,0,0),t},kha_graphics2_truetype_StbTruetype.copyVertices=function(e,t,a,r){for(var i=0;i<r;){var s=i++;t[a+s]=e[s]}},kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphShape=function(e,t){var a,r,i=e.data,s=null,n=0,_=kha_graphics2_truetype_StbTruetype.stbtt__GetGlyfOffset(e,t);if(_<0)return null;var o=i.readU8(_),h=i.readU8(_+1)|o<<8;if(a=0!=(32768&h)?h-65536:h,a>0){var l,c,d,u,g,p,m,f,v,k,y,b,I,S=0,x=0,C=0,w=0,B=!1,A=!1,T=0;r=i.sub(_+10,i.get_length()-(_+10));var M=_+10+2*a,V=i.readU8(M);c=i.readU8(M+1)|V<<8,I=i.sub(_+10+2*a+2+c,i.get_length()-(_+10+2*a+2+c));var D=2*a-2,F=r.readU8(D);if(u=1+(r.readU8(D+1)|F<<8),d=u+2*a,s=new Array(d),null==s)return null;for(var R=0,E=s.length;R<E;)s[R++]=new kha_graphics2_truetype_Stbtt_$vertex;C=0,l=0,w=d-u;for(var G=0,N=u;G<N;){var j=G++;0==l?(S=I.readU8(T++),0!=(8&S)&&(l=I.readU8(T++))):--l,s[w+j].type=S}g=0;for(var z=0,P=u;z<P;){var H=z++;if(S=s[w+H].type,0!=(2&S)){var Z=I.readU8(T++);g+=0!=(16&S)?Z:-Z}else if(0==(16&S)){var K,W=I.readU8(T),L=I.readU8(T+1)|W<<8;K=0!=(32768&L)?L-65536:L,g+=K,T+=2}s[w+H].x=g}p=0;for(var $=0,U=u;$<U;){var O=$++;if(S=s[w+O].type,0!=(4&S)){var Y=I.readU8(T++);p+=0!=(32&S)?Y:-Y}else if(0==(32&S)){var X,Q=I.readU8(T),J=I.readU8(T+1)|Q<<8;X=0!=(32768&J)?J-65536:J,p+=X,T+=2}s[w+O].y=p}n=0,b=0,y=b,f=y,m=f,k=m,v=k;for(var q=0;q<u;){if(S=s[w+q].type,g=s[w+q].x,p=s[w+q].y,C==q){0!=q&&(n=kha_graphics2_truetype_StbTruetype.stbtt__close_shape(s,n,B,A,v,k,y,b,m,f)),A=0==(1&S),A?(y=g,b=p,0==(1&s[w+q+1].type)?(v=g+s[w+q+1].x>>1,k=p+s[w+q+1].y>>1):(v=s[w+q+1].x,k=s[w+q+1].y,++q)):(v=g,k=p),kha_graphics2_truetype_StbTruetype.stbtt_setvertex(s[n++],1,v,k,0,0),B=!1;var ee=2*x,te=r.readU8(ee);C=1+(r.readU8(ee+1)|te<<8),++x}else 0==(1&S)?(B&&kha_graphics2_truetype_StbTruetype.stbtt_setvertex(s[n++],3,m+g>>1,f+p>>1,m,f),m=g,f=p,B=!0):(B?kha_graphics2_truetype_StbTruetype.stbtt_setvertex(s[n++],3,g,p,m,f):kha_graphics2_truetype_StbTruetype.stbtt_setvertex(s[n++],2,g,p,0,0),B=!1);++q}n=kha_graphics2_truetype_StbTruetype.stbtt__close_shape(s,n,B,A,v,k,y,b,m,f)}else if(a==-1){var ae=1,re=i.sub(_+10,i.get_length()-(_+10)),ie=0;for(n=0,s=null;0!=ae;){var se,ne,_e,oe,he=0,le=null,ce=null,de=1,ue=0,ge=0,pe=1,me=0,fe=0,ve=re.readU8(ie),ke=re.readU8(ie+1)|ve<<8;se=0!=(32768&ke)?ke-65536:ke,ie+=2;var ye=re.readU8(ie),be=re.readU8(ie+1)|ye<<8;if(ne=0!=(32768&be)?be-65536:be,ie+=2,0==(2&se))throw new js__$Boot_HaxeError("Error");if(0!=(1&se)){var Ie=re.readU8(ie),Se=re.readU8(ie+1)|Ie<<8;me=0!=(32768&Se)?Se-65536:Se,ie+=2;var xe=re.readU8(ie),Ce=re.readU8(ie+1)|xe<<8;fe=0!=(32768&Ce)?Ce-65536:Ce,ie+=2}else{var we=re.readU8(ie);me=we>=128?we-256:we,++ie;var Be=re.readU8(ie);fe=Be>=128?Be-256:Be,++ie}if(0!=(8&se)){var Ae=re.readU8(ie),Te=re.readU8(ie+1)|Ae<<8;pe=(0!=(32768&Te)?Te-65536:Te)/16384,de=pe,ie+=2,ge=0,ue=ge}else if(0!=(64&se)){var Me=re.readU8(ie),Ve=re.readU8(ie+1)|Me<<8;de=(0!=(32768&Ve)?Ve-65536:Ve)/16384,ie+=2,ge=0,ue=ge;var De=re.readU8(ie),Fe=re.readU8(ie+1)|De<<8;pe=(0!=(32768&Fe)?Fe-65536:Fe)/16384,ie+=2}else if(0!=(128&se)){var Re=re.readU8(ie),Ee=re.readU8(ie+1)|Re<<8;de=(0!=(32768&Ee)?Ee-65536:Ee)/16384,ie+=2;var Ge=re.readU8(ie),Ne=re.readU8(ie+1)|Ge<<8;ue=(0!=(32768&Ne)?Ne-65536:Ne)/16384,ie+=2;var je=re.readU8(ie),ze=re.readU8(ie+1)|je<<8;ge=(0!=(32768&ze)?ze-65536:ze)/16384,ie+=2;var Pe=re.readU8(ie),He=re.readU8(ie+1)|Pe<<8;pe=(0!=(32768&He)?He-65536:He)/16384,ie+=2}if(_e=Math.sqrt(de*de+ue*ue),oe=Math.sqrt(ge*ge+pe*pe),le=kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphShape(e,ne),he=null==le?0:le.length,he>0){for(var Ze=0,Ke=he;Ze<Ke;){var We,Le,$e=le[Ze++];We=$e.x,Le=$e.y,$e.x=_e*(de*We+ge*Le+me)|0,$e.y=oe*(ue*We+pe*Le+fe)|0,We=$e.cx,Le=$e.cy,$e.cx=_e*(de*We+ge*Le+me)|0,$e.cy=oe*(ue*We+pe*Le+fe)|0}if(ce=new Array(n+he),null==ce)return null;n>0&&kha_graphics2_truetype_StbTruetype.copyVertices(s,ce,0,n),kha_graphics2_truetype_StbTruetype.copyVertices(le,ce,n,he),s=ce,n+=he}ae=32&se}}else if(a<0)throw new js__$Boot_HaxeError("Error");if(null==s)return null;if(s.length<n)throw new js__$Boot_HaxeError("Error");if(n<s.length){var Ue=new Array(n);return kha_graphics2_truetype_StbTruetype.copyVertices(s,Ue,0,n),Ue}return s},kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphHMetrics=function(e,t){var a=e.data,r=e.hhea+34,i=a.readU8(r),s=a.readU8(r+1)|i<<8,n=new kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics;if(t<s){var _=e.data,o=e.hmtx+4*t,h=_.readU8(o),l=_.readU8(o+1)|h<<8;n.advanceWidth=0!=(32768&l)?l-65536:l;var c=e.data,d=e.hmtx+4*t+2,u=c.readU8(d),g=c.readU8(d+1)|u<<8;n.leftSideBearing=0!=(32768&g)?g-65536:g}else{var p=e.data,m=e.hmtx+4*(s-1),f=p.readU8(m),v=p.readU8(m+1)|f<<8;n.advanceWidth=0!=(32768&v)?v-65536:v;var k=e.data,y=e.hmtx+4*s+2*(t-s),b=k.readU8(y),I=k.readU8(y+1)|b<<8;n.leftSideBearing=0!=(32768&I)?I-65536:I}return n},kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphKernAdvance=function(e,t,a){var r,i,s,n,_,o=e.data.sub(e.kern,e.data.get_length()-e.kern);if(0==e.kern)return 0;var h=o.readU8(2);if((o.readU8(3)|h<<8)<1)return 0;var l=o.readU8(8);if(1!=(o.readU8(9)|l<<8))return 0;s=0;var c=o.readU8(10);for(n=(o.readU8(11)|c<<8)-1,r=t<<16|a;s<=n;){_=s+n>>1;var d=18+6*_,u=o.readU8(d),g=o.readU8(d+1),p=o.readU8(d+2);if(i=o.readU8(d+3)|p<<8|g<<16|u<<24,r<i)n=_-1;else{if(!(r>i)){var m=22+6*_,f=o.readU8(m),v=o.readU8(m+1)|f<<8;return 0!=(32768&v)?v-65536:v}s=_+1}}return 0},kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointKernAdvance=function(e,t,a){return 0==e.kern?0:kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphKernAdvance(e,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(e,t),kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(e,a))},kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointHMetrics=function(e,t){return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphHMetrics(e,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(e,t))},kha_graphics2_truetype_StbTruetype.stbtt_GetFontVMetrics=function(e){var t=new kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics,a=e.data,r=e.hhea+4,i=a.readU8(r),s=a.readU8(r+1)|i<<8;t.ascent=0!=(32768&s)?s-65536:s;var n=e.data,_=e.hhea+6,o=n.readU8(_),h=n.readU8(_+1)|o<<8;t.descent=0!=(32768&h)?h-65536:h;var l=e.data,c=e.hhea+8,d=l.readU8(c),u=l.readU8(c+1)|d<<8;return t.lineGap=0!=(32768&u)?u-65536:u,t},kha_graphics2_truetype_StbTruetype.stbtt_GetFontBoundingBox=function(e){var t=new kha_graphics2_truetype_Stbtt_$temp_$rect,a=e.data,r=e.head+36,i=a.readU8(r),s=a.readU8(r+1)|i<<8;t.x0=0!=(32768&s)?s-65536:s;var n=e.data,_=e.head+38,o=n.readU8(_),h=n.readU8(_+1)|o<<8;t.y0=0!=(32768&h)?h-65536:h;var l=e.data,c=e.head+40,d=l.readU8(c),u=l.readU8(c+1)|d<<8;t.x1=0!=(32768&u)?u-65536:u;var g=e.data,p=e.head+42,m=g.readU8(p),f=g.readU8(p+1)|m<<8;return t.y1=0!=(32768&f)?f-65536:f,t},kha_graphics2_truetype_StbTruetype.stbtt_ScaleForPixelHeight=function(e,t){var a=e.data,r=e.hhea+4,i=a.readU8(r),s=a.readU8(r+1)|i<<8,n=0!=(32768&s)?s-65536:s,_=e.data,o=e.hhea+6,h=_.readU8(o),l=_.readU8(o+1)|h<<8;return t/(n-(0!=(32768&l)?l-65536:l))},kha_graphics2_truetype_StbTruetype.stbtt_ScaleForMappingEmToPixels=function(e,t){var a=e.data,r=e.head+18,i=a.readU8(r);return t/(a.readU8(r+1)|i<<8)},kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBoxSubpixel=function(e,t,a,r,i,s){var n=new kha_graphics2_truetype_Stbtt_$temp_$rect;if(kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBox(e,t,n)){var _=n.x0,o=n.x1,h=n.y0,l=n.y1;n.x0=Math.floor(_*a+i),n.y0=Math.floor(-l*r+s),n.x1=Math.ceil(o*a+i),n.y1=Math.ceil(-h*r+s)}else n.x0=0,n.y0=0,n.x1=0,n.y1=0;return n},kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBox=function(e,t,a,r){return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBoxSubpixel(e,t,a,r,0,0)},kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBitmapBoxSubpixel=function(e,t,a,r,i,s){return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBoxSubpixel(e,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(e,t),a,r,i,s)},kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBitmapBox=function(e,t,a,r){return kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBitmapBoxSubpixel(e,t,a,r,0,0)},kha_graphics2_truetype_StbTruetype.stbtt__new_active=function(e,t,a,r){var i=new kha_graphics2_truetype_Stbtt_$_$active_$edge,s=(e[t].x1-e[t].x0)/(e[t].y1-e[t].y0);return null==i?i:(i.fdx=s,i.fdy=0!=s?1/s:0,i.fx=e[t].x0+s*(r-e[t].y0),i.fx-=a,i.direction=e[t].invert?1:-1,i.sy=e[t].y0,i.ey=e[t].y1,i.next=null,i)},kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge=function(e,t,a,r,i,s,n,_){if(s!=_){if(!(s<_))throw new js__$Boot_HaxeError("Error");if(!(r.sy<=r.ey))throw new js__$Boot_HaxeError("Error");if(!(s>r.ey||_<r.sy)){if(s<r.sy&&(i+=(n-i)*(r.sy-s)/(_-s),s=r.sy),_>r.ey&&(n+=(n-i)*(r.ey-_)/(_-s),_=r.ey),i==a){if(!(n<=a+1))throw new js__$Boot_HaxeError("Error")}else if(i==a+1){if(!(n>=a))throw new js__$Boot_HaxeError("Error")}else if(i<=a){if(!(n<=a))throw new js__$Boot_HaxeError("Error")}else if(i>=a+1){if(!(n>=a+1))throw new js__$Boot_HaxeError("Error")}else if(!(n>=a&&n<=a+1))throw new js__$Boot_HaxeError("Error");if(i<=a&&n<=a){var o=t+a;e[o]=e[o]+r.direction*(_-s)}else if(!(i>=a+1&&n>=a+1)){if(!(i>=a&&i<=a+1&&n>=a&&n<=a+1))throw new js__$Boot_HaxeError("Error");var h=t+a;e[h]=e[h]+r.direction*(_-s)*(1-(i-a+(n-a))/2)}}}},kha_graphics2_truetype_StbTruetype.stbtt__fill_active_edges_new=function(e,t,a,r,i,s){for(var n=s+1;null!=i;){if(!(i.ey>=s))throw new js__$Boot_HaxeError("Error");if(0==i.fdx){var _=i.fx;_<r&&(_>=0?(kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,0|_,i,_,s,_,n),kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(t,a-1,_+1|0,i,_,s,_,n)):kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(t,a-1,0,i,_,s,_,n))}else{var o,h,l,c,d=i.fx,u=i.fdx,g=d+u,p=i.fdy;if(!(i.sy<=n&&i.ey>=s))throw new js__$Boot_HaxeError("Error");if(i.sy>s?(o=d+u*(i.sy-s),l=i.sy):(o=d,l=s),i.ey<n?(h=d+u*(i.ey-s),c=i.ey):(h=g,c=n),o>=0&&h>=0&&o<r&&h<r)if((0|o)==(0|h)){var m,f=0|o;if(m=c-l,!(f>=0&&f<r))throw new js__$Boot_HaxeError("Error");e[f]=e[f]+i.direction*(1-(o-f+(h-f))/2)*m;var v=a+f;t[v]=t[v]+i.direction*m}else{var k,y,b,I,S,x;if(o>h){var C;l=n-(l-s),c=n-(c-s),C=l,l=c,c=C,C=h,h=o,o=C,u=-u,p=-p,C=d,d=g,g=C}k=0|o,y=0|h,b=(k+1-d)*p+s,S=i.direction,x=S*(b-l),e[k]=e[k]+x*(1-(o-k+(k+1-k))/2),I=S*p;for(var w=k+1;w<y;){var B=w++;e[B]=e[B]+(x+I/2),x+=I}if(b+=p*(y-(k+1)),!(Math.abs(x)<=1.01))throw new js__$Boot_HaxeError("Error");e[y]=e[y]+(x+S*(1-(y-y+(h-y))/2)*(c-b));var A=a+y;t[A]=t[A]+S*(c-l)}else for(var T=0;T<r;){var M,V,D=T++,F=D,R=D+1,E=g;M=(D-d)/u+s,V=(D+1-d)/u+s,d<F&&E>R?(kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,d,s,F,M),kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,F,M,R,V),kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,R,V,E,n)):E<F&&d>R?(kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,d,s,R,V),kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,R,V,F,M),kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,F,M,E,n)):d<F&&E>F?(kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,d,s,F,M),kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,F,M,E,n)):E<F&&d>F?(kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,d,s,F,M),kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,F,M,E,n)):d<R&&E>R?(kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,d,s,R,V),kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,R,V,E,n)):E<R&&d>R?(kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,d,s,R,V),kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,R,V,E,n)):kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(e,0,D,i,d,s,E,n)}}i=i.next}},kha_graphics2_truetype_StbTruetype.stbtt__rasterize_sorted_edges=function(e,t,a,r,i,s){var n,_,o,h=null,l=0,c=0,d=0;if(e.w>64){var u=2*e.w+1;_=new Array(u)}else _=new Array(129);for(o=_,c=e.w,n=s,t[d+a].y0=s+e.h+1;l<e.h;){var g,p,m=n+0,f=n+1;g=h,p=null;for(var v=0,k=e.w;v<k;)_[v++]=0;for(var y=0,b=e.w+1;y<b;)o[c+y++]=0;for(;null!=g;){var I=g;if(I.ey<=m){if(null==p?(h=I.next,g=I.next):(p.next=I.next,g=I.next),0==I.direction)throw new js__$Boot_HaxeError("Error");I.direction=0}else p=g,g=g.next}for(;t[d].y0<=f;){if(t[d].y0!=t[d].y1){var S=kha_graphics2_truetype_StbTruetype.stbtt__new_active(t,d,i,m);if(!(S.ey>=m))throw new js__$Boot_HaxeError("Error");S.next=h,h=S}++d}null!=h&&kha_graphics2_truetype_StbTruetype.stbtt__fill_active_edges_new(_,o,c+1,e.w,h,m);for(var x=0,C=0,w=e.w;C<w;){var B,A,T=C++;x+=o[c+T],B=_[T]+x,B=255*Math.abs(B)+.5,A=0|B,A>255&&(A=255),e.pixels.writeU8(e.pixels_offset+l*e.stride+T,A)}for(p=null,g=h;null!=g;){var M=g;M.fx+=M.fdx,p=g,g=g.next}++n,++l}},kha_graphics2_truetype_StbTruetype.STBTT__COMPARE=function(e,t){return e.y0<t.y0},kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_ins_sort=function(e,t){for(var a,r=1;r<t;){var i=r++,s=e[i];for(a=i;a>0&&kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(s,e[a-1]);)e[a]=e[a-1],--a;i!=a&&(e[a]=s)}},kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_quicksort=function(e,t,a){for(;a>12;){var r,i,s,n,_,o,h;if(_=a>>1,i=kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(e[t],e[t+_]),s=kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(e[t+_],e[t+a-1]),i!=s){var l;n=kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(e[t],e[t+a-1]),l=n==s?0:a-1,r=e[t+l],e[t+l]=e[t+_],e[t+_]=r}for(r=e[t],e[t]=e[t+_],e[t+_]=r,o=1,h=a-1;;){for(;kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(e[t+o],e[t]);)++o;for(;kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(e[t],e[t+h]);)--h;if(o>=h)break;r=e[t+o],e[t+o]=e[t+h],e[t+h]=r,++o,--h}h<a-o?(kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_quicksort(e,t,h),t+=o,a-=o):(kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_quicksort(e,t+o,a-o),a=h)}},kha_graphics2_truetype_StbTruetype.stbtt__sort_edges=function(e,t){kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_quicksort(e,0,t),kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_ins_sort(e,t)},kha_graphics2_truetype_StbTruetype.stbtt__rasterize=function(e,t,a,r,i,s,n,_,o,h,l){var c,d,u,g,p=l?-s:s,m=1,f=0;d=0;for(var v=0,k=r;v<k;)d+=a[v++];if(c=new Array(d+1),null!=c){for(var y=0,b=c.length;y<b;)c[y++]=new kha_graphics2_truetype_Stbtt_$_$edge;d=0,g=0;for(var I=0,S=r;I<S;){var x=I++,C=t,w=f+g;g+=a[x],u=a[x]-1;for(var B=0,A=a[x];B<A;){var T=B++,M=T,V=u;C[w+u].y!=C[w+T].y?(c[d].invert=!1,(l?C[w+u].y>C[w+T].y:C[w+u].y<C[w+T].y)&&(c[d].invert=!0,M=u,V=T),c[d].x0=C[w+M].x*i+n,c[d].y0=(C[w+M].y*p+_)*m,c[d].x1=C[w+V].x*i+n,c[d].y1=(C[w+V].y*p+_)*m,++d,u=T):u=T}}kha_graphics2_truetype_StbTruetype.stbtt__sort_edges(c,d),kha_graphics2_truetype_StbTruetype.stbtt__rasterize_sorted_edges(e,c,d,m,o,h)}},kha_graphics2_truetype_StbTruetype.stbtt__add_point=function(e,t,a,r){null!=e&&(e[t].x=a,e[t].y=r)},kha_graphics2_truetype_StbTruetype.stbtt__tesselate_curve=function(e,t,a,r,i,s,n,_,o,h){var l=(a+2*i+n)/4,c=(r+2*s+_)/4,d=(a+n)/2-l,u=(r+_)/2-c;return h>16?1:(d*d+u*u>o?(kha_graphics2_truetype_StbTruetype.stbtt__tesselate_curve(e,t,a,r,(a+i)/2,(r+s)/2,l,c,o,h+1),kha_graphics2_truetype_StbTruetype.stbtt__tesselate_curve(e,t,l,c,(i+n)/2,(s+_)/2,n,_,o,h+1)):(kha_graphics2_truetype_StbTruetype.stbtt__add_point(e,t.value,n,_),t.value=t.value+1),1)},kha_graphics2_truetype_StbTruetype.stbtt_FlattenCurves=function(e,t,a,r,i){for(var s=null,n=0,_=a*a,o=0,h=0,l=0,c=t;l<c;)1==e[l++].type&&++o;if(i.value=o,0==o)return null;if(r.value=new Array(o),null==r.value)return i.value=0,null;for(var d=0;d<2;){var u=d++,g=0,p=0;if(1==u){if(s=new Array(n),null==s)return r.value=null,i.value=0,null;for(var m=0,f=s.length;m<f;)s[m++]=new kha_graphics2_truetype_Stbtt_$_$point}n=0,o=-1;for(var v=0,k=t;v<k;){var y=v++;switch(e[y].type){case 1:o>=0&&(r.value[o]=n-h),++o,h=n,g=e[y].x,p=e[y].y,kha_graphics2_truetype_StbTruetype.stbtt__add_point(s,n++,g,p);break;case 2:g=e[y].x,p=e[y].y,kha_graphics2_truetype_StbTruetype.stbtt__add_point(s,n++,g,p);break;case 3:var b={value:n};kha_graphics2_truetype_StbTruetype.stbtt__tesselate_curve(s,b,g,p,e[y].cx,e[y].cy,e[y].x,e[y].y,_,0),n=b.value,g=e[y].x,p=e[y].y}}r.value[o]=n-h}return s},kha_graphics2_truetype_StbTruetype.stbtt_Rasterize=function(e,t,a,r,i,s,n,_,o,h,l){var c=i>s?s:i,d=0,u=null,g={value:0},p=new kha_graphics2_truetype_VectorOfIntPointer,m=kha_graphics2_truetype_StbTruetype.stbtt_FlattenCurves(a,r,t/c,p,g);d=g.value,u=p.value,null!=m&&kha_graphics2_truetype_StbTruetype.stbtt__rasterize(e,m,u,d,i,s,n,_,o,h,l)},kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapSubpixel=function(e,t,a,r,i,s,n){var _,o,h,l,c=new kha_graphics2_truetype_Stbtt_$_$bitmap,d=kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphShape(e,s),u=d.length;if(0==t&&(t=a),0==a){if(0==t)return null;a=t}var g=kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBoxSubpixel(e,s,t,a,r,i);return _=g.x0,o=g.y0,h=g.x1,l=g.y1,c.w=h-_,c.h=l-o,c.pixels=null,n.width=c.w,n.height=c.h,n.xoff=_,n.yoff=o,0!=c.w&&0!=c.h&&(c.pixels=kha_internal_BytesBlob.alloc(c.w*c.h),null!=c.pixels&&(c.stride=c.w,kha_graphics2_truetype_StbTruetype.stbtt_Rasterize(c,.35,d,u,t,a,r,i,_,o,!0))),c.pixels},kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmap=function(e,t,a,r,i){return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapSubpixel(e,t,a,0,0,r,i)},kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmapSubpixel=function(e,t,a,r,i,s,n,_,o,h,l){var c=0,d=0,u=kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphShape(e,l),g=null==u?0:u.length,p=new kha_graphics2_truetype_Stbtt_$_$bitmap,m=kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBoxSubpixel(e,l,n,_,o,h);c=m.x0,d=m.y0,p.pixels=t,p.pixels_offset=a,p.w=r,p.h=i,p.stride=s,0!=p.w&&0!=p.h&&kha_graphics2_truetype_StbTruetype.stbtt_Rasterize(p,.35,u,g,n,_,o,h,c,d,!0)},kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmap=function(e,t,a,r,i,s,n,_,o){kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmapSubpixel(e,t,a,r,i,s,n,_,0,0,o)},kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBitmapSubpixel=function(e,t,a,r,i,s,n){return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapSubpixel(e,t,a,r,i,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(e,s),n)},kha_graphics2_truetype_StbTruetype.stbtt_MakeCodepointBitmapSubpixel=function(e,t,a,r,i,s,n,_,o,h,l){kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmapSubpixel(e,t,a,r,i,s,n,_,o,h,kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(e,l))},kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBitmap=function(e,t,a,r,i){return kha_graphics2_truetype_StbTruetype.stbtt_GetCodepointBitmapSubpixel(e,t,a,0,0,r,i)},kha_graphics2_truetype_StbTruetype.stbtt_MakeCodepointBitmap=function(e,t,a,r,i,s,n,_,o){kha_graphics2_truetype_StbTruetype.stbtt_MakeCodepointBitmapSubpixel(e,t,a,r,i,s,n,_,0,0,o)},kha_graphics2_truetype_StbTruetype.stbtt_BakeFontBitmap=function(e,t,a,r,i,s,n,_){var o,h,l,c,d=new kha_graphics2_truetype_Stbtt_$fontinfo;if(!kha_graphics2_truetype_StbTruetype.stbtt_InitFont(d,e,t))return-1;for(var u=0,g=i*s;u<g;)r.writeU8(u++,0);l=1,h=1,c=1,o=kha_graphics2_truetype_StbTruetype.stbtt_ScaleForPixelHeight(d,a);for(var p=0,m=0;m<n.length;){var f=n[m];++m;var v,k,y,b,I,S,x,C=kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(d,f);v=kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphHMetrics(d,C).advanceWidth;var w=kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBox(d,C,o,o);if(k=w.x0,y=w.y0,b=w.x1,I=w.y1,S=b-k,x=I-y,h+S+1>=i&&(l=c,h=1),l+x+1>=s)return-p;if(h+S>=i)throw new js__$Boot_HaxeError("Error");if(l+x>=s)throw new js__$Boot_HaxeError("Error");kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmap(d,r,h+l*i,S,x,i,o,o,C),_[p].x0=h,_[p].y0=l,_[p].x1=h+S,_[p].y1=l+x,_[p].xadvance=o*v,_[p].xoff=k,_[p].yoff=y,h=h+S+1,l+x+1>c&&(c=l+x+1),++p}return c},kha_graphics2_truetype_StbTruetype.stbtt_GetBakedQuad=function(e,t,a,r,i,s,n,_){var o=_?0:-.5,h=1/t,l=1/a,c=e[r],d=Math.floor(i.value+c.xoff+.5),u=Math.floor(s.value+c.yoff+.5);n.x0=d+o,n.y0=u+o,n.x1=d+c.x1-c.x0+o,n.y1=u+c.y1-c.y0+o,n.s0=c.x0*h,n.t0=c.y0*l,n.s1=c.x1*h,n.t1=c.y1*l,i.value+=c.xadvance};var kha_graphics4_BlendingFactor=$hxClasses["kha.graphics4.BlendingFactor"]={__ename__:["kha","graphics4","BlendingFactor"],__constructs__:["Undefined","BlendOne","BlendZero","SourceAlpha","DestinationAlpha","InverseSourceAlpha","InverseDestinationAlpha","SourceColor","DestinationColor","InverseSourceColor","InverseDestinationColor"]};kha_graphics4_BlendingFactor.Undefined=["Undefined",0],kha_graphics4_BlendingFactor.Undefined.toString=$estr,kha_graphics4_BlendingFactor.Undefined.__enum__=kha_graphics4_BlendingFactor,kha_graphics4_BlendingFactor.BlendOne=["BlendOne",1],kha_graphics4_BlendingFactor.BlendOne.toString=$estr,kha_graphics4_BlendingFactor.BlendOne.__enum__=kha_graphics4_BlendingFactor,kha_graphics4_BlendingFactor.BlendZero=["BlendZero",2],kha_graphics4_BlendingFactor.BlendZero.toString=$estr,kha_graphics4_BlendingFactor.BlendZero.__enum__=kha_graphics4_BlendingFactor,kha_graphics4_BlendingFactor.SourceAlpha=["SourceAlpha",3],kha_graphics4_BlendingFactor.SourceAlpha.toString=$estr,kha_graphics4_BlendingFactor.SourceAlpha.__enum__=kha_graphics4_BlendingFactor,kha_graphics4_BlendingFactor.DestinationAlpha=["DestinationAlpha",4],kha_graphics4_BlendingFactor.DestinationAlpha.toString=$estr,kha_graphics4_BlendingFactor.DestinationAlpha.__enum__=kha_graphics4_BlendingFactor,kha_graphics4_BlendingFactor.InverseSourceAlpha=["InverseSourceAlpha",5],kha_graphics4_BlendingFactor.InverseSourceAlpha.toString=$estr,kha_graphics4_BlendingFactor.InverseSourceAlpha.__enum__=kha_graphics4_BlendingFactor,kha_graphics4_BlendingFactor.InverseDestinationAlpha=["InverseDestinationAlpha",6],kha_graphics4_BlendingFactor.InverseDestinationAlpha.toString=$estr,kha_graphics4_BlendingFactor.InverseDestinationAlpha.__enum__=kha_graphics4_BlendingFactor,kha_graphics4_BlendingFactor.SourceColor=["SourceColor",7],kha_graphics4_BlendingFactor.SourceColor.toString=$estr,kha_graphics4_BlendingFactor.SourceColor.__enum__=kha_graphics4_BlendingFactor,kha_graphics4_BlendingFactor.DestinationColor=["DestinationColor",8],kha_graphics4_BlendingFactor.DestinationColor.toString=$estr,kha_graphics4_BlendingFactor.DestinationColor.__enum__=kha_graphics4_BlendingFactor,kha_graphics4_BlendingFactor.InverseSourceColor=["InverseSourceColor",9],kha_graphics4_BlendingFactor.InverseSourceColor.toString=$estr,kha_graphics4_BlendingFactor.InverseSourceColor.__enum__=kha_graphics4_BlendingFactor,kha_graphics4_BlendingFactor.InverseDestinationColor=["InverseDestinationColor",10],kha_graphics4_BlendingFactor.InverseDestinationColor.toString=$estr,kha_graphics4_BlendingFactor.InverseDestinationColor.__enum__=kha_graphics4_BlendingFactor;var kha_graphics4_BlendingOperation=$hxClasses["kha.graphics4.BlendingOperation"]={__ename__:["kha","graphics4","BlendingOperation"],__constructs__:["Add","Subtract","ReverseSubtract","Min","Max"]};kha_graphics4_BlendingOperation.Add=["Add",0],kha_graphics4_BlendingOperation.Add.toString=$estr,kha_graphics4_BlendingOperation.Add.__enum__=kha_graphics4_BlendingOperation,kha_graphics4_BlendingOperation.Subtract=["Subtract",1],kha_graphics4_BlendingOperation.Subtract.toString=$estr,kha_graphics4_BlendingOperation.Subtract.__enum__=kha_graphics4_BlendingOperation,kha_graphics4_BlendingOperation.ReverseSubtract=["ReverseSubtract",2],kha_graphics4_BlendingOperation.ReverseSubtract.toString=$estr,kha_graphics4_BlendingOperation.ReverseSubtract.__enum__=kha_graphics4_BlendingOperation,kha_graphics4_BlendingOperation.Min=["Min",3],kha_graphics4_BlendingOperation.Min.toString=$estr,kha_graphics4_BlendingOperation.Min.__enum__=kha_graphics4_BlendingOperation,kha_graphics4_BlendingOperation.Max=["Max",4],kha_graphics4_BlendingOperation.Max.toString=$estr,kha_graphics4_BlendingOperation.Max.__enum__=kha_graphics4_BlendingOperation;var kha_graphics4_CompareMode=$hxClasses["kha.graphics4.CompareMode"]={__ename__:["kha","graphics4","CompareMode"],__constructs__:["Always","Never","Equal","NotEqual","Less","LessEqual","Greater","GreaterEqual"]};kha_graphics4_CompareMode.Always=["Always",0],kha_graphics4_CompareMode.Always.toString=$estr,kha_graphics4_CompareMode.Always.__enum__=kha_graphics4_CompareMode,kha_graphics4_CompareMode.Never=["Never",1],kha_graphics4_CompareMode.Never.toString=$estr,kha_graphics4_CompareMode.Never.__enum__=kha_graphics4_CompareMode,kha_graphics4_CompareMode.Equal=["Equal",2],
kha_graphics4_CompareMode.Equal.toString=$estr,kha_graphics4_CompareMode.Equal.__enum__=kha_graphics4_CompareMode,kha_graphics4_CompareMode.NotEqual=["NotEqual",3],kha_graphics4_CompareMode.NotEqual.toString=$estr,kha_graphics4_CompareMode.NotEqual.__enum__=kha_graphics4_CompareMode,kha_graphics4_CompareMode.Less=["Less",4],kha_graphics4_CompareMode.Less.toString=$estr,kha_graphics4_CompareMode.Less.__enum__=kha_graphics4_CompareMode,kha_graphics4_CompareMode.LessEqual=["LessEqual",5],kha_graphics4_CompareMode.LessEqual.toString=$estr,kha_graphics4_CompareMode.LessEqual.__enum__=kha_graphics4_CompareMode,kha_graphics4_CompareMode.Greater=["Greater",6],kha_graphics4_CompareMode.Greater.toString=$estr,kha_graphics4_CompareMode.Greater.__enum__=kha_graphics4_CompareMode,kha_graphics4_CompareMode.GreaterEqual=["GreaterEqual",7],kha_graphics4_CompareMode.GreaterEqual.toString=$estr,kha_graphics4_CompareMode.GreaterEqual.__enum__=kha_graphics4_CompareMode;var kha_graphics4_ConstantLocation=function(){};$hxClasses["kha.graphics4.ConstantLocation"]=kha_graphics4_ConstantLocation,kha_graphics4_ConstantLocation.__name__=["kha","graphics4","ConstantLocation"];var kha_graphics4_CubeMap=function(){};$hxClasses["kha.graphics4.CubeMap"]=kha_graphics4_CubeMap,kha_graphics4_CubeMap.__name__=["kha","graphics4","CubeMap"],kha_graphics4_CubeMap.prototype={__class__:kha_graphics4_CubeMap,__properties__:{get_size:"get_size"}};var kha_graphics4_CullMode=$hxClasses["kha.graphics4.CullMode"]={__ename__:["kha","graphics4","CullMode"],__constructs__:["Clockwise","CounterClockwise","None"]};kha_graphics4_CullMode.Clockwise=["Clockwise",0],kha_graphics4_CullMode.Clockwise.toString=$estr,kha_graphics4_CullMode.Clockwise.__enum__=kha_graphics4_CullMode,kha_graphics4_CullMode.CounterClockwise=["CounterClockwise",1],kha_graphics4_CullMode.CounterClockwise.toString=$estr,kha_graphics4_CullMode.CounterClockwise.__enum__=kha_graphics4_CullMode,kha_graphics4_CullMode.None=["None",2],kha_graphics4_CullMode.None.toString=$estr,kha_graphics4_CullMode.None.__enum__=kha_graphics4_CullMode;var kha_graphics4_FragmentShader=function(e,t){this.source=e.toString(),this.type=35632,this.shader=null};$hxClasses["kha.graphics4.FragmentShader"]=kha_graphics4_FragmentShader,kha_graphics4_FragmentShader.__name__=["kha","graphics4","FragmentShader"],kha_graphics4_FragmentShader.prototype={delete:function(){kha_SystemImpl.gl.deleteShader(this.shader),this.shader=null,this.source=null},__class__:kha_graphics4_FragmentShader};var kha_graphics4_GeometryShader=function(e){};$hxClasses["kha.graphics4.GeometryShader"]=kha_graphics4_GeometryShader,kha_graphics4_GeometryShader.__name__=["kha","graphics4","GeometryShader"],kha_graphics4_GeometryShader.prototype={delete:function(){},__class__:kha_graphics4_GeometryShader};var kha_graphics4_Graphics=function(){};$hxClasses["kha.graphics4.Graphics"]=kha_graphics4_Graphics,kha_graphics4_Graphics.__name__=["kha","graphics4","Graphics"],kha_graphics4_Graphics.prototype={__class__:kha_graphics4_Graphics};var kha_graphics4_ImageShaderPainter=function(e){this.destinationBlend=kha_graphics4_BlendingFactor.Undefined,this.sourceBlend=kha_graphics4_BlendingFactor.Undefined,this.myPipeline=null,this.bilinearMipmaps=!1,this.bilinear=!1,this.g=e,this.bufferIndex=0,kha_graphics4_ImageShaderPainter.initShaders(),this.initBuffers(),this.projectionLocation=kha_graphics4_ImageShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix"),this.textureLocation=kha_graphics4_ImageShaderPainter.shaderPipeline.getTextureUnit("tex")};$hxClasses["kha.graphics4.ImageShaderPainter"]=kha_graphics4_ImageShaderPainter,kha_graphics4_ImageShaderPainter.__name__=["kha","graphics4","ImageShaderPainter"],kha_graphics4_ImageShaderPainter.initShaders=function(){null==kha_graphics4_ImageShaderPainter.shaderPipeline&&(kha_graphics4_ImageShaderPainter.shaderPipeline=new kha_graphics4_PipelineState,kha_graphics4_ImageShaderPainter.shaderPipeline.fragmentShader=kha_Shaders.painter_image_frag,kha_graphics4_ImageShaderPainter.shaderPipeline.vertexShader=kha_Shaders.painter_image_vert,kha_graphics4_ImageShaderPainter.structure=new kha_graphics4_VertexStructure,kha_graphics4_ImageShaderPainter.structure.add("vertexPosition",kha_graphics4_VertexData.Float3),kha_graphics4_ImageShaderPainter.structure.add("texPosition",kha_graphics4_VertexData.Float2),kha_graphics4_ImageShaderPainter.structure.add("vertexColor",kha_graphics4_VertexData.Float4),kha_graphics4_ImageShaderPainter.shaderPipeline.inputLayout=[kha_graphics4_ImageShaderPainter.structure],kha_graphics4_ImageShaderPainter.shaderPipeline.blendSource=kha_graphics4_BlendingFactor.BlendOne,kha_graphics4_ImageShaderPainter.shaderPipeline.blendDestination=kha_graphics4_BlendingFactor.InverseSourceAlpha,kha_graphics4_ImageShaderPainter.shaderPipeline.alphaBlendSource=kha_graphics4_BlendingFactor.SourceAlpha,kha_graphics4_ImageShaderPainter.shaderPipeline.alphaBlendDestination=kha_graphics4_BlendingFactor.InverseSourceAlpha,kha_graphics4_ImageShaderPainter.shaderPipeline.compile())},kha_graphics4_ImageShaderPainter.prototype={get_pipeline:function(){return this.myPipeline},set_pipeline:function(e){return null==e?(this.projectionLocation=kha_graphics4_ImageShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix"),this.textureLocation=kha_graphics4_ImageShaderPainter.shaderPipeline.getTextureUnit("tex")):(this.projectionLocation=e.getConstantLocation("projectionMatrix"),this.textureLocation=e.getTextureUnit("tex")),this.myPipeline=e},setProjection:function(e){this.projectionMatrix=e},initBuffers:function(){this.rectVertexBuffer=new kha_graphics4_VertexBuffer(4*kha_graphics4_ImageShaderPainter.bufferSize,kha_graphics4_ImageShaderPainter.structure,kha_graphics4_Usage.DynamicUsage),this.rectVertices=this.rectVertexBuffer.lock(),this.indexBuffer=new kha_graphics4_IndexBuffer(3*kha_graphics4_ImageShaderPainter.bufferSize*2,kha_graphics4_Usage.StaticUsage);for(var e=this.indexBuffer.lock(),t=0,a=kha_graphics4_ImageShaderPainter.bufferSize;t<a;){var r=t++;e[3*r*2]=4*r,e[3*r*2+1]=4*r+1,e[3*r*2+2]=4*r+2,e[3*r*2+3]=4*r,e[3*r*2+4]=4*r+2,e[3*r*2+5]=4*r+3}this.indexBuffer.unlock()},setRectVertices:function(e,t,a,r,i,s,n,_){var o=this.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;this.rectVertices[o]=e,this.rectVertices[o+1]=t,this.rectVertices[o+2]=-5,this.rectVertices[o+9]=a,this.rectVertices[o+10]=r,this.rectVertices[o+11]=-5,this.rectVertices[o+18]=i,this.rectVertices[o+19]=s,this.rectVertices[o+20]=-5,this.rectVertices[o+27]=n,this.rectVertices[o+28]=_,this.rectVertices[o+29]=-5},setRectTexCoords:function(e,t,a,r){var i=this.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;this.rectVertices[i+3]=e,this.rectVertices[i+4]=r,this.rectVertices[i+12]=e,this.rectVertices[i+13]=t,this.rectVertices[i+21]=a,this.rectVertices[i+22]=t,this.rectVertices[i+30]=a,this.rectVertices[i+31]=r},setRectColor:function(e,t,a,r){var i=this.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;this.rectVertices[i+5]=e,this.rectVertices[i+6]=t,this.rectVertices[i+7]=a,this.rectVertices[i+8]=r,this.rectVertices[i+14]=e,this.rectVertices[i+15]=t,this.rectVertices[i+16]=a,this.rectVertices[i+17]=r,this.rectVertices[i+23]=e,this.rectVertices[i+24]=t,this.rectVertices[i+25]=a,this.rectVertices[i+26]=r,this.rectVertices[i+32]=e,this.rectVertices[i+33]=t,this.rectVertices[i+34]=a,this.rectVertices[i+35]=r},drawBuffer:function(){this.rectVertexBuffer.unlock(),this.g.setVertexBuffer(this.rectVertexBuffer),this.g.setIndexBuffer(this.indexBuffer),this.g.setPipeline(null==this.get_pipeline()?kha_graphics4_ImageShaderPainter.shaderPipeline:this.get_pipeline()),this.g.setTexture(this.textureLocation,this.lastTexture),this.g.setTextureParameters(this.textureLocation,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,this.bilinear?kha_graphics4_TextureFilter.LinearFilter:kha_graphics4_TextureFilter.PointFilter,this.bilinear?kha_graphics4_TextureFilter.LinearFilter:kha_graphics4_TextureFilter.PointFilter,this.bilinearMipmaps?kha_graphics4_MipMapFilter.LinearMipFilter:kha_graphics4_MipMapFilter.NoMipFilter),this.g.setMatrix(this.projectionLocation,this.projectionMatrix),this.g.drawIndexedVertices(0,2*this.bufferIndex*3),this.g.setTexture(this.textureLocation,null),this.bufferIndex=0,this.rectVertices=this.rectVertexBuffer.lock()},setBilinearFilter:function(e){this.end(),this.bilinear=e},setBilinearMipmapFilter:function(e){this.end(),this.bilinearMipmaps=e},drawImage:function(e,t,a,r,i,s,n,_,o,h,l){(this.bufferIndex+1>=kha_graphics4_ImageShaderPainter.bufferSize||null!=this.lastTexture&&e!=this.lastTexture)&&this.drawBuffer();var c=.00392156862745098*((16711680&l)>>>16),d=.00392156862745098*((65280&l)>>>8),u=.00392156862745098*(255&l),g=.00392156862745098*(l>>>24)*h,p=this.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;this.rectVertices[p+5]=c,this.rectVertices[p+6]=d,this.rectVertices[p+7]=u,this.rectVertices[p+8]=g,this.rectVertices[p+14]=c,this.rectVertices[p+15]=d,this.rectVertices[p+16]=u,this.rectVertices[p+17]=g,this.rectVertices[p+23]=c,this.rectVertices[p+24]=d,this.rectVertices[p+25]=u,this.rectVertices[p+26]=g,this.rectVertices[p+32]=c,this.rectVertices[p+33]=d,this.rectVertices[p+34]=u,this.rectVertices[p+35]=g;var m=e.get_width()/e.get_realWidth(),f=e.get_height()/e.get_realHeight(),v=this.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;this.rectVertices[v+3]=0,this.rectVertices[v+4]=f,this.rectVertices[v+12]=0,this.rectVertices[v+13]=0,this.rectVertices[v+21]=m,this.rectVertices[v+22]=0,this.rectVertices[v+30]=m,this.rectVertices[v+31]=f;var k=this.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;this.rectVertices[k]=t,this.rectVertices[k+1]=a,this.rectVertices[k+2]=-5,this.rectVertices[k+9]=r,this.rectVertices[k+10]=i,this.rectVertices[k+11]=-5,this.rectVertices[k+18]=s,this.rectVertices[k+19]=n,this.rectVertices[k+20]=-5,this.rectVertices[k+27]=_,this.rectVertices[k+28]=o,this.rectVertices[k+29]=-5,++this.bufferIndex,this.lastTexture=e},drawImage2:function(e,t,a,r,i,s,n,_,o,h,l,c,d,u,g){(this.bufferIndex+1>=kha_graphics4_ImageShaderPainter.bufferSize||null!=this.lastTexture&&e!=this.lastTexture)&&this.drawBuffer();var p=t/e.get_realWidth(),m=a/e.get_realHeight(),f=(t+r)/e.get_realWidth(),v=(a+i)/e.get_realHeight(),k=this.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;this.rectVertices[k+3]=p,this.rectVertices[k+4]=v,this.rectVertices[k+12]=p,this.rectVertices[k+13]=m,this.rectVertices[k+21]=f,this.rectVertices[k+22]=m,this.rectVertices[k+30]=f,this.rectVertices[k+31]=v;var y=.00392156862745098*((16711680&g)>>>16),b=.00392156862745098*((65280&g)>>>8),I=.00392156862745098*(255&g),S=.00392156862745098*(g>>>24)*u,x=this.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;this.rectVertices[x+5]=y,this.rectVertices[x+6]=b,this.rectVertices[x+7]=I,this.rectVertices[x+8]=S,this.rectVertices[x+14]=y,this.rectVertices[x+15]=b,this.rectVertices[x+16]=I,this.rectVertices[x+17]=S,this.rectVertices[x+23]=y,this.rectVertices[x+24]=b,this.rectVertices[x+25]=I,this.rectVertices[x+26]=S,this.rectVertices[x+32]=y,this.rectVertices[x+33]=b,this.rectVertices[x+34]=I,this.rectVertices[x+35]=S;var C=this.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;this.rectVertices[C]=s,this.rectVertices[C+1]=n,this.rectVertices[C+2]=-5,this.rectVertices[C+9]=_,this.rectVertices[C+10]=o,this.rectVertices[C+11]=-5,this.rectVertices[C+18]=h,this.rectVertices[C+19]=l,this.rectVertices[C+20]=-5,this.rectVertices[C+27]=c,this.rectVertices[C+28]=d,this.rectVertices[C+29]=-5,++this.bufferIndex,this.lastTexture=e},drawImageScale:function(e,t,a,r,i,s,n,_,o,h,l){(this.bufferIndex+1>=kha_graphics4_ImageShaderPainter.bufferSize||null!=this.lastTexture&&e!=this.lastTexture)&&this.drawBuffer();var c=t/e.get_realWidth(),d=a/e.get_realHeight(),u=(t+r)/e.get_realWidth(),g=(a+i)/e.get_realHeight(),p=this.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;this.rectVertices[p+3]=c,this.rectVertices[p+4]=g,this.rectVertices[p+12]=c,this.rectVertices[p+13]=d,this.rectVertices[p+21]=u,this.rectVertices[p+22]=d,this.rectVertices[p+30]=u,this.rectVertices[p+31]=g;var m=.00392156862745098*((16711680&l)>>>16),f=.00392156862745098*((65280&l)>>>8),v=.00392156862745098*(255&l),k=this.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;this.rectVertices[k+5]=m,this.rectVertices[k+6]=f,this.rectVertices[k+7]=v,this.rectVertices[k+8]=h,this.rectVertices[k+14]=m,this.rectVertices[k+15]=f,this.rectVertices[k+16]=v,this.rectVertices[k+17]=h,this.rectVertices[k+23]=m,this.rectVertices[k+24]=f,this.rectVertices[k+25]=v,this.rectVertices[k+26]=h,this.rectVertices[k+32]=m,this.rectVertices[k+33]=f,this.rectVertices[k+34]=v,this.rectVertices[k+35]=h;var y=this.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;this.rectVertices[y]=s,this.rectVertices[y+1]=o,this.rectVertices[y+2]=-5,this.rectVertices[y+9]=s,this.rectVertices[y+10]=n,this.rectVertices[y+11]=-5,this.rectVertices[y+18]=_,this.rectVertices[y+19]=n,this.rectVertices[y+20]=-5,this.rectVertices[y+27]=_,this.rectVertices[y+28]=o,this.rectVertices[y+29]=-5,++this.bufferIndex,this.lastTexture=e},end:function(){this.bufferIndex>0&&this.drawBuffer(),this.lastTexture=null},__class__:kha_graphics4_ImageShaderPainter,__properties__:{set_pipeline:"set_pipeline",get_pipeline:"get_pipeline"}};var kha_graphics4_ColoredShaderPainter=function(e){this.destinationBlend=kha_graphics4_BlendingFactor.Undefined,this.sourceBlend=kha_graphics4_BlendingFactor.Undefined,this.myPipeline=null,this.g=e,this.bufferIndex=0,this.triangleBufferIndex=0,kha_graphics4_ColoredShaderPainter.initShaders(),this.initBuffers(),this.projectionLocation=kha_graphics4_ColoredShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix")};$hxClasses["kha.graphics4.ColoredShaderPainter"]=kha_graphics4_ColoredShaderPainter,kha_graphics4_ColoredShaderPainter.__name__=["kha","graphics4","ColoredShaderPainter"],kha_graphics4_ColoredShaderPainter.initShaders=function(){null==kha_graphics4_ColoredShaderPainter.shaderPipeline&&(kha_graphics4_ColoredShaderPainter.shaderPipeline=new kha_graphics4_PipelineState,kha_graphics4_ColoredShaderPainter.shaderPipeline.fragmentShader=kha_Shaders.painter_colored_frag,kha_graphics4_ColoredShaderPainter.shaderPipeline.vertexShader=kha_Shaders.painter_colored_vert,kha_graphics4_ColoredShaderPainter.structure=new kha_graphics4_VertexStructure,kha_graphics4_ColoredShaderPainter.structure.add("vertexPosition",kha_graphics4_VertexData.Float3),kha_graphics4_ColoredShaderPainter.structure.add("vertexColor",kha_graphics4_VertexData.Float4),kha_graphics4_ColoredShaderPainter.shaderPipeline.inputLayout=[kha_graphics4_ColoredShaderPainter.structure],kha_graphics4_ColoredShaderPainter.shaderPipeline.blendSource=kha_graphics4_BlendingFactor.SourceAlpha,kha_graphics4_ColoredShaderPainter.shaderPipeline.blendDestination=kha_graphics4_BlendingFactor.InverseSourceAlpha,kha_graphics4_ColoredShaderPainter.shaderPipeline.alphaBlendSource=kha_graphics4_BlendingFactor.SourceAlpha,kha_graphics4_ColoredShaderPainter.shaderPipeline.alphaBlendDestination=kha_graphics4_BlendingFactor.InverseSourceAlpha,kha_graphics4_ColoredShaderPainter.shaderPipeline.compile())},kha_graphics4_ColoredShaderPainter.prototype={get_pipeline:function(){return this.myPipeline},set_pipeline:function(e){return null==e?this.projectionLocation=kha_graphics4_ColoredShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix"):this.projectionLocation=e.getConstantLocation("projectionMatrix"),this.myPipeline=e},setProjection:function(e){this.projectionMatrix=e},initBuffers:function(){this.rectVertexBuffer=new kha_graphics4_VertexBuffer(4*kha_graphics4_ColoredShaderPainter.bufferSize,kha_graphics4_ColoredShaderPainter.structure,kha_graphics4_Usage.DynamicUsage),this.rectVertices=this.rectVertexBuffer.lock(),this.indexBuffer=new kha_graphics4_IndexBuffer(3*kha_graphics4_ColoredShaderPainter.bufferSize*2,kha_graphics4_Usage.StaticUsage);for(var e=this.indexBuffer.lock(),t=0,a=kha_graphics4_ColoredShaderPainter.bufferSize;t<a;){var r=t++;e[3*r*2]=4*r,e[3*r*2+1]=4*r+1,e[3*r*2+2]=4*r+2,e[3*r*2+3]=4*r,e[3*r*2+4]=4*r+2,e[3*r*2+5]=4*r+3}this.indexBuffer.unlock(),this.triangleVertexBuffer=new kha_graphics4_VertexBuffer(3*kha_graphics4_ColoredShaderPainter.triangleBufferSize,kha_graphics4_ColoredShaderPainter.structure,kha_graphics4_Usage.DynamicUsage),this.triangleVertices=this.triangleVertexBuffer.lock(),this.triangleIndexBuffer=new kha_graphics4_IndexBuffer(3*kha_graphics4_ColoredShaderPainter.triangleBufferSize,kha_graphics4_Usage.StaticUsage);for(var i=this.triangleIndexBuffer.lock(),s=0,n=kha_graphics4_ColoredShaderPainter.bufferSize;s<n;){var _=s++;i[3*_]=3*_,i[3*_+1]=3*_+1,i[3*_+2]=3*_+2}this.triangleIndexBuffer.unlock()},setRectVertices:function(e,t,a,r,i,s,n,_){var o=7*this.bufferIndex*4;this.rectVertices[o]=e,this.rectVertices[o+1]=t,this.rectVertices[o+2]=-5,this.rectVertices[o+7]=a,this.rectVertices[o+8]=r,this.rectVertices[o+9]=-5,this.rectVertices[o+14]=i,this.rectVertices[o+15]=s,this.rectVertices[o+16]=-5,this.rectVertices[o+21]=n,this.rectVertices[o+22]=_,this.rectVertices[o+23]=-5},setRectColors:function(e,t){var a=7*this.bufferIndex*4,r=e*(.00392156862745098*(t>>>24));this.rectVertices[a+3]=.00392156862745098*((16711680&t)>>>16),this.rectVertices[a+4]=.00392156862745098*((65280&t)>>>8),this.rectVertices[a+5]=.00392156862745098*(255&t),this.rectVertices[a+6]=r,this.rectVertices[a+10]=.00392156862745098*((16711680&t)>>>16),this.rectVertices[a+11]=.00392156862745098*((65280&t)>>>8),this.rectVertices[a+12]=.00392156862745098*(255&t),this.rectVertices[a+13]=r,this.rectVertices[a+17]=.00392156862745098*((16711680&t)>>>16),this.rectVertices[a+18]=.00392156862745098*((65280&t)>>>8),this.rectVertices[a+19]=.00392156862745098*(255&t),this.rectVertices[a+20]=r,this.rectVertices[a+24]=.00392156862745098*((16711680&t)>>>16),this.rectVertices[a+25]=.00392156862745098*((65280&t)>>>8),this.rectVertices[a+26]=.00392156862745098*(255&t),this.rectVertices[a+27]=r},setTriVertices:function(e,t,a,r,i,s){var n=7*this.triangleBufferIndex*3;this.triangleVertices[n]=e,this.triangleVertices[n+1]=t,this.triangleVertices[n+2]=-5,this.triangleVertices[n+7]=a,this.triangleVertices[n+8]=r,this.triangleVertices[n+9]=-5,this.triangleVertices[n+14]=i,this.triangleVertices[n+15]=s,this.triangleVertices[n+16]=-5},setTriColors:function(e,t){var a=7*this.triangleBufferIndex*3,r=e*(.00392156862745098*(t>>>24));this.triangleVertices[a+3]=.00392156862745098*((16711680&t)>>>16),this.triangleVertices[a+4]=.00392156862745098*((65280&t)>>>8),this.triangleVertices[a+5]=.00392156862745098*(255&t),this.triangleVertices[a+6]=r,this.triangleVertices[a+10]=.00392156862745098*((16711680&t)>>>16),this.triangleVertices[a+11]=.00392156862745098*((65280&t)>>>8),this.triangleVertices[a+12]=.00392156862745098*(255&t),this.triangleVertices[a+13]=r,this.triangleVertices[a+17]=.00392156862745098*((16711680&t)>>>16),this.triangleVertices[a+18]=.00392156862745098*((65280&t)>>>8),this.triangleVertices[a+19]=.00392156862745098*(255&t),this.triangleVertices[a+20]=r},drawBuffer:function(e){e||this.triangleBufferIndex>0&&this.drawTriBuffer(!0),this.rectVertexBuffer.unlock(),this.g.setVertexBuffer(this.rectVertexBuffer),this.g.setIndexBuffer(this.indexBuffer),this.g.setPipeline(null==this.get_pipeline()?kha_graphics4_ColoredShaderPainter.shaderPipeline:this.get_pipeline()),this.g.setMatrix(this.projectionLocation,this.projectionMatrix),this.g.drawIndexedVertices(0,2*this.bufferIndex*3),this.bufferIndex=0,this.rectVertices=this.rectVertexBuffer.lock()},drawTriBuffer:function(e){e||this.bufferIndex>0&&this.drawBuffer(!0),this.triangleVertexBuffer.unlock(),this.g.setVertexBuffer(this.triangleVertexBuffer),this.g.setIndexBuffer(this.triangleIndexBuffer),this.g.setPipeline(null==this.get_pipeline()?kha_graphics4_ColoredShaderPainter.shaderPipeline:this.get_pipeline()),this.g.setMatrix(this.projectionLocation,this.projectionMatrix),this.g.drawIndexedVertices(0,3*this.triangleBufferIndex),this.triangleBufferIndex=0,this.triangleVertices=this.triangleVertexBuffer.lock()},fillRect:function(e,t,a,r,i,s,n,_,o,h){this.triangleBufferIndex>0&&this.drawTriBuffer(!0),this.bufferIndex+1>=kha_graphics4_ColoredShaderPainter.bufferSize&&this.drawBuffer(!1),this.setRectColors(e,t),this.setRectVertices(a,r,i,s,n,_,o,h),++this.bufferIndex},fillTriangle:function(e,t,a,r,i,s,n,_){this.bufferIndex>0&&this.drawBuffer(!0),this.triangleBufferIndex+1>=kha_graphics4_ColoredShaderPainter.triangleBufferSize&&this.drawTriBuffer(!1),this.setTriColors(e,t),this.setTriVertices(a,r,i,s,n,_),++this.triangleBufferIndex},endTris:function(e){this.triangleBufferIndex>0&&this.drawTriBuffer(e)},endRects:function(e){this.bufferIndex>0&&this.drawBuffer(e)},end:function(){this.triangleBufferIndex>0&&this.drawTriBuffer(!1),this.bufferIndex>0&&this.drawBuffer(!1)},__class__:kha_graphics4_ColoredShaderPainter,__properties__:{set_pipeline:"set_pipeline",get_pipeline:"get_pipeline"}};var kha_graphics4_TextShaderPainter=function(e){this.destinationBlend=kha_graphics4_BlendingFactor.Undefined,this.sourceBlend=kha_graphics4_BlendingFactor.Undefined,this.bilinear=!1,this.myPipeline=null,this.g=e,this.bufferIndex=0,kha_graphics4_TextShaderPainter.initShaders(),this.initBuffers(),this.projectionLocation=kha_graphics4_TextShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix"),this.textureLocation=kha_graphics4_TextShaderPainter.shaderPipeline.getTextureUnit("tex")};$hxClasses["kha.graphics4.TextShaderPainter"]=kha_graphics4_TextShaderPainter,kha_graphics4_TextShaderPainter.__name__=["kha","graphics4","TextShaderPainter"],kha_graphics4_TextShaderPainter.initShaders=function(){null==kha_graphics4_TextShaderPainter.shaderPipeline&&(kha_graphics4_TextShaderPainter.shaderPipeline=new kha_graphics4_PipelineState,kha_graphics4_TextShaderPainter.shaderPipeline.fragmentShader=kha_Shaders.painter_text_frag,kha_graphics4_TextShaderPainter.shaderPipeline.vertexShader=kha_Shaders.painter_text_vert,kha_graphics4_TextShaderPainter.structure=new kha_graphics4_VertexStructure,kha_graphics4_TextShaderPainter.structure.add("vertexPosition",kha_graphics4_VertexData.Float3),kha_graphics4_TextShaderPainter.structure.add("texPosition",kha_graphics4_VertexData.Float2),kha_graphics4_TextShaderPainter.structure.add("vertexColor",kha_graphics4_VertexData.Float4),kha_graphics4_TextShaderPainter.shaderPipeline.inputLayout=[kha_graphics4_TextShaderPainter.structure],kha_graphics4_TextShaderPainter.shaderPipeline.blendSource=kha_graphics4_BlendingFactor.SourceAlpha,kha_graphics4_TextShaderPainter.shaderPipeline.blendDestination=kha_graphics4_BlendingFactor.InverseSourceAlpha,kha_graphics4_TextShaderPainter.shaderPipeline.alphaBlendSource=kha_graphics4_BlendingFactor.SourceAlpha,kha_graphics4_TextShaderPainter.shaderPipeline.alphaBlendDestination=kha_graphics4_BlendingFactor.InverseSourceAlpha,kha_graphics4_TextShaderPainter.shaderPipeline.compile())},kha_graphics4_TextShaderPainter.findIndex=function(e,t){for(var a=0,r=t.length;a<r;){var i=a++;if(t[i]==e)return i}return 0},kha_graphics4_TextShaderPainter.prototype={get_pipeline:function(){return this.myPipeline},set_pipeline:function(e){return null==e?(this.projectionLocation=kha_graphics4_TextShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix"),this.textureLocation=kha_graphics4_TextShaderPainter.shaderPipeline.getTextureUnit("tex")):(this.projectionLocation=e.getConstantLocation("projectionMatrix"),this.textureLocation=e.getTextureUnit("tex")),this.myPipeline=e},setProjection:function(e){this.projectionMatrix=e},initBuffers:function(){this.rectVertexBuffer=new kha_graphics4_VertexBuffer(4*kha_graphics4_TextShaderPainter.bufferSize,kha_graphics4_TextShaderPainter.structure,kha_graphics4_Usage.DynamicUsage),this.rectVertices=this.rectVertexBuffer.lock(),this.indexBuffer=new kha_graphics4_IndexBuffer(3*kha_graphics4_TextShaderPainter.bufferSize*2,kha_graphics4_Usage.StaticUsage);for(var e=this.indexBuffer.lock(),t=0,a=kha_graphics4_TextShaderPainter.bufferSize;t<a;){var r=t++;e[3*r*2]=4*r,e[3*r*2+1]=4*r+1,e[3*r*2+2]=4*r+2,e[3*r*2+3]=4*r,e[3*r*2+4]=4*r+2,e[3*r*2+5]=4*r+3}this.indexBuffer.unlock()},setRectVertices:function(e,t,a,r,i,s,n,_){var o=9*this.bufferIndex*4;this.rectVertices[o]=e,this.rectVertices[o+1]=t,this.rectVertices[o+2]=-5,this.rectVertices[o+9]=a,this.rectVertices[o+10]=r,this.rectVertices[o+11]=-5,this.rectVertices[o+18]=i,this.rectVertices[o+19]=s,this.rectVertices[o+20]=-5,this.rectVertices[o+27]=n,this.rectVertices[o+28]=_,this.rectVertices[o+29]=-5},setRectTexCoords:function(e,t,a,r){var i=9*this.bufferIndex*4;this.rectVertices[i+3]=e,this.rectVertices[i+4]=r,this.rectVertices[i+12]=e,this.rectVertices[i+13]=t,this.rectVertices[i+21]=a,this.rectVertices[i+22]=t,this.rectVertices[i+30]=a,this.rectVertices[i+31]=r},setRectColors:function(e,t){var a=9*this.bufferIndex*4,r=e*(.00392156862745098*(t>>>24));this.rectVertices[a+5]=.00392156862745098*((16711680&t)>>>16),this.rectVertices[a+6]=.00392156862745098*((65280&t)>>>8),this.rectVertices[a+7]=.00392156862745098*(255&t),this.rectVertices[a+8]=r,this.rectVertices[a+14]=.00392156862745098*((16711680&t)>>>16),this.rectVertices[a+15]=.00392156862745098*((65280&t)>>>8),this.rectVertices[a+16]=.00392156862745098*(255&t),this.rectVertices[a+17]=r,this.rectVertices[a+23]=.00392156862745098*((16711680&t)>>>16),this.rectVertices[a+24]=.00392156862745098*((65280&t)>>>8),this.rectVertices[a+25]=.00392156862745098*(255&t),this.rectVertices[a+26]=r,this.rectVertices[a+32]=.00392156862745098*((16711680&t)>>>16),this.rectVertices[a+33]=.00392156862745098*((65280&t)>>>8),this.rectVertices[a+34]=.00392156862745098*(255&t),this.rectVertices[a+35]=r},drawBuffer:function(){this.rectVertexBuffer.unlock(),this.g.setVertexBuffer(this.rectVertexBuffer),this.g.setIndexBuffer(this.indexBuffer),this.g.setPipeline(null==this.get_pipeline()?kha_graphics4_TextShaderPainter.shaderPipeline:this.get_pipeline()),this.g.setTexture(this.textureLocation,this.lastTexture),this.g.setMatrix(this.projectionLocation,this.projectionMatrix),this.g.setTextureParameters(this.textureLocation,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,this.bilinear?kha_graphics4_TextureFilter.LinearFilter:kha_graphics4_TextureFilter.PointFilter,this.bilinear?kha_graphics4_TextureFilter.LinearFilter:kha_graphics4_TextureFilter.PointFilter,kha_graphics4_MipMapFilter.NoMipFilter),this.g.drawIndexedVertices(0,2*this.bufferIndex*3),this.g.setTexture(this.textureLocation,null),this.bufferIndex=0,this.rectVertices=this.rectVertexBuffer.lock()},setBilinearFilter:function(e){this.end(),this.bilinear=e},setFont:function(e){this.font=js_Boot.__cast(e,kha_Kravur)},startString:function(e){this.text=e},charCodeAt:function(e){return HxOverrides.cca(this.text,e)},stringLength:function(){return this.text.length},endString:function(){this.text=null},drawString:function(e,t,a,r,i,s,n){var _=this.font._get(this.fontSize,n),o=_.getTexture();null!=this.lastTexture&&o!=this.lastTexture&&this.drawBuffer(),this.lastTexture=o;var h=r;this.startString(e);for(var l=0,c=this.stringLength();l<c;){var d=_.getBakedQuad(kha_graphics4_TextShaderPainter.findIndex(this.charCodeAt(l++),n),h,i);if(null!=d){this.bufferIndex+1>=kha_graphics4_TextShaderPainter.bufferSize&&this.drawBuffer(),this.setRectColors(t,a),this.setRectTexCoords(d.s0*o.get_width()/o.get_realWidth(),d.t0*o.get_height()/o.get_realHeight(),d.s1*o.get_width()/o.get_realWidth(),d.t1*o.get_height()/o.get_realHeight());var u=d.x0,g=d.y1,p=s._02*u+s._12*g+s._22,m=(s._00*u+s._10*g+s._20)/p,f=(s._01*u+s._11*g+s._21)/p,v=d.x0,k=d.y0,y=s._02*v+s._12*k+s._22,b=(s._00*v+s._10*k+s._20)/y,I=(s._01*v+s._11*k+s._21)/y,S=d.x1,x=d.y0,C=s._02*S+s._12*x+s._22,w=(s._00*S+s._10*x+s._20)/C,B=(s._01*S+s._11*x+s._21)/C,A=d.x1,T=d.y1,M=s._02*A+s._12*T+s._22;this.setRectVertices(m,f,b,I,w,B,(s._00*A+s._10*T+s._20)/M,(s._01*A+s._11*T+s._21)/M),h+=d.xadvance,++this.bufferIndex}}this.endString()},end:function(){this.bufferIndex>0&&this.drawBuffer(),this.lastTexture=null},__class__:kha_graphics4_TextShaderPainter,__properties__:{set_pipeline:"set_pipeline",get_pipeline:"get_pipeline"}};var kha_graphics4_Graphics2=function(e){if(this.myMipmapScaleQuality=kha_graphics2_ImageScaleQuality.High,this.myImageScaleQuality=kha_graphics2_ImageScaleQuality.High,kha_graphics2_Graphics.call(this),this.set_color(kha__$Color_Color_$Impl_$.White),this.canvas=e,this.g=e.get_g4(),this.imagePainter=new kha_graphics4_ImageShaderPainter(this.g),this.coloredPainter=new kha_graphics4_ColoredShaderPainter(this.g),this.textPainter=new kha_graphics4_TextShaderPainter(this.g),this.textPainter.fontSize=this.get_fontSize(),this.setProjection(),null==kha_graphics4_Graphics2.videoPipeline){kha_graphics4_Graphics2.videoPipeline=new kha_graphics4_PipelineState,kha_graphics4_Graphics2.videoPipeline.fragmentShader=kha_Shaders.painter_video_frag,kha_graphics4_Graphics2.videoPipeline.vertexShader=kha_Shaders.painter_video_vert;var t=new kha_graphics4_VertexStructure;t.add("vertexPosition",kha_graphics4_VertexData.Float3),t.add("texPosition",kha_graphics4_VertexData.Float2),t.add("vertexColor",kha_graphics4_VertexData.Float4),kha_graphics4_Graphics2.videoPipeline.inputLayout=[t],kha_graphics4_Graphics2.videoPipeline.compile()}};$hxClasses["kha.graphics4.Graphics2"]=kha_graphics4_Graphics2,kha_graphics4_Graphics2.__name__=["kha","graphics4","Graphics2"],kha_graphics4_Graphics2.upperPowerOfTwo=function(e){return--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e},kha_graphics4_Graphics2.__super__=kha_graphics2_Graphics,kha_graphics4_Graphics2.prototype=$extend(kha_graphics2_Graphics.prototype,{setProjection:function(){var e=this.canvas.get_width(),t=this.canvas.get_height();js_Boot.__instanceof(this.canvas,kha_Framebuffer)?this.projectionMatrix=kha_math_FastMatrix4.orthogonalProjection(0,e,t,0,.1,1e3):(kha_Image.get_nonPow2Supported()||(e=kha_graphics4_Graphics2.upperPowerOfTwo(e),t=kha_graphics4_Graphics2.upperPowerOfTwo(t)),this.g.renderTargetsInvertedY()?this.projectionMatrix=kha_math_FastMatrix4.orthogonalProjection(0,e,0,t,.1,1e3):this.projectionMatrix=kha_math_FastMatrix4.orthogonalProjection(0,e,t,0,.1,1e3)),this.imagePainter.setProjection(this.projectionMatrix),this.coloredPainter.setProjection(this.projectionMatrix),this.textPainter.setProjection(this.projectionMatrix)},drawImage:function(e,t,a){var r=this.coloredPainter;r.triangleBufferIndex>0&&r.drawTriBuffer(!1),r.bufferIndex>0&&r.drawBuffer(!1),this.textPainter.end();var i=t+e.get_width(),s=a+e.get_height(),n=this.transformations[this.transformations.length-1],_=n._02*t+n._12*s+n._22,o=(n._00*t+n._10*s+n._20)/_,h=(n._01*t+n._11*s+n._21)/_,l=this.transformations[this.transformations.length-1],c=l._02*t+l._12*a+l._22,d=(l._00*t+l._10*a+l._20)/c,u=(l._01*t+l._11*a+l._21)/c,g=this.transformations[this.transformations.length-1],p=g._02*i+g._12*a+g._22,m=(g._00*i+g._10*a+g._20)/p,f=(g._01*i+g._11*a+g._21)/p,v=this.transformations[this.transformations.length-1],k=v._02*i+v._12*s+v._22,y=(v._00*i+v._10*s+v._20)/k,b=(v._01*i+v._11*s+v._21)/k,I=this.imagePainter,S=this.get_opacity(),x=this.get_color();(I.bufferIndex+1>=kha_graphics4_ImageShaderPainter.bufferSize||null!=I.lastTexture&&e!=I.lastTexture)&&I.drawBuffer();var C=.00392156862745098*((16711680&x)>>>16),w=.00392156862745098*((65280&x)>>>8),B=.00392156862745098*(255&x),A=.00392156862745098*(x>>>24)*S,T=I.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;I.rectVertices[T+5]=C,I.rectVertices[T+6]=w,I.rectVertices[T+7]=B,I.rectVertices[T+8]=A,I.rectVertices[T+14]=C,I.rectVertices[T+15]=w,I.rectVertices[T+16]=B,I.rectVertices[T+17]=A,I.rectVertices[T+23]=C,I.rectVertices[T+24]=w,I.rectVertices[T+25]=B,I.rectVertices[T+26]=A,I.rectVertices[T+32]=C,I.rectVertices[T+33]=w,I.rectVertices[T+34]=B,I.rectVertices[T+35]=A;var M=e.get_width()/e.get_realWidth(),V=e.get_height()/e.get_realHeight(),D=I.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;
I.rectVertices[D+3]=0,I.rectVertices[D+4]=V,I.rectVertices[D+12]=0,I.rectVertices[D+13]=0,I.rectVertices[D+21]=M,I.rectVertices[D+22]=0,I.rectVertices[D+30]=M,I.rectVertices[D+31]=V;var F=I.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;I.rectVertices[F]=o,I.rectVertices[F+1]=h,I.rectVertices[F+2]=-5,I.rectVertices[F+9]=d,I.rectVertices[F+10]=u,I.rectVertices[F+11]=-5,I.rectVertices[F+18]=m,I.rectVertices[F+19]=f,I.rectVertices[F+20]=-5,I.rectVertices[F+27]=y,I.rectVertices[F+28]=b,I.rectVertices[F+29]=-5,++I.bufferIndex,I.lastTexture=e},drawScaledSubImage:function(e,t,a,r,i,s,n,_,o){var h=this.coloredPainter;h.triangleBufferIndex>0&&h.drawTriBuffer(!1),h.bufferIndex>0&&h.drawBuffer(!1),this.textPainter.end();var l=this.transformations[this.transformations.length-1],c=n+o,d=l._02*s+l._12*c+l._22,u=(l._00*s+l._10*c+l._20)/d,g=(l._01*s+l._11*c+l._21)/d,p=this.transformations[this.transformations.length-1],m=p._02*s+p._12*n+p._22,f=(p._00*s+p._10*n+p._20)/m,v=(p._01*s+p._11*n+p._21)/m,k=this.transformations[this.transformations.length-1],y=s+_,b=k._02*y+k._12*n+k._22,I=(k._00*y+k._10*n+k._20)/b,S=(k._01*y+k._11*n+k._21)/b,x=this.transformations[this.transformations.length-1],C=s+_,w=n+o,B=x._02*C+x._12*w+x._22,A=(x._00*C+x._10*w+x._20)/B,T=(x._01*C+x._11*w+x._21)/B,M=this.imagePainter,V=this.get_opacity(),D=this.get_color();(M.bufferIndex+1>=kha_graphics4_ImageShaderPainter.bufferSize||null!=M.lastTexture&&e!=M.lastTexture)&&M.drawBuffer();var F=t/e.get_realWidth(),R=a/e.get_realHeight(),E=(t+r)/e.get_realWidth(),G=(a+i)/e.get_realHeight(),N=M.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;M.rectVertices[N+3]=F,M.rectVertices[N+4]=G,M.rectVertices[N+12]=F,M.rectVertices[N+13]=R,M.rectVertices[N+21]=E,M.rectVertices[N+22]=R,M.rectVertices[N+30]=E,M.rectVertices[N+31]=G;var j=.00392156862745098*((16711680&D)>>>16),z=.00392156862745098*((65280&D)>>>8),P=.00392156862745098*(255&D),H=.00392156862745098*(D>>>24)*V,Z=M.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;M.rectVertices[Z+5]=j,M.rectVertices[Z+6]=z,M.rectVertices[Z+7]=P,M.rectVertices[Z+8]=H,M.rectVertices[Z+14]=j,M.rectVertices[Z+15]=z,M.rectVertices[Z+16]=P,M.rectVertices[Z+17]=H,M.rectVertices[Z+23]=j,M.rectVertices[Z+24]=z,M.rectVertices[Z+25]=P,M.rectVertices[Z+26]=H,M.rectVertices[Z+32]=j,M.rectVertices[Z+33]=z,M.rectVertices[Z+34]=P,M.rectVertices[Z+35]=H;var K=M.bufferIndex*kha_graphics4_ImageShaderPainter.vertexSize*4;M.rectVertices[K]=u,M.rectVertices[K+1]=g,M.rectVertices[K+2]=-5,M.rectVertices[K+9]=f,M.rectVertices[K+10]=v,M.rectVertices[K+11]=-5,M.rectVertices[K+18]=I,M.rectVertices[K+19]=S,M.rectVertices[K+20]=-5,M.rectVertices[K+27]=A,M.rectVertices[K+28]=T,M.rectVertices[K+29]=-5,++M.bufferIndex,M.lastTexture=e},get_color:function(){return this.myColor},set_color:function(e){return this.myColor=e},drawRect:function(e,t,a,r,i){null==i&&(i=1),this.imagePainter.end(),this.textPainter.end();var s=this.transformations[this.transformations.length-1],n=e-i/2,_=t+i/2,o=s._02*n+s._12*_+s._22,h=new kha_math_FastVector2((s._00*n+s._10*_+s._20)/o,(s._01*n+s._11*_+s._21)/o),l=this.transformations[this.transformations.length-1],c=e-i/2,d=t-i/2,u=l._02*c+l._12*d+l._22,g=new kha_math_FastVector2((l._00*c+l._10*d+l._20)/u,(l._01*c+l._11*d+l._21)/u),p=this.transformations[this.transformations.length-1],m=e+a+i/2,f=t-i/2,v=p._02*m+p._12*f+p._22,k=new kha_math_FastVector2((p._00*m+p._10*f+p._20)/v,(p._01*m+p._11*f+p._21)/v),y=this.transformations[this.transformations.length-1],b=e+a+i/2,I=t+i/2,S=y._02*b+y._12*I+y._22,x=new kha_math_FastVector2((y._00*b+y._10*I+y._20)/S,(y._01*b+y._11*I+y._21)/S);this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),h.x,h.y,g.x,g.y,k.x,k.y,x.x,x.y);var C=this.transformations[this.transformations.length-1],w=e-i/2,B=t+r+i/2,A=C._02*w+C._12*B+C._22;h=new kha_math_FastVector2((C._00*w+C._10*B+C._20)/A,(C._01*w+C._11*B+C._21)/A);var T=this.transformations[this.transformations.length-1],M=e+i/2,V=t-i/2,D=T._02*M+T._12*V+T._22;k=new kha_math_FastVector2((T._00*M+T._10*V+T._20)/D,(T._01*M+T._11*V+T._21)/D);var F=this.transformations[this.transformations.length-1],R=e+i/2,E=t+r+i/2,G=F._02*R+F._12*E+F._22;x=new kha_math_FastVector2((F._00*R+F._10*E+F._20)/G,(F._01*R+F._11*E+F._21)/G),this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),h.x,h.y,g.x,g.y,k.x,k.y,x.x,x.y);var N=this.transformations[this.transformations.length-1],j=e-i/2,z=t+r-i/2,P=N._02*j+N._12*z+N._22;g=new kha_math_FastVector2((N._00*j+N._10*z+N._20)/P,(N._01*j+N._11*z+N._21)/P);var H=this.transformations[this.transformations.length-1],Z=e+a+i/2,K=t+r-i/2,W=H._02*Z+H._12*K+H._22;k=new kha_math_FastVector2((H._00*Z+H._10*K+H._20)/W,(H._01*Z+H._11*K+H._21)/W);var L=this.transformations[this.transformations.length-1],$=e+a+i/2,U=t+r+i/2,O=L._02*$+L._12*U+L._22;x=new kha_math_FastVector2((L._00*$+L._10*U+L._20)/O,(L._01*$+L._11*U+L._21)/O),this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),h.x,h.y,g.x,g.y,k.x,k.y,x.x,x.y);var Y=this.transformations[this.transformations.length-1],X=e+a-i/2,Q=t+r+i/2,J=Y._02*X+Y._12*Q+Y._22;h=new kha_math_FastVector2((Y._00*X+Y._10*Q+Y._20)/J,(Y._01*X+Y._11*Q+Y._21)/J);var q=this.transformations[this.transformations.length-1],ee=e+a-i/2,te=t-i/2,ae=q._02*ee+q._12*te+q._22;g=new kha_math_FastVector2((q._00*ee+q._10*te+q._20)/ae,(q._01*ee+q._11*te+q._21)/ae);var re=this.transformations[this.transformations.length-1],ie=e+a+i/2,se=t-i/2,ne=re._02*ie+re._12*se+re._22;k=new kha_math_FastVector2((re._00*ie+re._10*se+re._20)/ne,(re._01*ie+re._11*se+re._21)/ne);var _e=this.transformations[this.transformations.length-1],oe=e+a+i/2,he=t+r+i/2,le=_e._02*oe+_e._12*he+_e._22;x=new kha_math_FastVector2((_e._00*oe+_e._10*he+_e._20)/le,(_e._01*oe+_e._11*he+_e._21)/le),this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),h.x,h.y,g.x,g.y,k.x,k.y,x.x,x.y)},fillRect:function(e,t,a,r){this.imagePainter.end(),this.textPainter.end();var i=this.transformations[this.transformations.length-1],s=t+r,n=i._02*e+i._12*s+i._22,_=(i._00*e+i._10*s+i._20)/n,o=(i._01*e+i._11*s+i._21)/n,h=this.transformations[this.transformations.length-1],l=h._02*e+h._12*t+h._22,c=(h._00*e+h._10*t+h._20)/l,d=(h._01*e+h._11*t+h._21)/l,u=this.transformations[this.transformations.length-1],g=e+a,p=u._02*g+u._12*t+u._22,m=(u._00*g+u._10*t+u._20)/p,f=(u._01*g+u._11*t+u._21)/p,v=this.transformations[this.transformations.length-1],k=e+a,y=t+r,b=v._02*k+v._12*y+v._22,I=(v._00*k+v._10*y+v._20)/b,S=(v._01*k+v._11*y+v._21)/b;this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),_,o,c,d,m,f,I,S)},drawString:function(e,t,a){this.imagePainter.end();var r=this.coloredPainter;r.triangleBufferIndex>0&&r.drawTriBuffer(!1),r.bufferIndex>0&&r.drawBuffer(!1),this.textPainter.drawString(e,this.get_opacity(),this.get_color(),t,a,this.transformations[this.transformations.length-1],this.get_fontGlyphs())},get_font:function(){return this.myFont},set_font:function(e){return this.textPainter.setFont(e),this.myFont=e},set_fontSize:function(e){return kha_graphics2_Graphics.prototype.set_fontSize.call(this,this.textPainter.fontSize=e)},drawLine:function(e,t,a,r,i){null==i&&(i=1),this.imagePainter.end(),this.textPainter.end();var s=r==t?new kha_math_FastVector2(0,-1):new kha_math_FastVector2(1,-(a-e)/(r-t));s.set_length(i);var n=new kha_math_FastVector2(e+.5*s.x,t+.5*s.y),_=new kha_math_FastVector2(a+.5*s.x,r+.5*s.y),o=new kha_math_FastVector2(n.x-s.x,n.y-s.y),h=new kha_math_FastVector2(_.x-s.x,_.y-s.y),l=this.transformations[this.transformations.length-1],c=l._02*n.x+l._12*n.y+l._22;n=new kha_math_FastVector2((l._00*n.x+l._10*n.y+l._20)/c,(l._01*n.x+l._11*n.y+l._21)/c);var d=this.transformations[this.transformations.length-1],u=d._02*_.x+d._12*_.y+d._22;_=new kha_math_FastVector2((d._00*_.x+d._10*_.y+d._20)/u,(d._01*_.x+d._11*_.y+d._21)/u);var g=this.transformations[this.transformations.length-1],p=g._02*o.x+g._12*o.y+g._22;o=new kha_math_FastVector2((g._00*o.x+g._10*o.y+g._20)/p,(g._01*o.x+g._11*o.y+g._21)/p);var m=this.transformations[this.transformations.length-1],f=m._02*h.x+m._12*h.y+m._22;h=new kha_math_FastVector2((m._00*h.x+m._10*h.y+m._20)/f,(m._01*h.x+m._11*h.y+m._21)/f),this.coloredPainter.fillTriangle(this.get_opacity(),this.get_color(),n.x,n.y,_.x,_.y,o.x,o.y),this.coloredPainter.fillTriangle(this.get_opacity(),this.get_color(),o.x,o.y,_.x,_.y,h.x,h.y)},fillTriangle:function(e,t,a,r,i,s){this.imagePainter.end(),this.textPainter.end();var n=this.transformations[this.transformations.length-1],_=n._02*e+n._12*t+n._22,o=(n._00*e+n._10*t+n._20)/_,h=(n._01*e+n._11*t+n._21)/_,l=this.transformations[this.transformations.length-1],c=l._02*a+l._12*r+l._22,d=(l._00*a+l._10*r+l._20)/c,u=(l._01*a+l._11*r+l._21)/c,g=this.transformations[this.transformations.length-1],p=g._02*i+g._12*s+g._22,m=(g._00*i+g._10*s+g._20)/p,f=(g._01*i+g._11*s+g._21)/p;this.coloredPainter.fillTriangle(this.get_opacity(),this.get_color(),o,h,d,u,m,f)},get_imageScaleQuality:function(){return this.myImageScaleQuality},set_imageScaleQuality:function(e){return this.imagePainter.setBilinearFilter(e==kha_graphics2_ImageScaleQuality.High),this.textPainter.setBilinearFilter(e==kha_graphics2_ImageScaleQuality.High),this.myImageScaleQuality=e},get_mipmapScaleQuality:function(){return this.myMipmapScaleQuality},set_mipmapScaleQuality:function(e){return this.imagePainter.setBilinearMipmapFilter(e==kha_graphics2_ImageScaleQuality.High),this.myMipmapScaleQuality=e},setPipeline:function(e){this.flush(),this.imagePainter.set_pipeline(e),this.coloredPainter.set_pipeline(e),this.textPainter.set_pipeline(e),null!=e&&this.g.setPipeline(e)},scissor:function(e,t,a,r){this.flush(),this.g.scissor(e,t,a,r)},disableScissor:function(){this.flush(),this.g.disableScissor()},begin:function(e,t){null==e&&(e=!0),this.g.begin(),e&&this.clear(t),this.setProjection()},clear:function(e){this.flush(),this.g.clear(null==e?kha__$Color_Color_$Impl_$.Black:e)},flush:function(){this.imagePainter.end(),this.textPainter.end();var e=this.coloredPainter;e.triangleBufferIndex>0&&e.drawTriBuffer(!1),e.bufferIndex>0&&e.drawBuffer(!1)},end:function(){this.flush(),this.g.end()},drawVideoInternal:function(e,t,a,r,i){},drawVideo:function(e,t,a,r,i){this.setPipeline(kha_graphics4_Graphics2.videoPipeline),this.drawVideoInternal(e,t,a,r,i),this.setPipeline(null)},__class__:kha_graphics4_Graphics2});var kha_graphics4_IndexBuffer=function(e,t,a){null==a&&(a=!1),this.usage=t,this.mySize=e,this.buffer=kha_SystemImpl.gl.createBuffer(),this.data=[],this.data[e-1]=0};$hxClasses["kha.graphics4.IndexBuffer"]=kha_graphics4_IndexBuffer,kha_graphics4_IndexBuffer.__name__=["kha","graphics4","IndexBuffer"],kha_graphics4_IndexBuffer.prototype={delete:function(){this.data=null,kha_SystemImpl.gl.deleteBuffer(this.buffer)},lock:function(){return this.data},unlock:function(){kha_SystemImpl.gl.bindBuffer(34963,this.buffer),kha_SystemImpl.gl.bufferData(34963,new Uint16Array(this.data),this.usage==kha_graphics4_Usage.DynamicUsage?35048:35044)},set:function(){kha_SystemImpl.gl.bindBuffer(34963,this.buffer)},count:function(){return this.mySize},__class__:kha_graphics4_IndexBuffer};var kha_graphics4_MipMapFilter=$hxClasses["kha.graphics4.MipMapFilter"]={__ename__:["kha","graphics4","MipMapFilter"],__constructs__:["NoMipFilter","PointMipFilter","LinearMipFilter"]};kha_graphics4_MipMapFilter.NoMipFilter=["NoMipFilter",0],kha_graphics4_MipMapFilter.NoMipFilter.toString=$estr,kha_graphics4_MipMapFilter.NoMipFilter.__enum__=kha_graphics4_MipMapFilter,kha_graphics4_MipMapFilter.PointMipFilter=["PointMipFilter",1],kha_graphics4_MipMapFilter.PointMipFilter.toString=$estr,kha_graphics4_MipMapFilter.PointMipFilter.__enum__=kha_graphics4_MipMapFilter,kha_graphics4_MipMapFilter.LinearMipFilter=["LinearMipFilter",2],kha_graphics4_MipMapFilter.LinearMipFilter.toString=$estr,kha_graphics4_MipMapFilter.LinearMipFilter.__enum__=kha_graphics4_MipMapFilter;var kha_graphics4_PipelineStateBase=function(){this.inputLayout=null,this.vertexShader=null,this.fragmentShader=null,this.geometryShader=null,this.tessellationControlShader=null,this.tessellationEvaluationShader=null,this.cullMode=kha_graphics4_CullMode.None,this.depthWrite=!1,this.depthMode=kha_graphics4_CompareMode.Always,this.stencilMode=kha_graphics4_CompareMode.Always,this.stencilBothPass=kha_graphics4_StencilAction.Keep,this.stencilDepthFail=kha_graphics4_StencilAction.Keep,this.stencilFail=kha_graphics4_StencilAction.Keep,this.stencilReferenceValue=0,this.stencilReadMask=255,this.stencilWriteMask=255,this.blendSource=kha_graphics4_BlendingFactor.BlendOne,this.blendDestination=kha_graphics4_BlendingFactor.BlendZero,this.blendOperation=kha_graphics4_BlendingOperation.Add,this.alphaBlendSource=kha_graphics4_BlendingFactor.BlendOne,this.alphaBlendDestination=kha_graphics4_BlendingFactor.BlendZero,this.alphaBlendOperation=kha_graphics4_BlendingOperation.Add,this.colorWriteMaskRed=this.colorWriteMaskBlue=this.colorWriteMaskGreen=this.colorWriteMaskAlpha=!0};$hxClasses["kha.graphics4.PipelineStateBase"]=kha_graphics4_PipelineStateBase,kha_graphics4_PipelineStateBase.__name__=["kha","graphics4","PipelineStateBase"],kha_graphics4_PipelineStateBase.prototype={set_colorWriteMask:function(e){return this.colorWriteMaskRed=this.colorWriteMaskBlue=this.colorWriteMaskGreen=this.colorWriteMaskAlpha=e},__class__:kha_graphics4_PipelineStateBase,__properties__:{set_colorWriteMask:"set_colorWriteMask"}};var kha_graphics4_PipelineState=function(){kha_graphics4_PipelineStateBase.call(this),this.program=kha_SystemImpl.gl.createProgram(),this.textures=[],this.textureValues=[]};$hxClasses["kha.graphics4.PipelineState"]=kha_graphics4_PipelineState,kha_graphics4_PipelineState.__name__=["kha","graphics4","PipelineState"],kha_graphics4_PipelineState.__super__=kha_graphics4_PipelineStateBase,kha_graphics4_PipelineState.prototype=$extend(kha_graphics4_PipelineStateBase.prototype,{delete:function(){kha_SystemImpl.gl.deleteProgram(this.program)},compile:function(){this.compileShader(this.vertexShader),this.compileShader(this.fragmentShader),kha_SystemImpl.gl.attachShader(this.program,this.vertexShader.shader),kha_SystemImpl.gl.attachShader(this.program,this.fragmentShader.shader);for(var e=0,t=0,a=this.inputLayout;t<a.length;){var r=a[t];++t;for(var i=0,s=r.elements;i<s.length;){var n=s[i];++i,kha_SystemImpl.gl.bindAttribLocation(this.program,e,n.name),n.data==kha_graphics4_VertexData.Float4x4?e+=4:++e}}if(kha_SystemImpl.gl.linkProgram(this.program),!kha_SystemImpl.gl.getProgramParameter(this.program,35714))throw new js__$Boot_HaxeError("Could not link the shader program:\n"+kha_SystemImpl.gl.getProgramInfoLog(this.program))},set:function(){kha_SystemImpl.gl.useProgram(this.program);for(var e=0,t=this.textureValues.length;e<t;){var a=e++;kha_SystemImpl.gl.uniform1i(this.textureValues[a],a)}kha_SystemImpl.gl.colorMask(this.colorWriteMaskRed,this.colorWriteMaskGreen,this.colorWriteMaskBlue,this.colorWriteMaskAlpha)},compileShader:function(e){if(null==e.shader){var t=kha_SystemImpl.gl.createShader(e.type);if(kha_SystemImpl.gl.shaderSource(t,e.source),kha_SystemImpl.gl.compileShader(t),!kha_SystemImpl.gl.getShaderParameter(t,35713))throw new js__$Boot_HaxeError("Could not compile shader:\n"+kha_SystemImpl.gl.getShaderInfoLog(t));e.shader=t}},getConstantLocation:function(e){return new kha_js_graphics4_ConstantLocation(kha_SystemImpl.gl.getUniformLocation(this.program,e))},getTextureUnit:function(e){var t=this.findTexture(e);if(t<0){var a=kha_SystemImpl.gl.getUniformLocation(this.program,e);t=this.textures.length,this.textureValues.push(a),this.textures.push(e)}return new kha_js_graphics4_TextureUnit(t)},findTexture:function(e){for(var t=0,a=this.textures.length;t<a;){var r=t++;if(this.textures[r]==e)return r}return-1},__class__:kha_graphics4_PipelineState});var kha_graphics4_StencilAction=$hxClasses["kha.graphics4.StencilAction"]={__ename__:["kha","graphics4","StencilAction"],__constructs__:["Keep","Zero","Replace","Increment","IncrementWrap","Decrement","DecrementWrap","Invert"]};kha_graphics4_StencilAction.Keep=["Keep",0],kha_graphics4_StencilAction.Keep.toString=$estr,kha_graphics4_StencilAction.Keep.__enum__=kha_graphics4_StencilAction,kha_graphics4_StencilAction.Zero=["Zero",1],kha_graphics4_StencilAction.Zero.toString=$estr,kha_graphics4_StencilAction.Zero.__enum__=kha_graphics4_StencilAction,kha_graphics4_StencilAction.Replace=["Replace",2],kha_graphics4_StencilAction.Replace.toString=$estr,kha_graphics4_StencilAction.Replace.__enum__=kha_graphics4_StencilAction,kha_graphics4_StencilAction.Increment=["Increment",3],kha_graphics4_StencilAction.Increment.toString=$estr,kha_graphics4_StencilAction.Increment.__enum__=kha_graphics4_StencilAction,kha_graphics4_StencilAction.IncrementWrap=["IncrementWrap",4],kha_graphics4_StencilAction.IncrementWrap.toString=$estr,kha_graphics4_StencilAction.IncrementWrap.__enum__=kha_graphics4_StencilAction,kha_graphics4_StencilAction.Decrement=["Decrement",5],kha_graphics4_StencilAction.Decrement.toString=$estr,kha_graphics4_StencilAction.Decrement.__enum__=kha_graphics4_StencilAction,kha_graphics4_StencilAction.DecrementWrap=["DecrementWrap",6],kha_graphics4_StencilAction.DecrementWrap.toString=$estr,kha_graphics4_StencilAction.DecrementWrap.__enum__=kha_graphics4_StencilAction,kha_graphics4_StencilAction.Invert=["Invert",7],kha_graphics4_StencilAction.Invert.toString=$estr,kha_graphics4_StencilAction.Invert.__enum__=kha_graphics4_StencilAction;var kha_graphics4_TessellationControlShader=function(e,t){};$hxClasses["kha.graphics4.TessellationControlShader"]=kha_graphics4_TessellationControlShader,kha_graphics4_TessellationControlShader.__name__=["kha","graphics4","TessellationControlShader"],kha_graphics4_TessellationControlShader.prototype={delete:function(){},__class__:kha_graphics4_TessellationControlShader};var kha_graphics4_TessellationEvaluationShader=function(e,t){};$hxClasses["kha.graphics4.TessellationEvaluationShader"]=kha_graphics4_TessellationEvaluationShader,kha_graphics4_TessellationEvaluationShader.__name__=["kha","graphics4","TessellationEvaluationShader"],kha_graphics4_TessellationEvaluationShader.prototype={delete:function(){},__class__:kha_graphics4_TessellationEvaluationShader};var kha_graphics4_TexDir=$hxClasses["kha.graphics4.TexDir"]={__ename__:["kha","graphics4","TexDir"],__constructs__:["U","V"]};kha_graphics4_TexDir.U=["U",0],kha_graphics4_TexDir.U.toString=$estr,kha_graphics4_TexDir.U.__enum__=kha_graphics4_TexDir,kha_graphics4_TexDir.V=["V",1],kha_graphics4_TexDir.V.toString=$estr,kha_graphics4_TexDir.V.__enum__=kha_graphics4_TexDir;var kha_graphics4_TextureAddressing=$hxClasses["kha.graphics4.TextureAddressing"]={__ename__:["kha","graphics4","TextureAddressing"],__constructs__:["Repeat","Mirror","Clamp"]};kha_graphics4_TextureAddressing.Repeat=["Repeat",0],kha_graphics4_TextureAddressing.Repeat.toString=$estr,kha_graphics4_TextureAddressing.Repeat.__enum__=kha_graphics4_TextureAddressing,kha_graphics4_TextureAddressing.Mirror=["Mirror",1],kha_graphics4_TextureAddressing.Mirror.toString=$estr,kha_graphics4_TextureAddressing.Mirror.__enum__=kha_graphics4_TextureAddressing,kha_graphics4_TextureAddressing.Clamp=["Clamp",2],kha_graphics4_TextureAddressing.Clamp.toString=$estr,kha_graphics4_TextureAddressing.Clamp.__enum__=kha_graphics4_TextureAddressing;var kha_graphics4_TextureFilter=$hxClasses["kha.graphics4.TextureFilter"]={__ename__:["kha","graphics4","TextureFilter"],__constructs__:["PointFilter","LinearFilter","AnisotropicFilter"]};kha_graphics4_TextureFilter.PointFilter=["PointFilter",0],kha_graphics4_TextureFilter.PointFilter.toString=$estr,kha_graphics4_TextureFilter.PointFilter.__enum__=kha_graphics4_TextureFilter,kha_graphics4_TextureFilter.LinearFilter=["LinearFilter",1],kha_graphics4_TextureFilter.LinearFilter.toString=$estr,kha_graphics4_TextureFilter.LinearFilter.__enum__=kha_graphics4_TextureFilter,kha_graphics4_TextureFilter.AnisotropicFilter=["AnisotropicFilter",2],kha_graphics4_TextureFilter.AnisotropicFilter.toString=$estr,kha_graphics4_TextureFilter.AnisotropicFilter.__enum__=kha_graphics4_TextureFilter;var kha_graphics4_TextureFormat=$hxClasses["kha.graphics4.TextureFormat"]={__ename__:["kha","graphics4","TextureFormat"],__constructs__:["RGBA32","L8","RGBA128","DEPTH16","RGBA64","A32","A16"]};kha_graphics4_TextureFormat.RGBA32=["RGBA32",0],kha_graphics4_TextureFormat.RGBA32.toString=$estr,kha_graphics4_TextureFormat.RGBA32.__enum__=kha_graphics4_TextureFormat,kha_graphics4_TextureFormat.L8=["L8",1],kha_graphics4_TextureFormat.L8.toString=$estr,kha_graphics4_TextureFormat.L8.__enum__=kha_graphics4_TextureFormat,kha_graphics4_TextureFormat.RGBA128=["RGBA128",2],kha_graphics4_TextureFormat.RGBA128.toString=$estr,kha_graphics4_TextureFormat.RGBA128.__enum__=kha_graphics4_TextureFormat,kha_graphics4_TextureFormat.DEPTH16=["DEPTH16",3],kha_graphics4_TextureFormat.DEPTH16.toString=$estr,kha_graphics4_TextureFormat.DEPTH16.__enum__=kha_graphics4_TextureFormat,kha_graphics4_TextureFormat.RGBA64=["RGBA64",4],kha_graphics4_TextureFormat.RGBA64.toString=$estr,kha_graphics4_TextureFormat.RGBA64.__enum__=kha_graphics4_TextureFormat,kha_graphics4_TextureFormat.A32=["A32",5],kha_graphics4_TextureFormat.A32.toString=$estr,kha_graphics4_TextureFormat.A32.__enum__=kha_graphics4_TextureFormat,kha_graphics4_TextureFormat.A16=["A16",6],kha_graphics4_TextureFormat.A16.toString=$estr,kha_graphics4_TextureFormat.A16.__enum__=kha_graphics4_TextureFormat;var kha_graphics4_TextureUnit=function(){};$hxClasses["kha.graphics4.TextureUnit"]=kha_graphics4_TextureUnit,kha_graphics4_TextureUnit.__name__=["kha","graphics4","TextureUnit"];var kha_graphics4_Usage=$hxClasses["kha.graphics4.Usage"]={__ename__:["kha","graphics4","Usage"],__constructs__:["StaticUsage","DynamicUsage","ReadableUsage"]};kha_graphics4_Usage.StaticUsage=["StaticUsage",0],kha_graphics4_Usage.StaticUsage.toString=$estr,kha_graphics4_Usage.StaticUsage.__enum__=kha_graphics4_Usage,kha_graphics4_Usage.DynamicUsage=["DynamicUsage",1],kha_graphics4_Usage.DynamicUsage.toString=$estr,kha_graphics4_Usage.DynamicUsage.__enum__=kha_graphics4_Usage,kha_graphics4_Usage.ReadableUsage=["ReadableUsage",2],kha_graphics4_Usage.ReadableUsage.toString=$estr,kha_graphics4_Usage.ReadableUsage.__enum__=kha_graphics4_Usage;var kha_graphics4_VertexBuffer=function(e,t,a,r,i){null==i&&(i=!1),null==r&&(r=0),this.usage=a,this.instanceDataStepRate=r,this.mySize=e,this.myStride=0;for(var s=0,n=t.elements;s<n.length;){var _=n[s];switch(++s,_.data[1]){case 0:this.myStride+=4;break;case 1:this.myStride+=8;break;case 2:this.myStride+=12;break;case 3:this.myStride+=16;break;case 4:this.myStride+=64}}this.buffer=kha_SystemImpl.gl.createBuffer(),this.data=new Float32Array(e*this.myStride/4|0),this.sizes=[],this.offsets=[],this.sizes[t.elements.length-1]=0,this.offsets[t.elements.length-1]=0;for(var o=0,h=0,l=0,c=t.elements;l<c.length;){var d=c[l];++l;var u;switch(d.data[1]){case 0:u=1;break;case 1:u=2;break;case 2:u=3;break;case 3:u=4;break;case 4:u=16}switch(this.sizes[h]=u,this.offsets[h]=o,d.data[1]){case 0:o+=4;break;case 1:o+=8;break;case 2:o+=12;break;case 3:o+=16;break;case 4:o+=64}++h}};$hxClasses["kha.graphics4.VertexBuffer"]=kha_graphics4_VertexBuffer,kha_graphics4_VertexBuffer.__name__=["kha","graphics4","VertexBuffer"],kha_graphics4_VertexBuffer.prototype={delete:function(){this.data=null,kha_SystemImpl.gl.deleteBuffer(this.buffer)},lock:function(e,t){return this.data},unlock:function(){kha_SystemImpl.gl.bindBuffer(34962,this.buffer),kha_SystemImpl.gl.bufferData(34962,this.data,this.usage==kha_graphics4_Usage.DynamicUsage?35048:35044)},stride:function(){return this.myStride},count:function(){return this.mySize},set:function(e){var t=kha_SystemImpl.gl.getExtension("ANGLE_instanced_arrays");kha_SystemImpl.gl.bindBuffer(34962,this.buffer);for(var a=0,r=0,i=this.sizes.length;r<i;){var s=r++;if(this.sizes[s]>4)for(var n=this.sizes[s],_=0;n>0;)kha_SystemImpl.gl.enableVertexAttribArray(e+a),kha_SystemImpl.gl.vertexAttribPointer(e+a,4,5126,!1,this.myStride,this.offsets[s]+_),t&&t.vertexAttribDivisorANGLE(e+a,this.instanceDataStepRate),n-=4,_+=16,++a;else kha_SystemImpl.gl.enableVertexAttribArray(e+a),kha_SystemImpl.gl.vertexAttribPointer(e+a,this.sizes[s],5126,!1,this.myStride,this.offsets[s]),t&&t.vertexAttribDivisorANGLE(e+a,this.instanceDataStepRate),++a}return a},__class__:kha_graphics4_VertexBuffer};var kha_graphics4_VertexData=$hxClasses["kha.graphics4.VertexData"]={__ename__:["kha","graphics4","VertexData"],__constructs__:["Float1","Float2","Float3","Float4","Float4x4"]};kha_graphics4_VertexData.Float1=["Float1",0],kha_graphics4_VertexData.Float1.toString=$estr,kha_graphics4_VertexData.Float1.__enum__=kha_graphics4_VertexData,kha_graphics4_VertexData.Float2=["Float2",1],kha_graphics4_VertexData.Float2.toString=$estr,kha_graphics4_VertexData.Float2.__enum__=kha_graphics4_VertexData,kha_graphics4_VertexData.Float3=["Float3",2],kha_graphics4_VertexData.Float3.toString=$estr,kha_graphics4_VertexData.Float3.__enum__=kha_graphics4_VertexData,kha_graphics4_VertexData.Float4=["Float4",3],kha_graphics4_VertexData.Float4.toString=$estr,kha_graphics4_VertexData.Float4.__enum__=kha_graphics4_VertexData,kha_graphics4_VertexData.Float4x4=["Float4x4",4],kha_graphics4_VertexData.Float4x4.toString=$estr,kha_graphics4_VertexData.Float4x4.__enum__=kha_graphics4_VertexData;var kha_graphics4_VertexElement=function(e,t){this.name=e,this.data=t};$hxClasses["kha.graphics4.VertexElement"]=kha_graphics4_VertexElement,kha_graphics4_VertexElement.__name__=["kha","graphics4","VertexElement"],kha_graphics4_VertexElement.prototype={__class__:kha_graphics4_VertexElement};var kha_graphics4_VertexShader=function(e,t){this.source=e.toString(),this.type=35633,this.shader=null};$hxClasses["kha.graphics4.VertexShader"]=kha_graphics4_VertexShader,kha_graphics4_VertexShader.__name__=["kha","graphics4","VertexShader"],kha_graphics4_VertexShader.prototype={delete:function(){kha_SystemImpl.gl.deleteShader(this.shader),this.shader=null,this.source=null},__class__:kha_graphics4_VertexShader};var kha_graphics4_VertexStructure=function(){this.elements=[]};$hxClasses["kha.graphics4.VertexStructure"]=kha_graphics4_VertexStructure,kha_graphics4_VertexStructure.__name__=["kha","graphics4","VertexStructure"],kha_graphics4_VertexStructure.prototype={add:function(e,t){this.elements.push(new kha_graphics4_VertexElement(e,t))},size:function(){return this.elements.length},byteSize:function(){for(var e=0,t=0,a=this.elements.length;t<a;)e+=this.dataByteSize(this.elements[t++].data);return e},dataByteSize:function(e){switch(e[1]){case 0:return 4;case 1:return 8;case 2:return 12;case 3:return 16;case 4:return 64}},get:function(e){return this.elements[e]},__class__:kha_graphics4_VertexStructure};var kha_input_Gamepad=$hx_exports.kha.input.Gamepad=function(e){null==e&&(e=0),this.axisListeners=[],this.buttonListeners=[],kha_input_Gamepad.instances[e]=this};$hxClasses["kha.input.Gamepad"]=kha_input_Gamepad,kha_input_Gamepad.__name__=["kha","input","Gamepad"],kha_input_Gamepad.get=function(e){return null==e&&(e=0),e>=kha_input_Gamepad.instances.length?null:kha_input_Gamepad.instances[e]},kha_input_Gamepad.prototype={notify:function(e,t){null!=e&&this.axisListeners.push(e),null!=t&&this.buttonListeners.push(t)},remove:function(e,t){null!=e&&HxOverrides.remove(this.axisListeners,e),null!=t&&HxOverrides.remove(this.buttonListeners,t)},sendAxisEvent:function(e,t){for(var a=0,r=this.axisListeners;a<r.length;){var i=r[a];++a,i(e,t)}},sendButtonEvent:function(e,t){for(var a=0,r=this.buttonListeners;a<r.length;){var i=r[a];++a,i(e,t)}},__class__:kha_input_Gamepad};var kha_network_Controller=function(){this.__id=kha_network_ControllerBuilder.nextId++,this._inputBuffer=new haxe_io_Bytes(new ArrayBuffer(1))};$hxClasses["kha.network.Controller"]=kha_network_Controller,kha_network_Controller.__name__=["kha","network","Controller"],kha_network_Controller.prototype={_id:function(){return this.__id},_receive:function(e){},__class__:kha_network_Controller};var kha_input_Keyboard=$hx_exports.kha.input.Keyboard=function(){kha_network_Controller.call(this),this.downListeners=[],this.upListeners=[],kha_input_Keyboard.instance=this};$hxClasses["kha.input.Keyboard"]=kha_input_Keyboard,kha_input_Keyboard.__name__=["kha","input","Keyboard"],kha_input_Keyboard.get=function(e){return null==e&&(e=0),kha_SystemImpl.getKeyboard(e)},kha_input_Keyboard.__super__=kha_network_Controller,kha_input_Keyboard.prototype=$extend(kha_network_Controller.prototype,{notify:function(e,t){null!=e&&this.downListeners.push(e),null!=t&&this.upListeners.push(t)},remove:function(e,t){null!=e&&HxOverrides.remove(this.downListeners,e),null!=t&&HxOverrides.remove(this.upListeners,t)},show:function(){},hide:function(){},sendDownEvent:function(e,t){if(null!=kha_network_Session.the()){var a=new haxe_io_Bytes(new ArrayBuffer(6));a.setInt32(0,0),a.b[4]=255&e[1],a.b[5]=255&HxOverrides.cca(t,0),kha_network_Session.the().sendControllerUpdate(this._id(),a)}for(var r=0,i=this.downListeners;r<i.length;){var s=i[r];++r,s(e,t)}},sendUpEvent:function(e,t){if(null!=kha_network_Session.the()){var a=new haxe_io_Bytes(new ArrayBuffer(6));a.setInt32(0,1),a.b[4]=255&e[1],a.b[5]=255&HxOverrides.cca(t,0),kha_network_Session.the().sendControllerUpdate(this._id(),a)}for(var r=0,i=this.upListeners;r<i.length;){var s=i[r];++r,s(e,t)}},_receive:function(e){var t=e.getInt32(0);return 0==t?void this.sendDownEvent(Type.createEnumIndex(kha_Key,e.b[4],null),String.fromCharCode(e.b[5])):1==t?void this.sendUpEvent(Type.createEnumIndex(kha_Key,e.b[4],null),String.fromCharCode(e.b[5])):void 0},__class__:kha_input_Keyboard});var kha_input_Mouse=$hx_exports.kha.input.Mouse=function(){kha_network_Controller.call(this),kha_input_Mouse.instance=this};$hxClasses["kha.input.Mouse"]=kha_input_Mouse,kha_input_Mouse.__name__=["kha","input","Mouse"],kha_input_Mouse.get=function(e){return null==e&&(e=0),kha_SystemImpl.getMouse(e)},kha_input_Mouse.__super__=kha_network_Controller,kha_input_Mouse.prototype=$extend(kha_network_Controller.prototype,{notify:function(e,t,a,r){this.notifyWindowed(0,e,t,a,r)},remove:function(e,t,a,r){this.removeWindowed(0,e,t,a,r)},notifyWindowed:function(e,t,a,r,i){if(null!=t){for(null==this.windowDownListeners&&(this.windowDownListeners=[]);this.windowDownListeners.length<=e;)this.windowDownListeners.push([]);this.windowDownListeners[e].push(t)}if(null!=a){for(null==this.windowUpListeners&&(this.windowUpListeners=[]);this.windowUpListeners.length<=e;)this.windowUpListeners.push([]);this.windowUpListeners[e].push(a)}if(null!=r){for(null==this.windowMoveListeners&&(this.windowMoveListeners=[]);this.windowMoveListeners.length<=e;)this.windowMoveListeners.push([]);this.windowMoveListeners[e].push(r)}if(null!=i){for(null==this.windowWheelListeners&&(this.windowWheelListeners=[]);this.windowWheelListeners.length<=e;)this.windowWheelListeners.push([]);this.windowWheelListeners[e].push(i)}},removeWindowed:function(e,t,a,r,i){null!=t&&(null!=this.windowDownListeners?e<this.windowDownListeners.length?HxOverrides.remove(this.windowDownListeners[e],t):haxe_Log.trace('no downListeners for window "'+e+'" are registered',{fileName:"Mouse.hx",lineNumber:76,className:"kha.input.Mouse",methodName:"removeWindowed"}):haxe_Log.trace("no downListeners were ever registered",{fileName:"Mouse.hx",lineNumber:79,className:"kha.input.Mouse",methodName:"removeWindowed"})),null!=a&&(null!=this.windowUpListeners?e<this.windowUpListeners.length?HxOverrides.remove(this.windowUpListeners[e],a):haxe_Log.trace('no upListeners for window "'+e+'" are registered',{fileName:"Mouse.hx",lineNumber:88,className:"kha.input.Mouse",methodName:"removeWindowed"}):haxe_Log.trace("no upListeners were ever registered",{fileName:"Mouse.hx",lineNumber:91,className:"kha.input.Mouse",methodName:"removeWindowed"})),null!=r&&(null!=this.windowMoveListeners?e<this.windowMoveListeners.length?HxOverrides.remove(this.windowMoveListeners[e],r):haxe_Log.trace('no moveListeners for window "'+e+'" are registered',{
fileName:"Mouse.hx",lineNumber:100,className:"kha.input.Mouse",methodName:"removeWindowed"}):haxe_Log.trace("no moveListeners were ever registered",{fileName:"Mouse.hx",lineNumber:103,className:"kha.input.Mouse",methodName:"removeWindowed"})),null!=i&&(null!=this.windowWheelListeners?e<this.windowWheelListeners.length?HxOverrides.remove(this.windowWheelListeners[e],i):haxe_Log.trace('no wheelListeners for window "'+e+'" are registered',{fileName:"Mouse.hx",lineNumber:112,className:"kha.input.Mouse",methodName:"removeWindowed"}):haxe_Log.trace("no wheelListeners were ever registered",{fileName:"Mouse.hx",lineNumber:115,className:"kha.input.Mouse",methodName:"removeWindowed"}))},lock:function(){},unlock:function(){},canLock:function(){return!1},isLocked:function(){return!1},notifyOnLockChange:function(e,t){},removeFromLockChange:function(e,t){},hideSystemCursor:function(){},showSystemCursor:function(){},sendDownEvent:function(e,t,a,r){if(null!=kha_network_Session.the()){var i=new haxe_io_Bytes(new ArrayBuffer(20));i.setInt32(0,0),i.setInt32(4,e),i.setInt32(8,t),i.setInt32(12,a),i.setInt32(16,r),kha_network_Session.the().sendControllerUpdate(this._id(),i)}if(null!=this.windowDownListeners)for(var s=0,n=this.windowDownListeners[e];s<n.length;){var _=n[s];++s,_(t,a,r)}},sendUpEvent:function(e,t,a,r){if(null!=kha_network_Session.the()){var i=new haxe_io_Bytes(new ArrayBuffer(20));i.setInt32(0,1),i.setInt32(4,e),i.setInt32(8,t),i.setInt32(12,a),i.setInt32(16,r),kha_network_Session.the().sendControllerUpdate(this._id(),i)}if(null!=this.windowUpListeners)for(var s=0,n=this.windowUpListeners[e];s<n.length;){var _=n[s];++s,_(t,a,r)}},sendMoveEvent:function(e,t,a,r,i){if(null!=kha_network_Session.the()){var s=new haxe_io_Bytes(new ArrayBuffer(24));s.setInt32(0,2),s.setInt32(4,e),s.setInt32(8,t),s.setInt32(12,a),s.setInt32(16,r),s.setInt32(20,i),kha_network_Session.the().sendControllerUpdate(this._id(),s)}if(null!=this.windowMoveListeners)for(var n=0,_=this.windowMoveListeners[e];n<_.length;){var o=_[n];++n,o(t,a,r,i)}},sendWheelEvent:function(e,t){if(null!=kha_network_Session.the()){var a=new haxe_io_Bytes(new ArrayBuffer(12));a.setInt32(0,3),a.setInt32(4,e),a.setInt32(8,t),kha_network_Session.the().sendControllerUpdate(this._id(),a)}if(null!=this.windowWheelListeners)for(var r=0,i=this.windowWheelListeners[e];r<i.length;){var s=i[r];++r,s(t)}},_receive:function(e){var t=e.getInt32(0);return 0==t?void this.sendDownEvent(e.getInt32(4),e.getInt32(8),e.getInt32(12),e.getInt32(16)):1==t?void this.sendUpEvent(e.getInt32(4),e.getInt32(8),e.getInt32(12),e.getInt32(16)):2==t?void this.sendMoveEvent(e.getInt32(4),e.getInt32(8),e.getInt32(12),e.getInt32(16),e.getInt32(20)):3==t?void this.sendWheelEvent(e.getInt32(4),e.getInt32(8)):void 0},__class__:kha_input_Mouse});var kha_input_MouseImpl=function(){kha_input_Mouse.call(this)};$hxClasses["kha.input.MouseImpl"]=kha_input_MouseImpl,kha_input_MouseImpl.__name__=["kha","input","MouseImpl"],kha_input_MouseImpl.__super__=kha_input_Mouse,kha_input_MouseImpl.prototype=$extend(kha_input_Mouse.prototype,{hideSystemCursor:function(){kha_SystemImpl.khanvas.style.cursor="none"},showSystemCursor:function(){kha_SystemImpl.khanvas.style.cursor="default"},_receive:function(e){e.getInt32(0)},__class__:kha_input_MouseImpl});var kha_input_Surface=$hx_exports.kha.input.Surface=function(){this.touchStartListeners=[],this.touchEndListeners=[],this.moveListeners=[],kha_input_Surface.instance=this};$hxClasses["kha.input.Surface"]=kha_input_Surface,kha_input_Surface.__name__=["kha","input","Surface"],kha_input_Surface.get=function(e){return null==e&&(e=0),0!=e?null:kha_input_Surface.instance},kha_input_Surface.prototype={notify:function(e,t,a){null!=e&&this.touchStartListeners.push(e),null!=t&&this.touchEndListeners.push(t),null!=a&&this.moveListeners.push(a)},remove:function(e,t,a){null!=e&&HxOverrides.remove(this.touchStartListeners,e),null!=t&&HxOverrides.remove(this.touchEndListeners,t),null!=a&&this.moveListeners.push(a)},sendTouchStartEvent:function(e,t,a){for(var r=0,i=this.touchStartListeners;r<i.length;){var s=i[r];++r,s(e,t,a)}},sendTouchEndEvent:function(e,t,a){for(var r=0,i=this.touchEndListeners;r<i.length;){var s=i[r];++r,s(e,t,a)}},sendMoveEvent:function(e,t,a){for(var r=0,i=this.moveListeners;r<i.length;){var s=i[r];++r,s(e,t,a)}},__class__:kha_input_Surface};var kha_internal_BytesBlob=function(e){this.myFirstLine=!0,this.bytes=e,this.buffer=[]};$hxClasses["kha.internal.BytesBlob"]=kha_internal_BytesBlob,kha_internal_BytesBlob.__name__=["kha","internal","BytesBlob"],kha_internal_BytesBlob.__interfaces__=[kha_Resource],kha_internal_BytesBlob.fromBytes=function(e){return new kha_internal_BytesBlob(e)},kha_internal_BytesBlob.alloc=function(e){return new kha_internal_BytesBlob(new haxe_io_Bytes(new ArrayBuffer(e)))},kha_internal_BytesBlob.readF32=function(e){var t=0==(e&-2147483648)?1:-1,a=e>>23&255,r=8388607&e;switch(a){case 0:return 0;case 255:return 0!=r?NaN:t>0?1/0:-(1/0);default:return t*((r+8388608)/8388608)*Math.pow(2,a-127)}},kha_internal_BytesBlob.bit=function(e,t){return 1==(e>>>t&1)},kha_internal_BytesBlob.prototype={sub:function(e,t){return new kha_internal_BytesBlob(this.bytes.sub(e,t))},get_length:function(){return this.bytes.length},writeU8:function(e,t){this.bytes.b[e]=255&t},readU8:function(e){var t=this.bytes.b[e];return++e,t},readS8:function(e){var t=this.bytes.b[e];++e;var a=0==(128&t)?1:-1;return t&=127,a*t},readU16BE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1];return e+=2,256*t+a},readU16LE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1];return e+=2,256*a+t},readU32LE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1],r=this.bytes.b[e+2],i=this.bytes.b[e+3];return e+=4,t+256*a+256*r*256+256*i*256*256},readU32BE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1],r=this.bytes.b[e+2],i=this.bytes.b[e+3];return e+=4,i+256*r+256*a*256+256*t*256*256},readS16BE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1];e+=2;var r=0==(128&t)?1:-1;return t&=127,r==-1?-32767+256*t+a:256*t+a},readS16LE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1],r=0==(128&a)?1:-1;return a&=127,e+=2,r==-1?-32767+256*a+t:256*a+t},readS32LE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1],r=this.bytes.b[e+2],i=this.bytes.b[e+3],s=0==(128&i)?1:-1;return i&=127,e+=4,s==-1?-2147483647+t+256*a+256*r*256+256*i*256*256:t+256*a+256*r*256+256*i*256*256},readS32BE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1],r=this.bytes.b[e+2],i=this.bytes.b[e+3],s=0==(128&t)?1:-1;return t&=127,e+=4,s==-1?-2147483647+i+256*r+256*a*256+256*t*256*256:i+256*r+256*a*256+256*t*256*256},readF32LE:function(e){return kha_internal_BytesBlob.readF32(this.readS32LE(e))},readF32BE:function(e){return kha_internal_BytesBlob.readF32(this.readS32BE(e))},toString:function(){return this.bytes.toString()},readUtf8Char:function(e){if(e.value>=this.get_length())return-1;var t=this.readU8(e.value);++e.value;var a=0;if(kha_internal_BytesBlob.bit(t,7))if(kha_internal_BytesBlob.bit(t,7)&&kha_internal_BytesBlob.bit(t,6)&&!kha_internal_BytesBlob.bit(t,5)){var r=31&t,i=this.readU8(e.value);++e.value,a=r<<6|63&i}else kha_internal_BytesBlob.bit(t,7)&&kha_internal_BytesBlob.bit(t,6)&&kha_internal_BytesBlob.bit(t,5)&&!kha_internal_BytesBlob.bit(t,4)?e.value+=2:kha_internal_BytesBlob.bit(t,7)&&kha_internal_BytesBlob.bit(t,6)&&kha_internal_BytesBlob.bit(t,5)&&kha_internal_BytesBlob.bit(t,4)&&!kha_internal_BytesBlob.bit(t,3)&&(e.value+=3);else a=t;return a},readUtf8Line:function(e){var t=0,a=this.readUtf8Char(e);if(a<0)return"";for(;10!=a&&t<2e3;)if(this.buffer[t]=a,++t,a=this.readUtf8Char(e),e.value>=this.get_length()){this.buffer[t]=a,++t;break}if(this.myFirstLine&&(this.myFirstLine=!1,t>2&&239==this.buffer[0]&&187==this.buffer[1]&&191==this.buffer[2])){for(var r=[],i=3,s=t-3;i<s;){var n=i++;r[n-3]=this.buffer[n]}return this.toText(r,t-3)}for(var _=[],o=0,h=t;o<h;){var l=o++;_[l]=this.buffer[l]}return this.toText(_,t)},toText:function(e,t){for(var a="",r=0;r<t;)a+=String.fromCharCode(e[r++]);return a},readUtf8String:function(){for(var e="",t={value:0};t.value<this.get_length();)e+=this.readUtf8Line(t)+"\n";return e},toBytes:function(){return this.bytes},unload:function(){this.bytes=null},__class__:kha_internal_BytesBlob,__properties__:{get_length:"get_length"}};var kha_internal_HdrFormat=function(){};$hxClasses["kha.internal.HdrFormat"]=kha_internal_HdrFormat,kha_internal_HdrFormat.__name__=["kha","internal","HdrFormat"],kha_internal_HdrFormat.readBuf=function(e){for(var t=0;;)if(e[t++]=255&kha_internal_HdrFormat.buffer[kha_internal_HdrFormat.fileOffset],!(++kha_internal_HdrFormat.fileOffset<kha_internal_HdrFormat.bufferLength&&t<e.length))break;return t},kha_internal_HdrFormat.readBufOffset=function(e,t,a){for(var r=0;;)if(e[t+r++]=255&kha_internal_HdrFormat.buffer[kha_internal_HdrFormat.fileOffset],!(++kha_internal_HdrFormat.fileOffset<kha_internal_HdrFormat.bufferLength&&r<a))break;return r},kha_internal_HdrFormat.readPixelsRaw=function(e,t,a,r){var i=4*r,s=kha_internal_HdrFormat.readBufOffset(t,a,i);if(s<i)return void haxe_Log.trace("Error reading raw pixels: got "+s+" bytes, expected "+i,{fileName:"HdrFormat.hx",lineNumber:40,className:"kha.internal.HdrFormat",methodName:"readPixelsRaw"})},kha_internal_HdrFormat.readPixelsRawRLE=function(e,t,a,r,i){for(var s,n,_,o=new Uint8Array(4),h=null,l=new Uint8Array(2);i>0;){if(kha_internal_HdrFormat.readBuf(o)<o.length)return void haxe_Log.trace("Error reading bytes: expected "+o.length,{fileName:"HdrFormat.hx",lineNumber:56,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});if(2!=o[0]||2!=o[1]||0!=(128&o[2]))return t[a++]=255&o[0],t[a++]=255&o[1],t[a++]=255&o[2],t[a++]=255&o[3],void kha_internal_HdrFormat.readPixelsRaw(e,t,a,r*i-1);if(((255&o[2])<<8|255&o[3])!=r)return void haxe_Log.trace("Wrong scanline width "+((255&o[2])<<8|255&o[3])+", expected "+r,{fileName:"HdrFormat.hx",lineNumber:71,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});null==h&&(h=new Uint8Array(4*r)),s=0;for(var c=0;c<4;)for(n=(c++ +1)*r;s<n;){if(kha_internal_HdrFormat.readBuf(l)<l.length)return void haxe_Log.trace("Error reading 2-byte buffer",{fileName:"HdrFormat.hx",lineNumber:85,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});if((255&l[0])>128){if(_=(255&l[0])-128,0==_||_>n-s)return void haxe_Log.trace("Bad scanline data",{fileName:"HdrFormat.hx",lineNumber:92,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});for(;_-- >0;)h[s++]=255&l[1]}else{if(_=255&l[0],0==_||_>n-s)return void haxe_Log.trace("Bad scanline data",{fileName:"HdrFormat.hx",lineNumber:103,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});if(h[s++]=255&l[1],--_>0){if(kha_internal_HdrFormat.readBufOffset(h,s,_)<_)return void haxe_Log.trace("Error reading non-run data",{fileName:"HdrFormat.hx",lineNumber:109,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});s+=_}}}for(var d=0;d<r;){var u=d++;t[a]=255&h[u],t[a+1]=255&h[u+r],t[a+2]=255&h[u+2*r],t[a+3]=255&h[u+3*r],a+=4}--i}},kha_internal_HdrFormat.readLine=function(){for(var e="";;){var t=kha_internal_HdrFormat.buffer[kha_internal_HdrFormat.fileOffset];if(10==t){++kha_internal_HdrFormat.fileOffset;break}if(e+=String.fromCharCode(t),!(++kha_internal_HdrFormat.fileOffset<kha_internal_HdrFormat.bufferLength))break}return e},kha_internal_HdrFormat.parse=function(e){kha_internal_HdrFormat.buffer=haxe_io__$UInt8Array_UInt8Array_$Impl_$.fromBytes(e),kha_internal_HdrFormat.bufferLength=kha_internal_HdrFormat.buffer.length,kha_internal_HdrFormat.fileOffset=0;for(var t=0,a=0,r=!1,i=0;i<20;){++i;var s=kha_internal_HdrFormat.readLine();if(kha_internal_HdrFormat.formatPattern.match(s))r=!0;else if(kha_internal_HdrFormat.exposurePattern.match(s)){var n=kha_internal_HdrFormat.exposurePattern.matched(1);parseFloat(n)}else if(kha_internal_HdrFormat.widthHeightPattern.match(s)){a=Std.parseInt(kha_internal_HdrFormat.widthHeightPattern.matched(1)),t=Std.parseInt(kha_internal_HdrFormat.widthHeightPattern.matched(2));break}}if(!r)return haxe_Log.trace("File is not run length encoded!",{fileName:"HdrFormat.hx",lineNumber:172,className:"kha.internal.HdrFormat",methodName:"parse"}),null;var _=new Uint8Array(t*a*4);kha_internal_HdrFormat.readPixelsRawRLE(kha_internal_HdrFormat.buffer,_,0,t,a);for(var o=new Float32Array(t*a*4),h=0;h<_.length;){var l=_[h]/255,c=_[h+1]/255,d=_[h+2]/255,u=Math.pow(2,_[h+3]-128);l*=u,c*=u,d*=u,o[h]=l,o[h+1]=c,o[h+2]=d,o[h+3]=1,h+=4}return{width:t,height:a,data:o}},kha_internal_HdrFormat.prototype={__class__:kha_internal_HdrFormat};var kha_js_AEAudioChannel=function(e){this.element=e};$hxClasses["kha.js.AEAudioChannel"]=kha_js_AEAudioChannel,kha_js_AEAudioChannel.__name__=["kha","js","AEAudioChannel"],kha_js_AEAudioChannel.__interfaces__=[kha_audio1_AudioChannel],kha_js_AEAudioChannel.catchUp=function(){if(kha_SystemImpl.mobile&&!kha_SystemImpl.mobileAudioPlaying){for(var e=0,t=kha_js_AEAudioChannel.todo;e<t.length;){var a=t[e];++e,a.element.play(),kha_SystemImpl.mobileAudioPlaying=!0}kha_SystemImpl.mobileAudioPlaying&&(kha_js_AEAudioChannel.todo=null)}},kha_js_AEAudioChannel.prototype={play:function(){kha_SystemImpl.mobile?kha_SystemImpl.insideInputEvent?(this.element.play(),kha_SystemImpl.mobileAudioPlaying=!0):kha_SystemImpl.mobileAudioPlaying?this.element.play():kha_js_AEAudioChannel.todo.push(this):this.element.play()},pause:function(){try{this.element.pause()}catch(e){e instanceof js__$Boot_HaxeError&&(e=e.val),haxe_Log.trace(e,{fileName:"AEAudioChannel.hx",lineNumber:48,className:"kha.js.AEAudioChannel",methodName:"pause"})}},stop:function(){try{this.element.pause(),this.element.currentTime=0}catch(e){e instanceof js__$Boot_HaxeError&&(e=e.val),haxe_Log.trace(e,{fileName:"AEAudioChannel.hx",lineNumber:58,className:"kha.js.AEAudioChannel",methodName:"stop"})}},get_length:function(){return isFinite(this.element.duration)?this.element.duration:1/0},get_position:function(){return this.element.currentTime},get_volume:function(){return 1},set_volume:function(e){return 1},get_finished:function(){return this.get_position()>=this.get_length()},__class__:kha_js_AEAudioChannel,__properties__:{get_finished:"get_finished",set_volume:"set_volume",get_volume:"get_volume",get_position:"get_position",get_length:"get_length"}};var kha_js_AudioElementAudio=function(){};$hxClasses["kha.js.AudioElementAudio"]=kha_js_AudioElementAudio,kha_js_AudioElementAudio.__name__=["kha","js","AudioElementAudio"],kha_js_AudioElementAudio._compile=function(){},kha_js_AudioElementAudio.play=function(e,t,a){null==a&&(a=!1),null==t&&(t=!1),e.element.loop=t;var r=new kha_js_AEAudioChannel(e.element);return r.play(),r};var kha_js_CanvasGraphics=function(e,t,a){kha_graphics2_Graphics.call(this),this.canvas=e,this.width=t,this.height=a,kha_js_CanvasGraphics.instance=this,this.myColor=kha__$Color_Color_$Impl_$.fromBytes(0,0,0),e.save()};$hxClasses["kha.js.CanvasGraphics"]=kha_js_CanvasGraphics,kha_js_CanvasGraphics.__name__=["kha","js","CanvasGraphics"],kha_js_CanvasGraphics.stringWidth=function(e,t){return null==kha_js_CanvasGraphics.instance?5*t.length:(kha_js_CanvasGraphics.instance.set_font(e),kha_js_CanvasGraphics.instance.canvas.measureText(t).width)},kha_js_CanvasGraphics.__super__=kha_graphics2_Graphics,kha_js_CanvasGraphics.prototype=$extend(kha_graphics2_Graphics.prototype,{begin:function(e,t){null==e&&(e=!0),e&&this.clear(t)},clear:function(e){null==e&&(e=0),this.canvas.strokeStyle="rgba("+((16711680&e)>>>16)+","+((65280&e)>>>8)+","+(255&e)+","+.00392156862745098*(e>>>24)+")",this.canvas.fillStyle="rgba("+((16711680&e)>>>16)+","+((65280&e)>>>8)+","+(255&e)+","+.00392156862745098*(e>>>24)+")",.00392156862745098*(e>>>24)==0?this.canvas.clearRect(0,0,this.width,this.height):this.canvas.fillRect(0,0,this.width,this.height),this.set_color(this.myColor)},end:function(){},drawImage:function(e,t,a){this.canvas.globalAlpha=this.get_opacity(),this.canvas.drawImage(js_Boot.__cast(e,kha_CanvasImage).image,t,a),this.canvas.globalAlpha=1},drawScaledSubImage:function(e,t,a,r,i,s,n,_,o){this.canvas.globalAlpha=this.get_opacity();try{if(_<0||o<0){this.canvas.save(),this.canvas.translate(s,n);var h=0,l=0;_<0&&(this.canvas.scale(-1,1),h=-_),o<0&&(this.canvas.scale(1,-1),l=-o),this.canvas.drawImage(js_Boot.__cast(e,kha_CanvasImage).image,t,a,r,i,h,l,_,o),this.canvas.restore()}else this.canvas.drawImage(js_Boot.__cast(e,kha_CanvasImage).image,t,a,r,i,s,n,_,o)}catch(e){}this.canvas.globalAlpha=1},set_color:function(e){return this.myColor=e,this.canvas.strokeStyle="rgba("+((16711680&e)>>>16)+","+((65280&e)>>>8)+","+(255&e)+","+.00392156862745098*(e>>>24)+")",this.canvas.fillStyle="rgba("+((16711680&e)>>>16)+","+((65280&e)>>>8)+","+(255&e)+","+.00392156862745098*(e>>>24)+")",e},get_color:function(){return this.myColor},get_imageScaleQuality:function(){return this.scaleQuality},set_imageScaleQuality:function(e){return e==kha_graphics2_ImageScaleQuality.Low?(this.canvas.mozImageSmoothingEnabled=!1,this.canvas.webkitImageSmoothingEnabled=!1,this.canvas.msImageSmoothingEnabled=!1,this.canvas.imageSmoothingEnabled=!1):(this.canvas.mozImageSmoothingEnabled=!0,this.canvas.webkitImageSmoothingEnabled=!0,this.canvas.msImageSmoothingEnabled=!0,this.canvas.imageSmoothingEnabled=!0),this.scaleQuality=e},drawRect:function(e,t,a,r,i){null==i&&(i=1),this.canvas.beginPath();var s=this.canvas.lineWidth;this.canvas.lineWidth=Math.round(i),this.canvas.rect(e,t,a,r),this.canvas.stroke(),this.canvas.lineWidth=s},fillRect:function(e,t,a,r){this.canvas.globalAlpha=this.get_opacity()*(.00392156862745098*(this.myColor>>>24)),this.canvas.fillRect(e,t,a,r),this.canvas.globalAlpha=this.get_opacity()},drawCircle:function(e,t,a,r){null==r&&(r=1),this.canvas.beginPath();var i=this.canvas.lineWidth;this.canvas.lineWidth=Math.round(r),this.canvas.arc(e,t,a,0,2*Math.PI,!1),this.canvas.stroke(),this.canvas.lineWidth=i},fillCircle:function(e,t,a){this.canvas.beginPath(),this.canvas.arc(e,t,a,0,2*Math.PI,!1),this.canvas.fill()},drawString:function(e,t,a){var r=this.webfont.getImage(this.get_fontSize(),this.myColor);if(r.width>0)for(var i=t,s=0,n=e.length;s<n;){var _=s++,o=this.webfont.kravur._get(this.get_fontSize()).getBakedQuad(HxOverrides.cca(e,_)-32,i,a);null!=o&&(o.s1-o.s0>0&&o.t1-o.t0>0&&o.x1-o.x0>0&&o.y1-o.y0>0&&this.canvas.drawImage(r,o.s0*r.width,o.t0*r.height,(o.s1-o.s0)*r.width,(o.t1-o.t0)*r.height,o.x0,o.y0,o.x1-o.x0,o.y1-o.y0),i+=o.xadvance)}},set_font:function(e){return this.webfont=js_Boot.__cast(e,kha_js_Font),this.webfont},get_font:function(){return this.webfont},drawLine:function(e,t,a,r,i){null==i&&(i=1),this.canvas.beginPath();var s=this.canvas.lineWidth;this.canvas.lineWidth=Math.round(i),this.canvas.moveTo(e,t),this.canvas.lineTo(a,r),this.canvas.moveTo(0,0),this.canvas.stroke(),this.canvas.lineWidth=s},fillTriangle:function(e,t,a,r,i,s){this.canvas.beginPath(),this.canvas.closePath(),this.canvas.fill()},scissor:function(e,t,a,r){this.canvas.beginPath(),this.canvas.rect(e,t,a,r),this.canvas.clip()},disableScissor:function(){this.canvas.restore()},drawVideo:function(e,t,a,r,i){this.canvas.drawImage(js_Boot.__cast(e,kha_js_Video).element,t,a,r,i)},setTransformation:function(e){this.canvas.setTransform(e._00,e._01,e._10,e._11,e._20,e._21)},__class__:kha_js_CanvasGraphics});var kha_js_URLParser=function(e){this._parts=null,this._parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],this.url=e;var t=new EReg("^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?://)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\\d*))?)(((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[?#]|$)))*/?)?([^?#/]*))(?:\\?([^#]*))?(?:#(.*))?)","");t.match(e);for(var a=0,r=this._parts.length;a<r;){var i=a++,s=t.matched(i);this[this._parts[i]]=s}};$hxClasses["kha.js.URLParser"]=kha_js_URLParser,kha_js_URLParser.__name__=["kha","js","URLParser"],kha_js_URLParser.parse=function(e){return new kha_js_URLParser(e)},kha_js_URLParser.prototype={toString:function(){for(var e="For Url -> "+this.url+"\n",t=0,a=this._parts.length;t<a;){var r=t++;e+=this._parts[r]+": "+Std.string(Reflect.field(this,this._parts[r]))+(r==this._parts.length-1?"":"\n")}return e},__class__:kha_js_URLParser};var kha_js_EnvironmentVariables=function(){kha_EnvironmentVariables.call(this)};$hxClasses["kha.js.EnvironmentVariables"]=kha_js_EnvironmentVariables,kha_js_EnvironmentVariables.__name__=["kha","js","EnvironmentVariables"],kha_js_EnvironmentVariables.__super__=kha_EnvironmentVariables,kha_js_EnvironmentVariables.prototype=$extend(kha_EnvironmentVariables.prototype,{getVariable:function(e){for(var t=new kha_js_URLParser(window.location.href).query.split("&"),a=0;a<t.length;){var r=t[a];++a;var i=r.split("=");if(i[0]==e)return i[1]}return haxe_Log.trace("Environment variables requested.",{fileName:"EnvironmentVariables.hx",lineNumber:90,className:"kha.js.EnvironmentVariables",methodName:"getVariable"}),""},__class__:kha_js_EnvironmentVariables});var kha_js_Font=function(e){this.images=new haxe_ds_IntMap,this.kravur=e};$hxClasses["kha.js.Font"]=kha_js_Font,kha_js_Font.__name__=["kha","js","Font"],kha_js_Font.__interfaces__=[kha_Font],kha_js_Font.prototype={height:function(e){return this.kravur._get(e).getHeight()},width:function(e,t){return this.kravur._get(e).stringWidth(t)},baseline:function(e){return this.kravur._get(e).getBaselinePosition()},getImage:function(e,t){if(!this.images.h.hasOwnProperty(e)){var a=new haxe_ds_IntMap;this.images.h[e]=a}if(!this.images.h[e].exists(t)){var r=this.kravur._get(e),i=window.document.createElement("canvas");i.width=r.width,i.height=r.height;var s=i.getContext("2d");s.fillStyle="black",s.fillRect(0,0,r.width,r.height);for(var n=s.getImageData(0,0,r.width,r.height),_=js_Boot.__cast(r.getTexture(),kha_CanvasImage).bytes,o=0,h=_.length;o<h;){var l=o++;n.data[4*l]=(16711680&t)>>>16,n.data[4*l+1]=(65280&t)>>>8,n.data[4*l+2]=255&t,n.data[4*l+3]=_.b[l]}s.putImageData(n,0,0);var c=window.document.createElement("img");return c.src=i.toDataURL("image/png"),this.images.h[e].set(t,c),c}return this.images.h[e].get(t)},unload:function(){this.kravur=null,this.images=null},__class__:kha_js_Font};var kha_js_Sound=function(e,t){kha_Sound.call(this),this.done=t,kha_js_Sound.loading.push(this),this.element=window.document.createElement("audio"),this.filenames=[];for(var a=0;a<e.length;){var r=e[a];++a,""!=this.element.canPlayType("audio/ogg")&&StringTools.endsWith(r,".ogg")&&this.filenames.push(r),""!=this.element.canPlayType("audio/mp4")&&StringTools.endsWith(r,".mp4")&&this.filenames.push(r)}this.element.addEventListener("error",$bind(this,this.errorListener),!1),this.element.addEventListener("canplay",$bind(this,this.canPlayThroughListener),!1),this.element.src=this.filenames[0],this.element.preload="auto",this.element.load()};$hxClasses["kha.js.Sound"]=kha_js_Sound,kha_js_Sound.__name__=["kha","js","Sound"],kha_js_Sound.__super__=kha_Sound,kha_js_Sound.prototype=$extend(kha_Sound.prototype,{errorListener:function(e){if(4==this.element.error.code)for(var t=0,a=this.filenames.length-1;t<a;){var r=t++;if(this.element.src==this.filenames[r])return void(this.element.src=this.filenames[r+1])}haxe_Log.trace("Error loading "+this.element.src,{fileName:"Sound.hx",lineNumber:108,className:"kha.js.Sound",methodName:"errorListener"}),window.console.log("loadSound failed"),this.finishAsset()},canPlayThroughListener:function(e){this.finishAsset()},finishAsset:function(){this.element.removeEventListener("error",$bind(this,this.errorListener),!1),this.element.removeEventListener("canplaythrough",$bind(this,this.canPlayThroughListener),!1),this.done(this),HxOverrides.remove(kha_js_Sound.loading,this)},uncompress:function(e){e()},__class__:kha_js_Sound});var kha_js_Video=function(e,t){kha_Video.call(this),this.done=t,kha_js_Video.loading.add(this),this.element=window.document.createElement("video"),this.filenames=[];for(var a=0;a<e.length;){var r=e[a];++a,""!=this.element.canPlayType("video/webm")&&StringTools.endsWith(r,".webm")&&this.filenames.push(r),""!=this.element.canPlayType("video/mp4")&&StringTools.endsWith(r,".mp4")&&this.filenames.push(r)}this.element.addEventListener("error",$bind(this,this.errorListener),!1),this.element.addEventListener("canplaythrough",$bind(this,this.canPlayThroughListener),!1),this.element.preload="auto",this.element.src=this.filenames[0]};$hxClasses["kha.js.Video"]=kha_js_Video,kha_js_Video.__name__=["kha","js","Video"],kha_js_Video.__super__=kha_Video,kha_js_Video.prototype=$extend(kha_Video.prototype,{width:function(){return this.element.videoWidth},height:function(){return this.element.videoHeight},play:function(e){null==e&&(e=!1);try{this.element.loop=e,this.element.play()}catch(e){e instanceof js__$Boot_HaxeError&&(e=e.val),haxe_Log.trace(e,{fileName:"Video.hx",lineNumber:55,className:"kha.js.Video",methodName:"play"})}},pause:function(){try{this.element.pause()}catch(e){e instanceof js__$Boot_HaxeError&&(e=e.val),haxe_Log.trace(e,{fileName:"Video.hx",lineNumber:64,className:"kha.js.Video",methodName:"pause"})}},stop:function(){try{this.element.pause(),this.element.currentTime=0}catch(e){e instanceof js__$Boot_HaxeError&&(e=e.val),haxe_Log.trace(e,{fileName:"Video.hx",lineNumber:74,className:"kha.js.Video",methodName:"stop"})}},getCurrentPos:function(){return Math.ceil(1e3*this.element.currentTime)},getLength:function(){return isFinite(this.element.duration)?Math.floor(1e3*this.element.duration):-1},errorListener:function(e){if(4==this.element.error.code)for(var t=0,a=this.filenames.length-1;t<a;){var r=t++;if(this.element.src==this.filenames[r])return void(this.element.src=this.filenames[r+1])}haxe_Log.trace("Error loading "+this.element.src,{fileName:"Video.hx",lineNumber:102,className:"kha.js.Video",methodName:"errorListener"}),this.finishAsset()},canPlayThroughListener:function(e){this.finishAsset()},finishAsset:function(){this.element.removeEventListener("error",$bind(this,this.errorListener),!1),this.element.removeEventListener("canplaythrough",$bind(this,this.canPlayThroughListener),!1),null!=kha_SystemImpl.gl&&(this.texture=kha_Image.fromVideo(this)),this.done(this),kha_js_Video.loading.remove(this)},__class__:kha_js_Video});var kha_js_WebAudioSound=function(e,t){var a=this;kha_Sound.call(this);var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onerror=function(){haxe_Log.trace("Error loading "+e,{fileName:"WebAudioSound.hx",lineNumber:76,className:"kha.js.WebAudioSound",methodName:"new"})},r.onload=function(){a.compressedData=haxe_io_Bytes.ofData(r.response),a.uncompressedData=null,t(a)},r.send(null)};$hxClasses["kha.js.WebAudioSound"]=kha_js_WebAudioSound,kha_js_WebAudioSound.__name__=["kha","js","WebAudioSound"],kha_js_WebAudioSound.__super__=kha_Sound,kha_js_WebAudioSound.prototype=$extend(kha_Sound.prototype,{superUncompress:function(e){kha_Sound.prototype.uncompress.call(this,e)},uncompress:function(e){var t=this;kha_audio2_Audio._context.decodeAudioData(this.compressedData.b.bufferValue,function(a){var r=2*a.getChannelData(0).length;if(t.uncompressedData=new Array(r),1==a.numberOfChannels)for(var i=0,s=a.getChannelData(0).length;i<s;){var n=i++;t.uncompressedData[2*n]=a.getChannelData(0)[n],t.uncompressedData[2*n+1]=a.getChannelData(0)[n]}else for(var _=0,o=a.getChannelData(0).length;_<o;){var h=_++;t.uncompressedData[2*h]=a.getChannelData(0)[h],t.uncompressedData[2*h+1]=a.getChannelData(1)[h]}t.compressedData=null,e()},function(){t.superUncompress(e)})},__class__:kha_js_WebAudioSound});var kha_js_graphics4_ConstantLocation=function(e){this.value=e};$hxClasses["kha.js.graphics4.ConstantLocation"]=kha_js_graphics4_ConstantLocation,kha_js_graphics4_ConstantLocation.__name__=["kha","js","graphics4","ConstantLocation"],kha_js_graphics4_ConstantLocation.__interfaces__=[kha_graphics4_ConstantLocation],kha_js_graphics4_ConstantLocation.prototype={__class__:kha_js_graphics4_ConstantLocation};var kha_js_graphics4_Graphics=function(e){this.matrixCache=new Array(16),this.depthMask=!1,this.depthTest=!1,this.renderTarget=e,this.instancedExtension=kha_SystemImpl.gl.getExtension("ANGLE_instanced_arrays"),this.blendMinMaxExtension=kha_SystemImpl.gl.getExtension("EXT_blend_minmax")};$hxClasses["kha.js.graphics4.Graphics"]=kha_js_graphics4_Graphics,kha_js_graphics4_Graphics.__name__=["kha","js","graphics4","Graphics"],kha_js_graphics4_Graphics.__interfaces__=[kha_graphics4_Graphics],kha_js_graphics4_Graphics.getBlendFunc=function(e){switch(e[1]){case 0:case 2:return 0;case 1:return 1;case 3:return 770;case 4:return 772;case 5:return 771;case 6:return 773;case 7:return 768;case 8:return 774;case 9:return 769;case 10:return 775}},kha_js_graphics4_Graphics.getBlendOp=function(e){switch(e[1]){case 0:return 32774;case 1:return 32778;case 2:return 32779;case 3:return 32775;case 4:return 32776}},kha_js_graphics4_Graphics.prototype={begin:function(e){if(kha_SystemImpl.gl.enable(3042),kha_SystemImpl.gl.blendFunc(770,771),null==this.renderTarget)kha_SystemImpl.gl.bindFramebuffer(36160,null),kha_SystemImpl.gl.viewport(0,0,kha_System.windowWidth(),kha_System.windowHeight());else if(kha_SystemImpl.gl.bindFramebuffer(36160,this.renderTarget.frameBuffer),kha_SystemImpl.gl.viewport(0,0,this.renderTarget.get_width(),this.renderTarget.get_height()),null!=e){kha_SystemImpl.gl.framebufferTexture2D(36160,kha_SystemImpl.drawBuffers.COLOR_ATTACHMENT0_WEBGL,3553,this.renderTarget.texture,0);for(var t=0,a=e.length;t<a;){var r=t++;kha_SystemImpl.gl.framebufferTexture2D(36160,kha_SystemImpl.drawBuffers.COLOR_ATTACHMENT0_WEBGL+r+1,3553,js_Boot.__cast(e[r],kha_WebGLImage).texture,0)}for(var i=[kha_SystemImpl.drawBuffers.COLOR_ATTACHMENT0_WEBGL],s=0,n=e.length;s<n;)i.push(kha_SystemImpl.drawBuffers.COLOR_ATTACHMENT0_WEBGL+s++ +1);kha_SystemImpl.drawBuffers.drawBuffersWEBGL(i)}},end:function(){},flush:function(){},vsynced:function(){return!0},refreshRate:function(){return 60},clear:function(e,t,a){var r=0;null!=e&&(r=16384,kha_SystemImpl.gl.clearColor(.00392156862745098*((16711680&e)>>>16),.00392156862745098*((65280&e)>>>8),.00392156862745098*(255&e),.00392156862745098*(e>>>24))),null!=t&&(r|=256,kha_SystemImpl.gl.enable(2929),kha_SystemImpl.gl.depthMask(!0),kha_SystemImpl.gl.clearDepth(t)),null!=a&&(r|=1024,kha_SystemImpl.gl.enable(2960),kha_SystemImpl.gl.stencilMask(255),kha_SystemImpl.gl.clearStencil(a)),kha_SystemImpl.gl.clear(r),this.depthTest?kha_SystemImpl.gl.enable(2929):kha_SystemImpl.gl.disable(2929),kha_SystemImpl.gl.depthMask(this.depthMask)},viewport:function(e,t,a,r){kha_SystemImpl.gl.viewport(e,(null==this.renderTarget?kha_System.windowHeight(0):this.renderTarget.get_height())-t-r,a,r)},setDepthMode:function(e,t){switch(t[1]){case 0:e?kha_SystemImpl.gl.enable(2929):kha_SystemImpl.gl.disable(2929),this.depthTest=e,kha_SystemImpl.gl.depthFunc(519);break;case 1:kha_SystemImpl.gl.enable(2929),this.depthTest=!0,kha_SystemImpl.gl.depthFunc(512);break;case 2:kha_SystemImpl.gl.enable(2929),this.depthTest=!0,kha_SystemImpl.gl.depthFunc(514);break;case 3:kha_SystemImpl.gl.enable(2929),this.depthTest=!0,kha_SystemImpl.gl.depthFunc(517);break;case 4:kha_SystemImpl.gl.enable(2929),this.depthTest=!0,kha_SystemImpl.gl.depthFunc(513);break;case 5:kha_SystemImpl.gl.enable(2929),this.depthTest=!0,kha_SystemImpl.gl.depthFunc(515);break;case 6:kha_SystemImpl.gl.enable(2929),this.depthTest=!0,kha_SystemImpl.gl.depthFunc(516);break;case 7:kha_SystemImpl.gl.enable(2929),this.depthTest=!0,kha_SystemImpl.gl.depthFunc(518)}kha_SystemImpl.gl.depthMask(e),this.depthMask=e},setBlendingMode:function(e,t,a,r,i,s){e==kha_graphics4_BlendingFactor.BlendOne&&t==kha_graphics4_BlendingFactor.BlendZero?kha_SystemImpl.gl.disable(3042):(kha_SystemImpl.gl.enable(3042),kha_SystemImpl.gl.blendFuncSeparate(kha_js_graphics4_Graphics.getBlendFunc(e),kha_js_graphics4_Graphics.getBlendFunc(t),kha_js_graphics4_Graphics.getBlendFunc(r),kha_js_graphics4_Graphics.getBlendFunc(i)),kha_SystemImpl.gl.blendEquationSeparate(kha_js_graphics4_Graphics.getBlendOp(a),kha_js_graphics4_Graphics.getBlendOp(s)));
},createVertexBuffer:function(e,t,a,r){return null==r&&(r=!1),new kha_graphics4_VertexBuffer(e,t,a)},setVertexBuffer:function(e){js_Boot.__cast(e,kha_graphics4_VertexBuffer).set(0)},setVertexBuffers:function(e){for(var t=0,a=0;a<e.length;){var r=e[a];++a,t+=js_Boot.__cast(r,kha_graphics4_VertexBuffer).set(t)}},createIndexBuffer:function(e,t,a){return null==a&&(a=!1),new kha_graphics4_IndexBuffer(e,t)},setIndexBuffer:function(e){this.indicesCount=e.count(),js_Boot.__cast(e,kha_graphics4_IndexBuffer).set()},createCubeMap:function(e,t,a,r){return null==r&&(r=!1),null},setTexture:function(e,t){null==t?(kha_SystemImpl.gl.activeTexture(33984+js_Boot.__cast(e,kha_js_graphics4_TextureUnit).value),kha_SystemImpl.gl.bindTexture(3553,null)):js_Boot.__cast(t,kha_WebGLImage).set(js_Boot.__cast(e,kha_js_graphics4_TextureUnit).value)},setTextureDepth:function(e,t){js_Boot.__cast(t,kha_WebGLImage).setDepth(js_Boot.__cast(e,kha_js_graphics4_TextureUnit).value)},setVideoTexture:function(e,t){null==t?(kha_SystemImpl.gl.activeTexture(33984+js_Boot.__cast(e,kha_js_graphics4_TextureUnit).value),kha_SystemImpl.gl.bindTexture(3553,null)):js_Boot.__cast(js_Boot.__cast(t,kha_js_Video).texture,kha_WebGLImage).set(js_Boot.__cast(e,kha_js_graphics4_TextureUnit).value)},setImageTexture:function(e,t){},setTextureParameters:function(e,t,a,r,i,s){switch(kha_SystemImpl.gl.activeTexture(33984+js_Boot.__cast(e,kha_js_graphics4_TextureUnit).value),t[1]){case 0:kha_SystemImpl.gl.texParameteri(3553,10242,10497);break;case 1:kha_SystemImpl.gl.texParameteri(3553,10242,33648);break;case 2:kha_SystemImpl.gl.texParameteri(3553,10242,33071)}switch(a[1]){case 0:kha_SystemImpl.gl.texParameteri(3553,10243,10497);break;case 1:kha_SystemImpl.gl.texParameteri(3553,10243,33648);break;case 2:kha_SystemImpl.gl.texParameteri(3553,10243,33071)}switch(r[1]){case 0:switch(s[1]){case 0:kha_SystemImpl.gl.texParameteri(3553,10241,9728);break;case 1:kha_SystemImpl.gl.texParameteri(3553,10241,9984);break;case 2:kha_SystemImpl.gl.texParameteri(3553,10241,9986)}break;case 1:case 2:switch(s[1]){case 0:kha_SystemImpl.gl.texParameteri(3553,10241,9729);break;case 1:kha_SystemImpl.gl.texParameteri(3553,10241,9985);break;case 2:kha_SystemImpl.gl.texParameteri(3553,10241,9987)}r==kha_graphics4_TextureFilter.AnisotropicFilter&&kha_SystemImpl.gl.texParameteri(3553,kha_SystemImpl.anisotropicFilter.TEXTURE_MAX_ANISOTROPY_EXT,4)}switch(i[1]){case 0:kha_SystemImpl.gl.texParameteri(3553,10240,9728);break;case 1:case 2:kha_SystemImpl.gl.texParameteri(3553,10240,9729)}},setCullMode:function(e){switch(e[1]){case 0:kha_SystemImpl.gl.enable(2884),kha_SystemImpl.gl.cullFace(1029);break;case 1:kha_SystemImpl.gl.enable(2884),kha_SystemImpl.gl.cullFace(1028);break;case 2:kha_SystemImpl.gl.disable(2884)}},setPipeline:function(e){this.setCullMode(e.cullMode),this.setDepthMode(e.depthWrite,e.depthMode),this.setStencilParameters(e.stencilMode,e.stencilBothPass,e.stencilDepthFail,e.stencilFail,e.stencilReferenceValue,e.stencilReadMask,e.stencilWriteMask),this.setBlendingMode(e.blendSource,e.blendDestination,e.blendOperation,e.alphaBlendSource,e.alphaBlendDestination,e.alphaBlendOperation),e.set()},setBool:function(e,t){kha_SystemImpl.gl.uniform1i(js_Boot.__cast(e,kha_js_graphics4_ConstantLocation).value,t?1:0)},setInt:function(e,t){kha_SystemImpl.gl.uniform1i(js_Boot.__cast(e,kha_js_graphics4_ConstantLocation).value,t)},setFloat:function(e,t){kha_SystemImpl.gl.uniform1f(js_Boot.__cast(e,kha_js_graphics4_ConstantLocation).value,t)},setFloat2:function(e,t,a){kha_SystemImpl.gl.uniform2f(js_Boot.__cast(e,kha_js_graphics4_ConstantLocation).value,t,a)},setFloat3:function(e,t,a,r){kha_SystemImpl.gl.uniform3f(js_Boot.__cast(e,kha_js_graphics4_ConstantLocation).value,t,a,r)},setFloat4:function(e,t,a,r,i){kha_SystemImpl.gl.uniform4f(js_Boot.__cast(e,kha_js_graphics4_ConstantLocation).value,t,a,r,i)},setFloats:function(e,t){kha_SystemImpl.gl.uniform1fv(js_Boot.__cast(e,kha_js_graphics4_ConstantLocation).value,t)},setVector2:function(e,t){kha_SystemImpl.gl.uniform2f(js_Boot.__cast(e,kha_js_graphics4_ConstantLocation).value,t.x,t.y)},setVector3:function(e,t){kha_SystemImpl.gl.uniform3f(js_Boot.__cast(e,kha_js_graphics4_ConstantLocation).value,t.x,t.y,t.z)},setVector4:function(e,t){kha_SystemImpl.gl.uniform4f(js_Boot.__cast(e,kha_js_graphics4_ConstantLocation).value,t.x,t.y,t.z,t.w)},setMatrix:function(e,t){this.matrixCache[0]=t._00,this.matrixCache[1]=t._01,this.matrixCache[2]=t._02,this.matrixCache[3]=t._03,this.matrixCache[4]=t._10,this.matrixCache[5]=t._11,this.matrixCache[6]=t._12,this.matrixCache[7]=t._13,this.matrixCache[8]=t._20,this.matrixCache[9]=t._21,this.matrixCache[10]=t._22,this.matrixCache[11]=t._23,this.matrixCache[12]=t._30,this.matrixCache[13]=t._31,this.matrixCache[14]=t._32,this.matrixCache[15]=t._33,kha_SystemImpl.gl.uniformMatrix4fv(js_Boot.__cast(e,kha_js_graphics4_ConstantLocation).value,!1,this.matrixCache)},drawIndexedVertices:function(e,t){null==t&&(t=-1),null==e&&(e=0),kha_SystemImpl.gl.drawElements(4,t==-1?this.indicesCount:t,5123,2*e)},convertStencilAction:function(e){switch(e[1]){case 0:return 7680;case 1:return 0;case 2:return 7681;case 3:return 7682;case 4:return 34055;case 5:return 7683;case 6:return 34056;case 7:return 5386}},setStencilParameters:function(e,t,a,r,i,s,n){if(null==n&&(n=255),null==s&&(s=255),e==kha_graphics4_CompareMode.Always&&t==kha_graphics4_StencilAction.Keep&&a==kha_graphics4_StencilAction.Keep&&r==kha_graphics4_StencilAction.Keep)kha_SystemImpl.gl.disable(2960);else{kha_SystemImpl.gl.enable(2960);var _=0;switch(e[1]){case 0:_=519;break;case 1:_=512;break;case 2:_=514;break;case 3:_=517;break;case 4:_=513;break;case 5:_=515;break;case 6:_=516;break;case 7:_=518}kha_SystemImpl.gl.stencilMask(n),kha_SystemImpl.gl.stencilOp(this.convertStencilAction(r),this.convertStencilAction(a),this.convertStencilAction(t)),kha_SystemImpl.gl.stencilFunc(_,i,s)}},scissor:function(e,t,a,r){kha_SystemImpl.gl.enable(3089),kha_SystemImpl.gl.scissor(e,(null==this.renderTarget?kha_System.windowHeight(0):this.renderTarget.get_height())-t-r,a,r)},disableScissor:function(){kha_SystemImpl.gl.disable(3089)},renderTargetsInvertedY:function(){return!0},drawIndexedVerticesInstanced:function(e,t,a){null==a&&(a=-1),null==t&&(t=0),this.instancedRenderingAvailable()&&this.instancedExtension.drawElementsInstancedANGLE(4,a==-1?this.indicesCount:a,5123,2*t,e)},instancedRenderingAvailable:function(){return this.instancedExtension},__class__:kha_js_graphics4_Graphics};var kha_js_graphics4_Graphics2=function(e){kha_graphics4_Graphics2.call(this,e)};$hxClasses["kha.js.graphics4.Graphics2"]=kha_js_graphics4_Graphics2,kha_js_graphics4_Graphics2.__name__=["kha","js","graphics4","Graphics2"],kha_js_graphics4_Graphics2.__super__=kha_graphics4_Graphics2,kha_js_graphics4_Graphics2.prototype=$extend(kha_graphics4_Graphics2.prototype,{drawVideoInternal:function(e,t,a,r,i){var s=js_Boot.__cast(e,kha_js_Video);this.drawScaledSubImage(s.texture,0,0,s.texture.get_width(),s.texture.get_height(),t,a,r,i)},begin:function(e,t){null==e&&(e=!0),kha_SystemImpl.gl.colorMask(!0,!0,!0,!0),kha_SystemImpl.gl.disable(2929),kha_SystemImpl.gl.depthFunc(519),kha_graphics4_Graphics2.prototype.begin.call(this,e,t)},__class__:kha_js_graphics4_Graphics2});var kha_js_graphics4_TextureUnit=function(e){this.value=e};$hxClasses["kha.js.graphics4.TextureUnit"]=kha_js_graphics4_TextureUnit,kha_js_graphics4_TextureUnit.__name__=["kha","js","graphics4","TextureUnit"],kha_js_graphics4_TextureUnit.__interfaces__=[kha_graphics4_TextureUnit],kha_js_graphics4_TextureUnit.prototype={__class__:kha_js_graphics4_TextureUnit};var kha_math_FastMatrix3=function(e,t,a,r,i,s,n,_,o){this._00=e,this._10=t,this._20=a,this._01=r,this._11=i,this._21=s,this._02=n,this._12=_,this._22=o};$hxClasses["kha.math.FastMatrix3"]=kha_math_FastMatrix3,kha_math_FastMatrix3.__name__=["kha","math","FastMatrix3"],kha_math_FastMatrix3.fromMatrix3=function(e){return new kha_math_FastMatrix3(e._00,e._10,e._20,e._01,e._11,e._21,e._02,e._12,e._22)},kha_math_FastMatrix3.prototype={__class__:kha_math_FastMatrix3};var kha_math_FastVector2=function(e,t){null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t};$hxClasses["kha.math.FastVector2"]=kha_math_FastVector2,kha_math_FastVector2.__name__=["kha","math","FastVector2"],kha_math_FastVector2.fromVector2=function(e){return new kha_math_FastVector2(e.x,e.y)},kha_math_FastVector2.prototype={get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},set_length:function(e){var t=this.get_length();if(0==t)return 0;var a=e/t;return this.x*=a,this.y*=a,e},toString:function(){return"FastVector2("+this.x+", "+this.y+")"},__class__:kha_math_FastVector2,__properties__:{set_length:"set_length",get_length:"get_length"}};var kha_math_FastVector3=function(e,t,a){null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t,this.z=a};$hxClasses["kha.math.FastVector3"]=kha_math_FastVector3,kha_math_FastVector3.__name__=["kha","math","FastVector3"],kha_math_FastVector3.fromVector3=function(e){return new kha_math_FastVector3(e.x,e.y,e.z)},kha_math_FastVector3.prototype={get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},set_length:function(e){var t=this.get_length();if(0==t)return 0;var a=e/t;return this.x*=a,this.y*=a,this.z*=a,e},toString:function(){return"FastVector3("+this.x+", "+this.y+", "+this.z+")"},__class__:kha_math_FastVector3,__properties__:{set_length:"set_length",get_length:"get_length"}};var kha_math_FastVector4=function(e,t,a,r){null==r&&(r=1),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t,this.z=a,this.w=r};$hxClasses["kha.math.FastVector4"]=kha_math_FastVector4,kha_math_FastVector4.__name__=["kha","math","FastVector4"],kha_math_FastVector4.fromVector4=function(e){return new kha_math_FastVector4(e.x,e.y,e.z,e.w)},kha_math_FastVector4.prototype={get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},set_length:function(e){var t=this.get_length();if(0==t)return 0;var a=e/t;return this.x*=a,this.y*=a,this.z*=a,this.w*=a,e},toString:function(){return"FastVector4("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},__class__:kha_math_FastVector4,__properties__:{set_length:"set_length",get_length:"get_length"}};var kha_math_Matrix3=function(e,t,a,r,i,s,n,_,o){this._00=e,this._10=t,this._20=a,this._01=r,this._11=i,this._21=s,this._02=n,this._12=_,this._22=o};$hxClasses["kha.math.Matrix3"]=kha_math_Matrix3,kha_math_Matrix3.__name__=["kha","math","Matrix3"],kha_math_Matrix3.prototype={__class__:kha_math_Matrix3};var kha_math_Matrix4=function(e,t,a,r,i,s,n,_,o,h,l,c,d,u,g,p){this._00=e,this._10=t,this._20=a,this._30=r,this._01=i,this._11=s,this._21=n,this._31=_,this._02=o,this._12=h,this._22=l,this._32=c,this._03=d,this._13=u,this._23=g,this._33=p};$hxClasses["kha.math.Matrix4"]=kha_math_Matrix4,kha_math_Matrix4.__name__=["kha","math","Matrix4"],kha_math_Matrix4.orthogonalProjection=function(e,t,a,r,i,s){return new kha_math_Matrix4(2/(t-e),0,0,-(t+e)/(t-e),0,2/(r-a),0,-(r+a)/(r-a),0,0,-2/(s-i),-(s+i)/(s-i),0,0,0,1)},kha_math_Matrix4.perspectiveProjection=function(e,t,a,r){var i=1/Math.tan(e/2);return new kha_math_Matrix4(i/t,0,0,0,0,i,0,0,0,0,(r+a)/(a-r),2*r*a/(a-r),0,0,-1,0)},kha_math_Matrix4.lookAt=function(e,t,a){var r=new kha_math_Vector3(t.x-e.x,t.y-e.y,t.z-e.z);r.set_length(1);var i=new kha_math_Vector3(r.y*a.z-r.z*a.y,r.z*a.x-r.x*a.z,r.x*a.y-r.y*a.x);i.set_length(1);var s=i.y*r.z-i.z*r.y,n=i.z*r.x-i.x*r.z,_=i.x*r.y-i.y*r.x;return new kha_math_Matrix4(i.x,i.y,i.z,-(i.x*e.x+i.y*e.y+i.z*e.z),s,n,_,-(s*e.x+n*e.y+_*e.z),-r.x,-r.y,-r.z,r.x*e.x+r.y*e.y+r.z*e.z,0,0,0,1)},kha_math_Matrix4.prototype={__class__:kha_math_Matrix4};var kha_math_Vector2=function(e,t){null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t};$hxClasses["kha.math.Vector2"]=kha_math_Vector2,kha_math_Vector2.__name__=["kha","math","Vector2"],kha_math_Vector2.prototype={get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},set_length:function(e){var t=this.get_length();if(0==t)return 0;var a=e/t;return this.x*=a,this.y*=a,e},__class__:kha_math_Vector2,__properties__:{set_length:"set_length",get_length:"get_length"}};var kha_math_Vector3=function(e,t,a){null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t,this.z=a};$hxClasses["kha.math.Vector3"]=kha_math_Vector3,kha_math_Vector3.__name__=["kha","math","Vector3"],kha_math_Vector3.prototype={get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},set_length:function(e){var t=this.get_length();if(0==t)return 0;var a=e/t;return this.x*=a,this.y*=a,this.z*=a,e},__class__:kha_math_Vector3,__properties__:{set_length:"set_length",get_length:"get_length"}};var kha_math_Vector4=function(e,t,a,r){null==r&&(r=1),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t,this.z=a,this.w=r};$hxClasses["kha.math.Vector4"]=kha_math_Vector4,kha_math_Vector4.__name__=["kha","math","Vector4"],kha_math_Vector4.prototype={get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},set_length:function(e){var t=this.get_length();if(0==t)return 0;var a=e/t;return this.x*=a,this.y*=a,this.z*=a,this.w*=a,e},__class__:kha_math_Vector4,__properties__:{set_length:"set_length",get_length:"get_length"}};var kha_network_Client=function(){};$hxClasses["kha.network.Client"]=kha_network_Client,kha_network_Client.__name__=["kha","network","Client"],kha_network_Client.prototype={__class__:kha_network_Client,__properties__:{get_id:"get_id"}};var kha_network_ControllerBuilder=function(){};$hxClasses["kha.network.ControllerBuilder"]=kha_network_ControllerBuilder,kha_network_ControllerBuilder.__name__=["kha","network","ControllerBuilder"];var kha_network_Entity=function(){};$hxClasses["kha.network.Entity"]=kha_network_Entity,kha_network_Entity.__name__=["kha","network","Entity"],kha_network_Entity.prototype={__class__:kha_network_Entity};var kha_network_LocalClient=function(e){this.myId=e};$hxClasses["kha.network.LocalClient"]=kha_network_LocalClient,kha_network_LocalClient.__name__=["kha","network","LocalClient"],kha_network_LocalClient.__interfaces__=[kha_network_Client],kha_network_LocalClient.prototype={send:function(e,t){},receive:function(e){},onClose:function(e){},get_controllers:function(){return null},get_id:function(){return this.myId},__class__:kha_network_LocalClient,__properties__:{get_id:"get_id",get_controllers:"get_controllers"}};var kha_network_Network=function(e,t,a,r){this.open=!1;var i=this;this.socket=new WebSocket("ws://"+e+":"+t),this.socket.onerror=function(e){haxe_Log.trace("Network error: "+e,{fileName:"Network.hx",lineNumber:14,className:"kha.network.Network",methodName:"new"}),a()},this.socket.binaryType="arraybuffer",this.socket.onopen=function(){i.open=!0},this.socket.onclose=function(e){haxe_Log.trace("Network connection closed",{fileName:"Network.hx",lineNumber:22,className:"kha.network.Network",methodName:"new"}),r()}};$hxClasses["kha.network.Network"]=kha_network_Network,kha_network_Network.__name__=["kha","network","Network"],kha_network_Network.prototype={send:function(e,t){this.open&&this.socket.send(e.b.bufferValue)},listen:function(e){this.socket.onmessage=function(t){e(haxe_io_Bytes.ofData(t.data))}},__class__:kha_network_Network};var kha_network_State=function(e,t){this.time=e,this.data=t};$hxClasses["kha.network.State"]=kha_network_State,kha_network_State.__name__=["kha","network","State"],kha_network_State.prototype={__class__:kha_network_State};var kha_network_Session=function(e,t,a){this.ping=1,this.currentPlayers=0,this.controllers=new haxe_ds_IntMap,this.entities=new haxe_ds_IntMap,kha_network_Session.instance=this,this.maxPlayers=e,this.address=t,this.port=a};$hxClasses["kha.network.Session"]=kha_network_Session,kha_network_Session.__name__=["kha","network","Session"],kha_network_Session.the=function(){return kha_network_Session.instance},kha_network_Session.prototype={get_me:function(){return this.localClient},addEntity:function(e){var t=e._id();this.entities.h[t]=e},addController:function(e){haxe_Log.trace("Adding controller id "+e._id(),{fileName:"Session.hx",lineNumber:88,className:"kha.network.Session",methodName:"addController"}),e._inputBufferIndex=0;var t=e._id();this.controllers.h[t]=e},sendControllerUpdate:function(e,t){if(this.controllers.h.hasOwnProperty(e)){if(this.controllers.h[e]._inputBuffer.length<this.controllers.h[e]._inputBufferIndex+4+t.length){var a=new haxe_io_Bytes(new ArrayBuffer(this.controllers.h[e]._inputBufferIndex+4+t.length));a.blit(0,this.controllers.h[e]._inputBuffer,0,this.controllers.h[e]._inputBufferIndex),this.controllers.h[e]._inputBuffer=a}this.controllers.h[e]._inputBuffer.setInt32(this.controllers.h[e]._inputBufferIndex,t.length),this.controllers.h[e]._inputBuffer.blit(this.controllers.h[e]._inputBufferIndex+4,t,0,t.length),this.controllers.h[e]._inputBufferIndex+=4+t.length}},sendPing:function(){var e=new haxe_io_Bytes(new ArrayBuffer(5));e.b[0]=4,e.setFloat(1,kha_Scheduler.realTime()),this.sendToServer(e)},sendPlayerUpdate:function(){},receive:function(e,t){switch(e.b[0]){case 0:this.localClient=new kha_network_LocalClient(e.b[1]),kha_Scheduler.resetTime(),this.startCallback();break;case 1:for(var a=e.getDouble(1),r=9,i=this.entities.iterator();i.hasNext();){var s=i.next();s._receive(r,e),r+=s._size()}kha_Scheduler.back(a);break;case 3:switch(e.b[1]){case 0:break;case 1:this.executeRPC(e)}break;case 4:var n=e.getFloat(1);this.ping=kha_Scheduler.realTime()-n;break;case 5:this.refusedCallback();break;case 6:this.currentPlayers=e.getInt32(1)}},executeRPC:function(e){var t=[],a=e.getInt32(2),r=6,i=e.getUInt16(6);r=8;for(var s="",n=0;n<i;)++n,s+=String.fromCharCode(e.b[r]),++r;var _=e.getUInt16(r);r+=2;for(var o="",h=0;h<_;)++h,o+=String.fromCharCode(e.b[r]),++r;for(;r<e.length;){var l=e.b[r];switch(++r,l){case 66:var c=1==e.b[r];++r,haxe_Log.trace("Bool: "+(null==c?"null":""+c),{fileName:"Session.hx",lineNumber:288,className:"kha.network.Session",methodName:"executeRPC"}),t.push(c);break;case 70:var d=e.getDouble(r);r+=8,haxe_Log.trace("Float: "+d,{fileName:"Session.hx",lineNumber:293,className:"kha.network.Session",methodName:"executeRPC"}),t.push(d);break;case 73:var u=e.getInt32(r);r+=4,haxe_Log.trace("Int: "+u,{fileName:"Session.hx",lineNumber:298,className:"kha.network.Session",methodName:"executeRPC"}),t.push(u);break;case 83:var g=e.getUInt16(r);r+=2;for(var p="",m=0;m<g;)++m,p+=String.fromCharCode(e.b[r]),++r;haxe_Log.trace("String: "+p,{fileName:"Session.hx",lineNumber:308,className:"kha.network.Session",methodName:"executeRPC"}),t.push(p);break;default:haxe_Log.trace("Unknown argument type.",{fileName:"Session.hx",lineNumber:311,className:"kha.network.Session",methodName:"executeRPC"})}}a==-1?Reflect.field(Type.resolveClass(s),o+"_remotely").apply(null,t):Reflect.field(kha_network_SyncBuilder.objects[a],o+"_remotely").apply(kha_network_SyncBuilder.objects[a],t)},waitForStart:function(e,t,a,r,i){var s=this;this.startCallback=e,this.refusedCallback=t,this.resetCallback=i,this.network=new kha_network_Network(this.address,this.port,a,function(){r(),s.reset()}),this.network.listen(function(e){s.receive(e)}),this.updateTaskId=kha_Scheduler.addFrameTask($bind(this,this.update),0),this.ping=1,this.pingTaskId=kha_Scheduler.addTimeTask($bind(this,this.sendPing),0,1)},reset:function(){kha_Scheduler.removeFrameTask(this.updateTaskId),kha_Scheduler.removeTimeTask(this.pingTaskId),this.currentPlayers=0,this.ping=1,this.controllers=new haxe_ds_IntMap,this.entities=new haxe_ds_IntMap,this.resetCallback()},update:function(){for(var e=this.controllers.iterator();e.hasNext();){var t=e.next();if(t._inputBufferIndex>0){var a=new haxe_io_Bytes(new ArrayBuffer(22+t._inputBufferIndex));a.b[0]=2,a.setInt32(1,t._id()),a.setDouble(5,kha_Scheduler.realTime()),a.setInt32(13,kha_System.windowWidth(0)),a.setInt32(17,kha_System.windowHeight(0)),a.b[21]=255&kha_System.get_screenRotation()[1],a.blit(22,t._inputBuffer,0,t._inputBufferIndex),this.sendToServer(a),t._inputBufferIndex=0}}},sendToServer:function(e){this.network.send(e,!1)},__class__:kha_network_Session,__properties__:{get_me:"get_me"}};var kha_network_SyncBuilder=function(){};$hxClasses["kha.network.SyncBuilder"]=kha_network_SyncBuilder,kha_network_SyncBuilder.__name__=["kha","network","SyncBuilder"];var kha_simd_Float32x4=function(e,t,a,r){this._0=e,this._1=t,this._2=a,this._3=r};$hxClasses["kha.simd.Float32x4"]=kha_simd_Float32x4,kha_simd_Float32x4.__name__=["kha","simd","Float32x4"],kha_simd_Float32x4.create=function(){return new kha_simd_Float32x4(0,0,0,0)},kha_simd_Float32x4.loadAllFast=function(e){return new kha_simd_Float32x4(e,e,e,e)},kha_simd_Float32x4.load=function(e,t,a,r){return new kha_simd_Float32x4(e,t,a,r)},kha_simd_Float32x4.loadFast=function(e,t,a,r){return new kha_simd_Float32x4(e,t,a,r)},kha_simd_Float32x4.get=function(e,t){var a=0;switch(t){case 0:a=e._0;break;case 1:a=e._1;break;case 2:a=e._2;break;case 3:a=e._3}return a},kha_simd_Float32x4.getFast=function(e,t){switch(t){case 0:return e._0;case 1:return e._1;case 2:return e._2;case 3:return e._3}return 0},kha_simd_Float32x4.abs=function(e){return new kha_simd_Float32x4(Math.abs(e._0),Math.abs(e._1),Math.abs(e._2),Math.abs(e._3))},kha_simd_Float32x4.add=function(e,t){return new kha_simd_Float32x4(e._0+t._0,e._1+t._1,e._2+t._2,e._3+t._3)},kha_simd_Float32x4.div=function(e,t){return new kha_simd_Float32x4(e._0/t._0,e._1/t._1,e._2/t._2,e._3/t._3)},kha_simd_Float32x4.mul=function(e,t){return new kha_simd_Float32x4(e._0*t._0,e._1*t._1,e._2*t._2,e._3*t._3)},kha_simd_Float32x4.neg=function(e){return new kha_simd_Float32x4(-e._0,-e._1,-e._2,-e._3)},kha_simd_Float32x4.reciprocalApproximation=function(e){return new kha_simd_Float32x4(0,0,0,0)},kha_simd_Float32x4.reciprocalSqrtApproximation=function(e){return new kha_simd_Float32x4(0,0,0,0)},kha_simd_Float32x4.sub=function(e,t){return new kha_simd_Float32x4(e._0-t._0,e._1-t._1,e._2-t._2,e._3-t._3)},kha_simd_Float32x4.sqrt=function(e){return new kha_simd_Float32x4(Math.sqrt(e._0),Math.sqrt(e._1),Math.sqrt(e._2),Math.sqrt(e._3))},kha_simd_Float32x4.prototype={__class__:kha_simd_Float32x4};var $_,$fid=0;$hxClasses.Math=Math,String.prototype.__class__=$hxClasses.String=String,String.__name__=["String"],$hxClasses.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=$hxClasses.Date=Date,Date.__name__=["Date"];var Int=$hxClasses.Int={__name__:["Int"]},Dynamic=$hxClasses.Dynamic={__name__:["Dynamic"]},Float=$hxClasses.Float=Number;Float.__name__=["Float"];var Bool=$hxClasses.Bool=Boolean;Bool.__ename__=["Bool"];var Class=$hxClasses.Class={__name__:["Class"]},Enum={},__map_reserved={},ArrayBuffer=$global.ArrayBuffer||js_html_compat_ArrayBuffer;null==ArrayBuffer.prototype.slice&&(ArrayBuffer.prototype.slice=js_html_compat_ArrayBuffer.sliceImpl);var DataView=$global.DataView||js_html_compat_DataView,Float32Array=$global.Float32Array||js_html_compat_Float32Array._new,Uint8Array=$global.Uint8Array||js_html_compat_Uint8Array._new;Main.projectName="animation",Main.projectPackage="arm",Main.projectWidth=960,Main.projectHeight=500,Main.projectSamplesPerPixel=1,Main.projectScene="Scene",armory_renderpath_FFT.firstFrame=!0,armory_renderpath_HosekWilkie.firstFrame=!0,armory_renderpath_HosekWilkieData.datasetRGB1=[-1.099459,-.1335146,-4.083223,5.919603,-.1104166,1.600158,-1326538e-12,4.917807,.5127716,-1.169858,-.1832793,.9694744,.09495762,-.04738918,.2194171,.1095749,3.603604,.3815119,-.9665225,-.1403888,5.194457,-1.107607,-.8135181,4.969661,-.2300508,-2.48935,1.279158,-1.292508,-.1299552,-2.071404,-.04752482,1.215598,-1.904179,.3027985,8.707768,.06332446,-.9264666,-.169678,4.57407,-.4232936,-7.575833,5.079755,-.2576343,-4.506805,.6908129,-1.139072,-.1796056,1.923311,6.788529,-2.364389,-1.064041,.171701,1.534681,.501581,-1.107257,-.1384411,-4.285744,5.713157,-.1015992,1.372638,.06555893,5.127514,.6550471,-1.187337,-.1969013,.8551048,.05289708,-.07626406,.01733153,.1779454,3.801038,.4742709,-.9685321,-.1553308,4.732492,-1.178935,-.7852791,4.604492,-.2666518,-2.367663,1.177527,-1.252817,-.05129949,-2.800433,-.01295992,1.308964,-2.204331,.7276011,8.699265,.1188388,-.9459509,-.2322133,4.375041,-.1712018,-7.451681,5.078019,-.4223538,-4.595561,1.074719,-1.125092,-.179675,1.626399,6.989743,-2.406382,-.9060383,.2961611,1.337715,.543814,-1.135338,-.171616,-1.499253,2.373491,-.1654023,.9566404,.1113453,4.528473,.6579439,-1.13278,-.1456214,-1.736672,1.756589,-.1087003,.3757927,.252507,7.178513,.5003814,-1.167176,-.2927225,5.727667,-3.139244,-.6425204,2.822634,-.1457812,-6.78708,1.017072,-1.042529,.04110823,-4.000629,4.362364,1.09054,-1.338674,.8246964,10.95249,.2912211,-1.061598,-.2096143,3.803155,-7.977069,-3.63788,3.707671,-.1903128,-3.397953,.99715,-1.07356,-.2077964,1.492052,16.26322,-5.015304,-.4059889,.2659782,.639538,.5634436,-1.172794,-.2111186,-1.360013,1.60408,-.08473723,.7217312,.154803,4.25701,.6328974,-1.238374,-.2670827,.3247678,.5466311,-.7425952,.527644,.02678026,5.484169,.6814734,-1.176923,-.2574586,2.304045,-2.797678,1.464405,1.998552,.2550559,-4.199772,.7544892,-1.003284,.01943984,-2.145066,10.30924,-15.25413,-2.02301,.5448699,8.159497,.5539148,-1.060017,-.2037206,2.483018,-4.595459,6.526991,4.031804,.1206513,-2.586527,.7875752,-1.081141,-.2123302,1.092275,2.683841,-4.166938,-1.396582,.4371205,1.030233,.6664862,-1.222392,-.2651924,-.4625037,.3521964,.02148855,.5078494,.179159,3.852516,.5998216,-1.42461,-.4710155,-.1826815,1.786277,-1.952442,.5277612,-.01773629,2.415874,.6701272,-1.130655,-.1358609,.9171203,-4.660394,6.251162,1.904529,.2639668,1.85613,.822844,-.9739015,-.06674749,-.4768897,12.48589,-19.94688,-2.353043,.5885575,1.287251,.4830135,-1.082178,-.1974495,1.050245,-4.792855,8.663406,3.246969,.1556731,.8117442,.8050376,-1.063354,-.1727108,.9681592,2.736077,-4.969269,-.836057,.5994612,1.024039,.6786935,-1.261936,-.3053676,-.4262222,.4000196,-.02059388,.4721802,.1480028,3.505343,.6121337,-1.681088,-.6971919,-.1105652,.7437426,-.6594399,.2254221,.08710195,1.263913,.5681865,-.9453001,.03460388,.6067038,-1.985128,3.457236,2.655483,-.01162354,3.304716,1.00195,-1.086609,-.2029011,-.639917,6.926885,-15.12189,-3.793051,.945612,.2222222,.2893725,-1.041259,-.138879,1.147331,6.282086,3.679836,4.398314,-.1355232,1.031134,.9273509,-1.063473,-.1916051,.6556979,-.003371891,-3.699664,-1.926783,.7371154,1.179975,.6367068,-1.33639,-.3778927,-.7259477,.2270247,.4627513,.1366459,.2637347,3.292059,.4998211,-2.119878,-1.055472,.5422052,.7826648,-1.286065,.9517905,-.1432358,-.2379816,.5910513,-.7761432,.2124336,-.6845184,-.9812342,4.347257,.967198,.377315,5.789529,.9646598,-1.118734,-.3513815,.5500918,.9449627,-12.6207,-1.82528,.473126,-3.326892,.3568768,-1.026437,-.08257946,.3221701,11.98372,1.55513,2.560304,.1406465,2.912858,.8643181,-1.069949,-.2029607,.5825042,-.002398595,-3.278335,-1.349882,.7208433,.8505164,.6625391,-1.392309,-.4454945,-.5664,.6283393,-.3761727,.6949802,.07748178,3.192797,.5968661,-2.713405,-1.395112,.202923,.1877272,-.3715859,-.1652929,.2385861,-.4150768,.1375467,-.9588644,.024339,-1.527493,-.9632874,5.496269,1.094931,.2004044,6.084554,1.369604,-.8028546,-.2473563,1.617898,2.073591,-11.49446,-.8394131,.2726847,-4.634538,.1367293,-1.198326,-.1804865,-.3565414,4.0732,1.662086,1.23977,.3367978,2.997402,.9360383,-1.013531,-.185906,.5799857,13.31883,-4.346873,-1.11382,.5275714,.8045177,.6496373,-1.530103,-.6107468,-.3841771,1.881508,-1.464807,.665469,-5950797e-12,2.738912,.8101012,-2.415469,-1.057499,-.4161968,-2.357548,.6300296,.6224915,.01545048,2.038561,-.1339415,-3.096796,-1.465688,-1.199232,4.567061,3.26098,-.9794907,.8950491,2.049235,1.331015,.2713904,.2852852,1.20209,-8.206784,-5.805762,1.804431,-.6090648,-1.990902,.3288858,-1.45658,-.345596,-.06409257,16.67697,-2.311094,-.9771104,.6759863,1.245136,.7911932,-.9860389,-.2099564,.294665,-.0035478,-2.268313,-.06205647,.4705185,.8657995,.6856284,-1.971736,-.9414047,-.3400557,1.468763,-1.474284,.5501062,-110975e-10,2.35637,.9001702,-1.589845,-.7797079,-.558224,-.8137376,.5846617,.1129459,-.02658005,2.707248,-.2112486,-6.940173,-2.823963,-1.620848,1.090696,2.39173,1.370047,.5890462,1.7284,1.331253,1.293144,-.001919778,1.644206,-.8666967,-7.161953,-1.385018,-.1505374,-1.388643,.2530122,-1.48888,-.2495496,-.2377137,11.67714,-.8617124,1.053828,.1992744,.3633564,.8553304,-1.060891,-.4035829,.2823207,-.002369798,-1.876577,-.5950265,.4241017,.3140802,.6631669,-1.101204,-.1351353,-4.030882,6.096353,-.1148599,1.606507,-1555474e-12,4.436084,.5973715,-1.154597,-.1923378,.8512132,.2934895,-.06522777,.1389077,.09091469,3.133307,.2108541,-1.031588,-.1546804,5.266214,-.949139,-.7184867,4.875626,-.1911907,-2.865642,1.087895,-1.159454,-.09546699,-1.508146,-.02031411,1.040653,-2.333508,.2540592,8.594981,.0931677,-1.03594,-.2021151,4.719343,-.9019318,-7.858046,3.901234,-.2233137,-4.344739,.6550733,-1.096669,-.1558196,2.057553,6.274495,-2.678352,-1.814927,.1550676,1.903276,.4998989,-1.114209,-.1473531,-7.602914,8.973685,-.04980074,1.289198,.08366906,4.557987,.6118757,-1.149397,-.1981628,4.914096,-3.498986,-.0625709,.1667401,.104898,2.284689,.5935965,-1.056121,-.1456172,.4272656,2.912649,-.5501745,4.406542,-.138768,1.245555,.9733011,-1.125047,-.04003662,1.058457,-3.462236,.4395278,-2.395805,.5177589,4.866247,.4253189,-1.051444,-.2804541,3.364668,3.293787,-10.15741,3.807407,-.3592377,-3.367415,.7900825,-1.093847,-.1436965,2.38478,5.78707,-2.445987,-1.311171,.2326563,1.158439,.5555416,-1.134824,-.1680468,-3.32562,4.458596,-.1135063,1.1045,.07794544,4.609952,.6854854,-1.143017,-.1565926,.3014687,-.1763027,-.03557925,-.2342406,.2528705,5.884085,.4750602,-1.136801,-.2907502,3.682423,-.4061202,-.8728159,4.00151,-.1522202,-5.528713,1.044847,-1.063652,.07808107,-1.983678,.3648078,2.102276,-3.06505,.8431951,10.3883,.2662834,-1.061015,-.2859814,4.223615,-2.290138,-8.31401,4.405718,-.4613627,-4.50291,1.008383,-1.106302,-.1697123,2.087196,8.238929,-2.992416,-1.821776,.3434859,.7755179,.534119,-1.17111,-.2106304,-1.614361,2.378103,-.1625969,.8504483,.1059312,4.046256,.6618227,-1.20048,-.2235733,1.01439,-1.174074,-.444018,.2262406,.1665868,5.461829,.567631,-1.223587,-.3502622,1.699106,.6724266,1.268567,2.135102,.0008039374,-5.221111,.944569,-.9452673,.1468459,-1.335034,4.346628,-12.85652,-1.807046,.8175243,9.301065,.3656798,-1.134681,-.3310951,3.571244,-2.208948,6.04158,3.107577,-.3112127,-4.186351,.9188333,-1.083237,-.1831394,2.062654,1.385424,-5.00495,-1.332669,.3627352,.332315,.6191181,-1.211527,-.2590617,-.1660874,.3627905,-.1039258,.4697924,.1671653,3.507497,.6022506,-1.433017,-.4733592,.1724445,.9953236,-1.874457,.4432099,.0171581,2.339272,.644147,-1.08492,-.1587903,.8999585,-2.537516,5.877859,2.014554,.09689141,.3177242,.9030399,-1.008242,.00279303,-.3507469,10.283,-20.80454,-2.781026,.899509,3.366951,.3473867,-1.103151,-.2799598,2.525791,-4.255704,9.903388,3.722668,-.3603941,-1.303292,.9369454,-1.102235,-.2025061,2.08566,1.686787,-5.010957,-1.656458,.4584029,-.2751759,.6184162,-1.25613,-.3104904,.163935,.1315502,-.7297583,.477848,.1259265,3.012108,.6202728,-1.620114,-.655267,-.2877157,1.094371,.2818914,.369683,.09428521,1.450951,.5681308,-.9686204,-.03755647,1.46998,-3.103414,2.856583,1.883209,-.05746099,1.286383,1.001751,-1.089377,-.1023062,-1.498891,10.66455,-17.20184,-2.759314,1.061258,2.910211,.2624701,-1.044681,-.2156857,3.230136,-.5863862,6.09664,3.550019,-.4255773,-1.500033,.9687696,-1.133658,-.2505101,1.71784,.008480428,-5.011789,-1.740989,.498343,-.2081829,.6088641,-1.335366,-.3863319,-.5279971,.3638324,.3230699,.08339707,.2483293,2.678646,.4998346,-2.004511,-.9957121,1.250807,.01625025,-.3410754,.7858244,-.09506757,.02651876,.5788643,-.8714157,.1192051,-.8486879,-.3702497,1.818277,1.103427,.2454866,3.841575,.984735,-1.042618,-.2285793,.3620175,2.983368,-9.776844,-1.971587,.6691674,-.7901947,.32132,-1.099112,-.1869868,2.044065,2.062964,1.265668,2.71013,-.1099443,.2179353,.9024108,-1.106985,-.2396881,1.809807,8.523319,-5.011788,-1.590086,.3248449,-.1003187,.6550606,-1.421285,-.4767024,-.3885004,.827459,-.3644229,.6999513,.0519671,2.578431,.624631,-2.611217,-1.398846,.4527425,-.5932142,.2224617,-.5593581,.3389633,-.7767112,.06536004,-.9881543,.04684782,-.8616613,.8799807,4.00313,1.739543,-.08098378,5.524802,1.499673,-.7544759,-.2314808,.812577,-.7724135,-9.577645,-1.629433,.6790832,-4.193895,-.02526624,-1.273719,-.218703,1.401798,5.231832,.7405093,1.775166,-.07269476,1.996087,1.05745,-1.046864,-.2247559,1.679449,11.40057,-4.948829,-1.182664,.3241038,-.2470012,.61159,-1.514607,-.598543,-.187761,1.75693,-1.314206,.611581,-597046e-11,2.412975,.8124304,-2.308414,-1.083797,-.1179959,-1.728246,.7784742,.5494505,.006203168,.9326251,-.1419518,-3.230837,-1.43867,-.9868286,2.974393,1.949339,-.6337857,.8160271,3.278606,1.354373,.5149378,.2754789,1.040965,-4.501186,-3.399057,.9661861,-.4736173,-4.037574,.2794847,-1.62187,-.3192763,.8786242,9.785565,-2.727652,.01903691,.5521261,2.138764,.8419871,-.9951701,-.2550607,1.498952,-.002737197,-3.101832,-.5921329,.2864422,-.4405218,.663141,-1.902954,-.9056918,-.206957,1.191499,-1.092577,.5849556,-9649602e-12,2.048407,.9001527,-1.271627,-.7193923,-.01136606,-.1167951,.003286175,-.05262827,-.02473874,1.716125,-.2187133,-7.647175,-3.114129,-1.490128,-.5266488,3.06309,1.474262,.5481458,2.052174,1.353089,2.191403,.342112,1.44651,2.170943,-7.768187,-1.471207,-.1456708,-1.753574,.2310576,-1.932296,-.3814739,.6245422,6.748294,-.3060171,1.067747,.2500671,-.1252596,.8614611,-.9471101,-.405264,1.300174,-.003951536,-1.908284,-.5385721,.2133578,-.6250292,.6658012],
armory_renderpath_HosekWilkieData.datasetRGBRad1=[1.962684,1.159831,4.450588,5.079633,4.437388,4.324573,1.946487,1.287515,3.703696,8.782833,3.440437,5.160333,1.88217,1.335878,2.648641,13.58368,3.105473,5.907387,1.738159,1.624289,-.008786695,21.18253,2.770255,7.055672,1.571896,2.301786,-4.028545,29.66806,1.630876,8.711031,1.475048,2.679086,-6.311315,33.77896,2.140975,9.385283,1.326174,3.378759,-9.831444,39.42061,2.852702,10.82542,1.153344,3.967771,-12.65181,41.95016,7.468239,12.2135,.9746081,4.051626,-12.98454,37.54964,17.49232,14.20619,.8448016,3.181809,-8.757338,21.97962,35.24033,16.39549,2.029623,1.364434,4.201529,5.415099,9.825839,10.63328,2.023126,1.494728,3.420413,9.072178,9.205157,11.86639,1.956307,1.648665,2.039712,14.30239,9.039526,13.30453,1.825053,1.985022,-.8036307,22.02493,9.415361,15.17659,1.650367,2.593201,-4.469328,29.69817,9.410977,17.4485,1.555202,2.962925,-6.60817,33.29887,10.64559,18.50816,1.412478,3.439403,-9.196616,36.85077,13.45341,20.03128,1.25299,3.820805,-11.15338,37.21593,20.14916,21.8232,1.091952,3.663027,-10.3133,29.78985,32.96835,23.7545,.9501691,2.664579,-5.545167,12.81159,51.54768,25.74284],armory_renderpath_HosekWilkieData.datasetRGB2=[-1.14053,-.1982747,-7.51273,8.403899,-.05699038,.9015907,.03392161,4.772522,.5111184,-1.165117,-.1852955,2.963684,-2.262274,-.1571683,.6339974,.04977879,7.243307,.4220053,-1.169936,-.3357429,1.911291,-.2391074,-.4791643,1.446113,-.09178108,-4.700239,.8096219,-1.060246,-.1051633,.5013829,2.832309,-.3707855,1.523131,.09163749,5.604183,.7208566,-1.089753,-.2382167,2.360312,-5.902562,-8.799894,1.377692,-.06131633,-1.415472,.6124057,-1.075481,-.1242391,1.425781,8.810319,-2.922646,1.48652,.0327058,3.889783,.4999482,-1.149342,-.2076337,-7.446587,8.014559,-.04866227,.8203043,.06386483,4.894198,.5452051,-1.120531,-.1513311,2.735504,-2.417591,-.1361114,.4296342,.09427488,8.171403,.4102448,-1.226964,-.3516378,1.308298,-.05097487,-.4846783,1.654619,-.113494,-3.347854,1.131147,-.9664377,.02767589,.1658235,2.407439,-.1300304,.9170958,.2742895,6.642633,.2550064,-1.153358,-.3126223,2.078934,-5.857733,-8.659848,1.758505,-.09616094,-1.230863,.9663832,-1.05385,-.1330743,1.481738,10.49485,-3.528854,.9142363,.124488,2.644615,.5001048,-1.173687,-.2360362,-3.741454,4.088507,-.07528205,.6645237,.07718265,4.65122,.5586318,-1.213757,-.2589561,.7132551,-.4259327,-.1980821,.3627815,.0466656,5.807984,.5847377,-1.108794,-.225987,1.574179,-.3753731,-.5984743,1.659414,-.01681021,.6785219,.8647325,-1.060896,-.0134669,-.7529656,1.711319,-.9792435,.2022433,.3826487,5.725157,.5290714,-1.085145,-.2840715,2.088029,-4.935097,-9.056542,1.976149,-.03912485,-.8636064,.7452125,-1.077983,-.1416633,1.100848,10.15875,-2.943712,.5255135,.2164224,2.941143,.6699937,-1.223293,-.2867444,-1.624136,1.668299,-.09537589,.5015947,.1130741,4.244812,.5082152,-1.325342,-.4280991,.470549,.06926592,-.4572587,.5344144,-.02554192,3.093939,.6639401,-1.113581,-.1192133,.4011536,.7011889,.2052842,.9880724,.01807533,4.69016,.857624,-1.016063,-.1038138,-.2280391,.7898918,-11.27333,.2074545,.5388182,1.364263,.4660455,-1.099582,-.2228607,1.332648,5.135188,1.653152,1.41702,-.1087532,1.809275,.8080874,-1.064357,-.1520775,.8207368,-.001323565,-5.009523,.3946298,.4337902,2.593198,.6719172,-1.278702,-.3512866,-.4511055,.389576,-.2429672,.4270577,.1135348,3.71913,.4998867,-1.580069,-.7095475,-.3198904,1.715748,-1.185915,.4523161,-.01026159,.7927188,.553835,-.9474023,.1173703,.4881381,-2.618684,3.251661,1.213931,-.01736274,8.000768,1.025998,-1.129091,-.3287694,-.3524077,3.352892,-14.16073,-.8485617,.6560766,-2.820937,.3111303,-1.030884,-.1137581,1.109855,8.082276,1.519214,2.112433,-.1592299,3.675905,.8703367,-1.075192,-.1627166,.351491,1.168164,-4.255822,-.6015348,.6265776,2.884818,.6548384,-1.316017,-.3889652,-.5030854,.4488704,-.31868,.4570763,.08909201,3.659274,.5011746,-1.731876,-.8493806,.1194871,2.002781,-2.006547,.4872233,-.02854606,.2662137,.4611629,-.927368,.1380954,-.3302179,-3.553265,4.633345,.9696729,.08799775,8.291129,1.094451,-1.099377,-.3325392,.2501063,2.613712,-13.28142,-.5579527,.4992081,-3.504402,.3022924,-1.04842,-.1227773,.5845373,11.05869,.03813151,1.330409,.01978131,3.95943,.8396439,-1.063233,-.1560639,.2840033,.8751565,-3.41182,-.1436564,.584658,2.899292,.6799095,-1.376715,-.4541567,-1.445491,1.569898,-.1390627,.555827,.04109877,3.349451,.5516123,-1.953391,-1.035869,1.690563,-.196469,-.7787096,.5799605,.02945626,.04217906,.2451373,-1.012422,.07136451,-1.862534,-.7228653,.1947997,.2091805,.06399233,7.928994,1.290733,-.9706708,-.288095,1.107797,-2.731734,-8.445995,.4296774,.5117648,-3.824277,.1761207,-1.110611,-.1789409,.2108488,20.7143,-1.763174,.09554695,-.02943103,3.422079,.8815496,-1.048334,-.1614087,.2475184,.02146938,-2.983901,.2538224,.560137,2.461925,.6777394,-1.393719,-.5002724,-2.40894,2.680983,-.1362825,.7395067,-3300343e-12,3.260889,.8132057,-2.128663,-1.151182,2.923026,-1.931838,-.442617,.2309983,-.00548589,.3279529,-.2229467,-1.618022,-.376649,-3.163544,1.611608,-.3967476,.393368,.3006742,6.835177,1.613765,-.5669064,-.1481749,2.071817,-8.157422,-5.988088,.2387202,.1447191,-4.296385,.05011258,-1.241724,-.2519348,-.1908609,29.52235,-3.33366,-.01837651,.1022249,2.92932,.8867262,-1.02167,-.1667327,.1789771,-.002178108,-2.641572,-.05641484,.5303758,2.138196,.678035,-1.669332,-.7588708,-2.993557,3.17876,-.08066442,.6544672,-808988e-11,2.628924,.9001272,-1.755806,-.8735348,3.258881,-2.504785,-.3300791,.1180565,-.009315982,1.785154,-.3205824,-3.720277,-1.73335,-3.332272,1.515869,.1734218,.8011956,.199544,3.817666,1.638502,.4724641,.3209828,2.051443,-5.105574,-6.509139,-.4232041,.2598931,-2.151756,-.00349391,-1.5256,-.4897606,-.09891121,23.46818,-2.278152,.1681219,-.04469389,1.051,.9294666,-.9908649,-.2008182,.1605143,-.002463113,-2.477349,-.1218647,.4750121,1.460813,.6661364,-2.122119,-1.125475,-3.066599,3.145078,-.05411593,.5133628,-7823408e-12,2.268448,.9001416,-1.528158,-.9370249,2.567559,-1.591439,-.363446,.1763256,.001119624,1.811848,-.2637929,-6.524387,-2.673507,-2.940472,-.6025609,.7852067,1.073499,-.03540435,3.517416,1.490466,.8886026,-.09681828,1.430554,4.993717,-6.071355,-.6053986,.5092997,-1.27301,.07491329,-1.481997,-.5897282,.2659264,1.267239,-.5741291,.05983011,-.2217312,-.3016452,.926083,-1.010943,-.2075134,.05066749,14.70708,-3.780501,.07253223,.4045458,1.320164,.6559925,-1.129907,-.1884011,-8.04767,9.035776,-.05539419,.8823349,.03197135,4.839388,.5042822,-1.133821,-.1510781,3.362822,-2.453381,-.1463925,.4728708,.0595814,7.6363,.4805162,-1.176518,-.3549902,1.729044,-.2160966,-.5075865,1.675584,-.08906902,-5.386842,.5452218,-1.043563,-.07520975,.8750644,2.510518,.007584882,.936125,.07889083,6.066644,.5813108,-1.081304,-.2222253,2.517638,-4.45382,-8.663691,.8662558,-.04802657,-.8965449,.4886656,-1.083774,-.1375469,1.685818,5.63112,-3.100752,.4045941,.02346895,3.390321,.5008309,-1.143158,-.2058334,-9.660198,10.62394,-.04434119,.8607615,.03177325,4.416481,.5918162,-1.146773,-.1727385,4.626048,-4.684602,-.08307137,.1619616,.1484866,7.572868,.2681126,-1.151324,-.3099303,.4125596,2.340752,-.4214444,1.987375,-.191341,-3.845978,1.337311,-1.034258,-.007778759,.7050094,-.8036369,.313857,.2469452,.355997,7.485917,.04790329,-1.096568,-.2673169,2.575654,-.8057121,-8.884928,1.41617,-.2091315,-1.543494,1.065445,-1.083304,-.1528265,1.697727,2.503702,-2.885296,-.12985,.154887,2.479652,.5066496,-1.165736,-.2329945,-5.967964,6.705959,-.05931355,.7485638,.03913878,4.221591,.6183926,-1.212422,-.254591,2.418626,-2.266104,-.1102014,.01363887,.1055411,5.648062,.4557412,-1.070436,-.2163341,.7098718,.7843075,-.432393,2.109823,-.095897,-.1985193,1.060428,-1.104879,-.03013622,.02976276,1.069707,.141,-.488002,.4452288,6.41859,.3195986,-1.048969,-.2655317,2.689426,-3.941038,-9.506461,1.837119,-.1892124,-1.562146,.9043414,-1.106145,-.1601642,1.544544,7.388492,-2.9246,-.4328453,.1763161,2.523111,.5851902,-1.203666,-.2776587,-2.084286,2.45084,-.08746613,.5258507,.07983316,3.860055,.5486167,-1.340448,-.423059,.3462849,.4707607,-.2512626,.1530746,.02724218,3.035216,.5876133,-1.014554,-.116879,.9477794,-1.061218,-.419673,2.058832,-.05989624,3.058168,.9763861,-1.137388,-.0985403,-.2984893,3.64782,-.6585571,-1.47918,.6102932,3.265914,.3480333,-1.021816,-.2344957,2.463671,-7.240685,-8.862697,2.514058,-.2122768,-.03313968,.9028136,-1.126581,-.1874347,1.454154,10.34398,-3.237393,-.8654927,.2457248,1.845769,.6002482,-1.263727,-.3439354,-.1786388,.3980166,-.3349517,.3825166,.1029225,3.331096,.4998955,-1.53001,-.6879698,.2380415,1.608216,-1.682679,.354636,-.00391522,.4517655,.5128605,-.9685659,.09480403,.06076844,-3.217561,4.568074,1.069299,.02083638,7.301088,1.072165,-1.113925,-.3112382,.3954133,5.105907,-14.56866,-.4917378,.5289909,-2.678374,.3014709,-1.046864,-.1215754,1.778308,4.661489,.2565583,1.35368,-.1175767,3.415972,.8457746,-1.10448,-.1940913,1.343668,-.001759206,-5.009204,-.4186951,.312571,1.628183,.6720408,-1.286902,-.3781238,-.08977253,.3545393,-.4866515,.3843664,.08281675,3.122231,.5046991,-1.712597,-.8549112,.4809286,1.515398,-2.212211,.2539029,.02335997,-.06089466,.4268444,-.8807283,.1646097,-.4437898,-3.188247,5.984417,1.334779,-.04026975,7.546431,1.175751,-1.147253,-.3538199,.6101836,4.43778,-15.59813,-1.103222,.6242039,-3.091472,.217429,-1.03823,-.1213475,1.547505,5.893176,1.368738,1.663127,-.137713,3.185279,.8736453,-1.101026,-.1874907,1.272667,3.596524,-5.007243,-.6352483,.3048985,1.931613,.6788844,-1.342753,-.4384971,-1.213491,1.621399,-.1551441,.5614218,.02591739,2.958967,.5782132,-1.937684,-1.066019,1.913336,-.7347719,-.5916167,.158759,.1092568,-.6275002,.1599071,-.9302391,.1486187,-1.603835,.1783713,1.100461,1.174181,-.1602361,7.868331,1.468971,-1.053631,-.372705,1.114117,-.9603286,-10.62469,-1.16214,.7952797,-4.478765,-.04440862,-1.083629,-.1261405,1.229344,11.27825,.131901,1.624729,-.2825898,3.661082,1.036911,-1.09395,-.2067455,1.258035,7.548645,-4.598387,-.8944932,.3292634,1.311304,.6291871,-1.385867,-.5068139,-1.48649,1.969049,-.1698025,.6629167,-5289365e-12,2.760315,.8644368,-2.107367,-1.175639,2.313241,-1.001653,-.4843139,.1124485,3901494e-11,-.3502469,-.320478,-1.475244,-.2833055,-2.085824,1.192563,-.76452,.8380081,.220358,7.157885,1.753702,-.6644372,-.2549735,1.600273,-8.589034,-6.144718,-.7599731,.289837,-5.770923,-.09656242,-1.211687,-.1653494,.83934,27.92988,-3.395461,.9933752,-.03976877,3.776659,.9546526,-1.063757,-.2037563,1.117207,-.001252806,-3.33233,-.6971409,.3388719,1.311398,.6635171,-1.678889,-.7992295,-2.421687,2.871029,-.07662842,.6046208,-7598099e-12,2.002314,.9001307,-1.692144,-.880425,3.060895,-2.000009,-.3183563,.08385862,-.006326713,1.206639,-.3369967,-3.676795,-1.719207,-2.534697,1.005285,.1550407,1.07291,.1318094,3.717018,1.689191,.5424542,.3263528,1.551055,-3.841058,-6.598996,-1.201779,.3530669,-2.542945,-.06482523,-1.553849,-.457686,.9324676,19.50982,-2.344516,1.12102,-.1221537,.7285496,.9582816,-1.02065,-.2215797,1.009774,-.002056855,-2.740338,-.8122355,.3328967,.8982766,.6594676,-2.24736,-1.221267,-3.072346,3.385139,-.04387559,.5084887,-7418833e-12,1.750107,.9001401,-1.248499,-.8442718,3.062611,-2.020314,-.2815341,.05254745,.003345008,1.433225,-.2835911,-7.004119,-2.927978,-2.649852,.7971894,.5466893,1.442667,-.06063912,2.806194,1.547429,1.434882,.09114639,1.170089,.03512808,-5.861915,-1.411843,.5400486,-.7746522,.02386984,-1.559053,-.5502302,1.200396,13.47741,-2.344397,.8868907,-.3292661,-1.362105,.9217826,-1.044436,-.2360719,.7054471,-.002904518,-2.092829,-.5119668,.4174861,.9687435,.6588427],armory_renderpath_HosekWilkieData.datasetRGBRad2=[1.59033,1.355401,1.151412,13.59116,5.857714,8.090833,1.55254,1.51004,.1276413,16.04643,5.912162,8.350009,1.470871,1.880464,-1.865398,20.30808,5.471461,9.109834,1.356563,2.373866,-4.653245,25.70922,5.686009,10.0948,1.244232,2.851519,-7.130942,29.93449,6.38212,11.14578,1.173693,3.120604,-8.491886,31.87393,7.290615,11.80066,1.091845,3.368888,-9.722083,32.68508,10.32424,12.36508,.9858985,3.500541,-10.26328,30.92956,16.10881,13.31222,.8864993,3.172888,-8.68755,23.62161,26.21851,14.74967,.7946973,2.189355,-4.207953,9.399091,40.62849,16.81753,1.711696,1.657311,.9328021,13.1788,15.06751,18.63556,1.666968,1.849993,-.2088601,15.86653,14.8688,19.40719,1.584846,2.170022,-2.019597,19.70826,14.90684,20.45055,1.469412,2.524017,-4.197267,23.65249,16.64588,21.34477,1.369714,2.843548,-6.059031,26.34993,18.81361,22.32186,1.310477,2.984444,-6.831686,26.8234,21.23267,22.59755,1.222552,3.176523,-7.731496,26.7176,24.84358,23.36863,1.115781,3.130635,-7.581744,23.36531,31.71048,24.13859,1.013181,2.699342,-5.602709,15.00158,42.17613,25.15957,.8976323,1.726948,-1.29612,1.183675,55.03215,26.43066],armory_renderpath_HosekWilkieData.datasetRGB3=[-1.372629,-.4905585,-41.00789,41.22169,-.00738936,.4839359,.006474757,3.471755,.5092936,-1.523025,-.6497084,6.249857,-5.662543,-.01908402,.551281,-2181049e-11,2.507663,.4339598,-1.035567,-.0747874,.922103,-2.140047,-.02374146,.3795517,-.01769134,7.479831,.7729303,-1.271086,-.558819,.6908023,2.096832,-.2453967,1.410648,.04475036,-4.719115,.5741186,-.9712598,-.07033926,.9167274,-.9502097,.3004684,.4547054,-.05929017,5.266196,.7204135,-1.087457,-.1888896,.8156686,.3101712,-2.155419,1.422205,.09692261,3.122404,.499943,-1.42528,-.5413508,-34.54883,34.81142,-.008686975,.4914268,-2479243e-12,3.239879,.6094201,-1.688557,-.8070865,7.018459,-6.244574,-.02149341,.3993971,.01252502,1.630662,.109786,-.8664152,.07869125,-.5236535,-1.21896,-.02059093,.6684898,-.05584112,8.602299,1.410496,-1.319763,-.5985323,1.253918,1.914706,-.3216739,.9011213,.1324845,-5.252749,.06231252,-.9706008,-.05914059,.569315,-1.175362,.5221644,.7518213,-.08247655,5.875635,.9850863,-1.08533,-.1956105,.8019605,.5338101,-3.423464,1.110444,.1507923,2.864942,.4999481,-1.431967,-.5478935,-32.86288,33.05288,-.008380797,.477205,-3044274e-12,3.289973,.5976303,-1.801361,-.9315889,5.391756,-4.588592,-.02040076,.4144684,.01814534,1.051795,.1145651,-.7905357,.1451332,-.1605661,-1.592174,.0004561348,.3380323,-.07770275,8.775384,1.489512,-1.308575,-.5539232,.9184133,2.011479,-.3842472,1.432274,.1637153,-4.408856,.05272957,-.9829872,-.08183048,.4464556,-1.442716,1.029641,-.06991617,.008702356,5.706417,.9116452,-1.08713,-.2038013,.7260801,.9164376,-5.006183,1.511271,.1257134,2.715439,.6201652,-1.448662,-.5799075,-28.33268,28.58023,-.009134061,.4404783,-2709026e-12,3.029357,.5540071,-2.061772,-1.14519,7.918478,-7.212525,-.0202076,.2962715,.0468967,.8517209,.2334587,-.6413755,.1780425,-2.412919,1.064484,-.01949986,.6769741,-.175276,7.262714,1.325869,-1.304871,-.3975581,1.219002,.7285178,-.2710105,.7779727,.3247139,-.8818168,.1839517,-1.001104,-.1994801,.3676742,-1.409737,.2901555,.250694,.002468899,3.398923,.8584645,-1.111552,-.2487204,.7410842,1.703749,-5.007855,1.057763,.1354511,2.088715,.6600013,-1.547227,-.6679466,-18.61465,18.84045,-.0124221,.4157339,-2432805e-12,2.812423,.5446957,-2.04389,-1.149081,2.304118,-1.715757,-.02433628,.2816836,.07185458,1.06486,.2706789,-.904072,-.08274472,-.2555676,-.6326215,-.0277088,.6676024,-.2513532,5.903839,1.241452,-1.000013,-.1010774,.3699166,.8774526,-.3042007,.6951053,.4361813,.6793421,.2573892,-1.171332,-.3768188,.3701377,-1.470757,.5525942,.02991456,.01581823,2.365233,.8214514,-1.068667,-.232633,.6725059,2.243733,-4.61437,1.033677,.1376291,2.013334,.6865304,-1.592991,-.7246948,-25.98204,26.2196,-.008365176,.4207571,-2742772e-12,2.623735,.587319,-2.271349,-1.280884,6.308739,-5.75835,-.01977049,.3671835,.06698038,1.150597,.1759218,-.636862,-.007436052,-2.230026,1.640997,-.01548497,.3145331,-.2492644,5.083843,1.260215,-1.177925,-.09628114,.3051152,-.03749544,-.2713209,1.164226,.4559969,2.175429,.2874284,-1.0785,-.3801779,.4788906,-.4795969,.5977621,-.4488535,.03386874,1.538143,.8062054,-1.108028,-.2596892,.5162202,1.557081,-4.265039,1.182535,.1563762,2.095084,.6883383,-1.668427,-.7908511,-27.7969,27.99746,-.007186935,.3757766,-3326858e-12,2.563421,.5439687,-2.156175,-1.220004,3.585732,-3.235988,-.01086239,.1846143,.1046017,1.234427,.2842191,-1.117051,-.4101627,-.846373,.7671472,-.02226609,.8574943,-.3434124,4.475715,1.154824,-.744484,.2312078,-.5393724,.1574213,-.1763914,.2751692,.55642,2.217672,.3483932,-1.273036,-.5275562,.4902512,-.04498436,.4339366,.2386682,.02380879,1.413444,.7855923,-1.084192,-.2936753,.4719432,1.384436,-3.257789,.6119543,.1681884,1.650441,.6936631,-1.84849,-.951267,-30.05251,30.24315,-.005635304,.344778,-2782999e-12,2.309422,.5643559,-2.300008,-1.252335,-1.218876,1.49373,-.0061071,.0797486,.1023449,1.505934,.2360948,-1.483705,-.8547575,-.7797146,.6447971,-.02678052,1.091263,-.3344889,3.830416,1.189425,-.5348005,.3982733,-.4071573,.3265569,-.08658789,-.2370892,.5369097,1.478279,.3143303,-1.320401,-.6043247,.3019196,-.07732911,.4768381,.6745764,.03694098,1.158234,.8169056,-1.10104,-.3420019,.3775661,1.769338,-2.990515,.1649529,.1970125,1.453355,.6759757,-2.251946,-1.229349,-32.71808,32.83114,-.004252027,.3372289,-3001937e-12,2.154046,.5842674,-1.867834,-.9531252,-12.29365,12.69149,-.006844772,.1185107,.07539587,1.846381,.1899412,-3.398629,-2.180862,2.335213,-3.382823,-.008613985,.8431602,-.2393567,3.11246,1.218556,.5708381,.940603,-.6890113,2.746233,-.05772068,.1096005,.3491978,.7281453,.3212049,-1.705909,-.8517224,.113116,-2.141434,.4274043,.33976,.178649,.9026101,.78828,-1.012865,-.3495551,.3369038,3.724205,-3.089586,.1266964,.146179,1.170199,.6931052,-2.890318,-1.665573,-34.93756,35.00369,-.002984251,.2622419,-425936e-11,1.947681,.6905752,-1.956022,-1.0629,-19.19714,19.75164,-.008865396,.216554,.05475637,1.761134,.003164249,-5.612198,-3.101371,4.098034,-6.144001,.009944958,.2905472,-.170711,3.199107,1.33766,.8353756,.4855943,-1.243589,5.147385,-.07013963,.938041,.2335714,.1727744,.2802696,-1.524329,-.7388547,.3259025,-4.050634,.4058549,-.2591384,.1898299,.3556071,.7884126,-1.070371,-.4207858,.1739862,5.29341,-3.136757,.2323856,.1673706,1.007227,.6844287,-1.34172,-.4834889,-46.33447,46.82148,-.006137296,.4599216,.007047323,2.895798,.4999398,-1.529104,-.6498631,15.34103,-14.50675,-.01531439,.3280082,.01682926,1.901587,.5013227,-1.014776,-.1454495,-4.071085,2.954982,-.02630348,.5681531,-.03016505,6.773854,.5003504,-1.172413,-.402632,2.960428,.202071,-.2004947,.9375572,.05998168,-4.945934,.4502898,-.9898161,-.05772814,.4470024,-.5786656,.1158168,.346804,-.0504336,6.867947,.8012363,-1.085111,-.1882675,1.223748,.3565495,-3.688357,.5653723,.06727646,2.69013,.49994,-1.389119,-.529025,-40.55774,41.05972,-.007062577,.456006,-1736334e-12,2.775512,.6671455,-1.584641,-.7200619,12.48067,-11.56028,-.01659568,.3050029,.01099895,1.438927,-.02138015,-.9826068,-.08887254,-2.960031,1.808816,-.02478159,.6035733,-.04868441,7.347705,1.584739,-1.150423,-.4073793,2.412991,.487084,-.2337902,.8295114,.1129914,-5.150045,-.09016643,-1.016933,-.06311501,.5218937,-.571643,.1250993,.3601524,-.05497586,7.060139,1.018333,-1.073151,-.1845444,1.155394,.3004486,-3.431711,.4657031,.09401223,2.68862,.4999544,-1.391257,-.5365815,-42.55881,42.99132,-.005838466,.4229134,-2760038e-12,2.775531,.6234597,-1.780062,-.922888,13.76172,-12.60946,-.01507526,.3117435,.02205045,.6093731,.03463446,-.7388169,.127567,-3.999528,2.223993,-.01856853,.543931,-.08834054,8.037139,1.645951,-1.322387,-.5320143,2.659359,1.086712,-.2129712,.8704649,.1800315,-4.967241,-.138372,-.9378288,-.01599895,.3607555,-1.980561,.3791456,.1212268,-.02845992,6.825542,1.059139,-1.100832,-.2172313,1.211561,2.002721,-5.010011,.5717583,.06777702,2.160006,.5676392,-1.409373,-.5708751,-30.34974,30.79809,-.007280715,.3723304,-2436279e-12,2.577348,.5913377,-1.954312,-1.11651,5.399148,-4.299553,-.01724739,.3742824,.04187077,.1044883,.1232727,-.6772215,.2001396,-.3670523,-1.014628,-.003497152,.4099858,-.1584633,7.7504,1.514559,-1.2916,-.4977437,.9641914,1.56242,-.3227782,.9055427,.3046444,-3.385619,.009546291,-.9750857,-.0877056,.9054256,-1.429236,.8974777,-.1217961,-.05194608,4.909409,.9589153,-1.088007,-.1959301,.9745799,1.260761,-5.008864,.7271248,.1096661,2.717295,.6340731,-1.45605,-.6223072,-22.28088,22.69604,-.009340812,.4118308,-2418083e-12,2.442117,.5589638,-2.176449,-1.302416,2.222836,-1.22273,-.01728051,.1323513,.07027731,.04835745,.2093351,-.5789641,.2215407,.2142291,-1.201725,-.01185728,.8122982,-.238042,6.706841,1.404146,-1.307463,-.4515174,.6447827,1.223841,-.2902391,.4986588,.4073652,-1.706696,.1060885,-.9698678,-.1307094,.9389347,-1.522852,.7768797,-.1368595,-.03857426,3.676935,.8980966,-1.104349,-.2380323,1.047043,1.865421,-5.011664,.7014954,.09622701,1.89136,.6687354,-1.502249,-.6724523,-28.88092,29.3036,-.006685766,.3685464,-2469442e-12,2.310797,.5566754,-2.217125,-1.364924,4.048243,-3.111333,-.01317747,.1921948,.08627702,.001981769,.2213689,-.6215757,.1687995,-.5949131,-.1551293,.0003356129,.6897657,-.2855053,6.271042,1.363084,-1.216317,-.3489429,.7566226,.5409809,-.2830843,.6191825,.4755163,-.9131387,.1383909,-1.030437,-.2034064,.8335995,-1.050947,.8689093,-.367231,-.04056183,3.111269,.8856842,-1.078984,-.2070549,.9683145,1.497022,-5.007653,.7702541,.1285822,2.225188,.6587911,-1.559291,-.7374039,-35.96311,36.3447,-.004667132,.3277964,-2487945e-12,2.215652,.5764681,-2.356929,-1.444755,6.244526,-5.540162,-.00879451,.17921,.09578517,.3737676,.1922194,-.6589752,-.0292691,-1.831779,1.869962,-.002030095,.7552089,-.3168157,4.632196,1.294054,-1.161046,-.1472506,.6494138,-.8327174,-.2320724,.3391212,.5269637,.9376341,.2458573,-1.034427,-.3062504,.8975634,.3203531,.8565142,-.1250162,-.04094017,1.861304,.8223468,-1.109954,-.2740277,1.063811,.7077398,-4.695734,.5621696,.1248956,1.297723,.678972,-1.788293,-.9368751,-43.8298,44.24963,-.00365253,.3094331,-2810503e-12,1.904402,.5861599,-2.268206,-1.312676,2.863082,-2.373727,-.00514498,.1711072,.09316041,.9309598,.1791683,-1.376966,-.7418582,-1.349589,1.563419,-.003124219,.6967139,-.3061887,3.602731,1.255669,-.601754,.2815928,.5424052,-.688545,-.1620001,.2980046,.4995571,.7371203,.2812466,-1.278853,-.5245326,.787052,.3125067,.7748105,-.07788581,.003490956,1.283748,.813019,-1.05093,-.2786331,1.056344,1.053002,-4.047789,.4432174,.1169077,.9532621,.6806764,-2.084927,-1.203954,-48.81638,49.2016,-.002896045,.2882977,-3073517e-12,1.702211,.637418,-2.328567,-1.238023,-1.891019,2.45152,-.005847581,.2084702,.0784813,1.211048,.08095008,-2.634632,-1.78946,-.1370558,-.3326435,.002783737,.5239451,-.2548881,2.896327,1.324116,.06882616,.5997821,.1535398,1.375209,-.1267285,.4239743,.4013122,.1794675,.2395382,-1.430918,-.6439041,.832598,-1.705612,.7236426,-.05567593,.06408718,.6836524,.8388887,-1.037956,-.3215402,.9457349,3.178114,-4.152156,.2230992,.1156198,.7606223,.6656923,-2.967314,-1.728778,-37.30988,37.55578,-.002588835,.2927966,-3935038e-12,1.592161,.6868694,-2.123311,-1.175148,-13.14988,13.86882,-.007828537,.1852026,.05481038,1.294309,.02428177,-5.443597,-3.156344,2.110838,-3.421556,.0118189,.1196951,-.1742902,2.404353,1.272805,1.029898,.5912521,-.3983531,3.286069,-.09252065,1.331381,.2560642,.8001754,.3624178,-1.547574,-.7881604,1.020902,-2.897069,.521347,-.9242315,.1185594,-1.150721,.7317211,-.9621043,-.1991406,.6531287,3.925839,-3.596904,.6317332,.1531334,1.457846,.6966285],armory_renderpath_HosekWilkieData.datasetRGBRad3=[.9926518,1.999494,-4.136109,18.5627,13.51028,13.90238,.9634366,2.119694,-4.614523,19.19701,13.76644,14.18731,.9446537,2.17161,-4.915556,19.1824,15.37135,14.0053,.9073074,2.330536,-5.577596,19.61615,16.88365,14.46955,.8739124,2.388682,-5.842995,19.23265,18.87735,14.85698,.8563688,2.391534,-5.769133,18.28709,20.97209,14.69587,.8270533,2.34279,-5.558071,16.84993,23.56498,15.05975,.7908339,2.190341,-4.852571,13.74862,28.06846,15.48444,.7403619,1.783998,-2.983854,7.622563,35.0761,16.15805,.6840111,1.154457,-.239383,-.7896893,42.82765,17.79469,1.1683,1.860993,-2.129074,12.51952,30.32499,29.38716,1.150338,1.918813,-2.413527,12.74862,30.87134,29.51432,1.114719,1.964689,-2.625423,12.47837,32.37949,29.43596,1.077948,2.006292,-2.846934,11.90195,34.59293,29.37492,1.035143,1.986681,-2.752584,10.60972,37.22185,29.18594,1.015992,1.992054,-2.812626,10.01416,38.473,29.24624,.9756887,1.939897,-2.533281,8.319176,40.83907,29.25586,.9264164,1.716454,-1.597044,4.739725,45.07683,28.78915,.8595191,1.346034,-.02801895,-.6582906,50.17523,28.52953,.7754116,.7709245,2.200201,-7.487661,54.36622,28.93432],armory_renderpath_HosekWilkieData.datasetsRGB=[armory_renderpath_HosekWilkieData.datasetRGB1,armory_renderpath_HosekWilkieData.datasetRGB2,armory_renderpath_HosekWilkieData.datasetRGB3],armory_renderpath_HosekWilkieData.datasetsRGBRad=[armory_renderpath_HosekWilkieData.datasetRGBRad1,armory_renderpath_HosekWilkieData.datasetRGBRad2,armory_renderpath_HosekWilkieData.datasetRGBRad3],armory_system_Keymap.forward="w",armory_system_Keymap.backward="s",armory_system_Keymap.left="a",armory_system_Keymap.right="d",armory_system_Keymap.jump=" ",armory_system_Keymap.fire="f",armory_system_Keymap.brake=" ",armory_system_Keymap.up="e",armory_system_Keymap.down="q",armory_system_Keymap.fast=kha_Key.SHIFT,armory_system_Keymap.slow=kha_Key.ALT,armory_trait_WalkNavigation.speed=5,armory_trait_internal_EditorSpace.first=!0,iron_App.traitInits=[],iron_App.traitUpdates=[],iron_App.traitLateUpdates=[],iron_App.traitRenders=[],iron_App.traitRenders2D=[],iron_data_Data.cachedSceneRaws=new haxe_ds_StringMap,iron_data_Data.cachedMeshes=new haxe_ds_StringMap,iron_data_Data.cachedLamps=new haxe_ds_StringMap,iron_data_Data.cachedCameras=new haxe_ds_StringMap,iron_data_Data.cachedRenderPaths=new haxe_ds_StringMap,iron_data_Data.cachedMaterials=new haxe_ds_StringMap,iron_data_Data.cachedParticles=new haxe_ds_StringMap,iron_data_Data.cachedWorlds=new haxe_ds_StringMap,iron_data_Data.cachedGreasePencils=new haxe_ds_StringMap,iron_data_Data.cachedShaders=new haxe_ds_StringMap,iron_data_Data.cachedBlobs=new haxe_ds_StringMap,iron_data_Data.cachedImages=new haxe_ds_StringMap,iron_data_Data.cachedSounds=new haxe_ds_StringMap,iron_data_Data.cachedVideos=new haxe_ds_StringMap,iron_data_Data.cachedFonts=new haxe_ds_StringMap,iron_data_Data.loadingMeshes=new haxe_ds_StringMap,iron_data_Data.loadingLamps=new haxe_ds_StringMap,iron_data_Data.loadingCameras=new haxe_ds_StringMap,iron_data_Data.loadingRenderPaths=new haxe_ds_StringMap,iron_data_Data.loadingMaterials=new haxe_ds_StringMap,iron_data_Data.loadingParticles=new haxe_ds_StringMap,iron_data_Data.loadingWorlds=new haxe_ds_StringMap,iron_data_Data.loadingGreasePencils=new haxe_ds_StringMap,iron_data_Data.loadingShaders=new haxe_ds_StringMap,iron_data_Data.loadingSceneRaws=new haxe_ds_StringMap,iron_data_Data.loadingBlobs=new haxe_ds_StringMap,iron_data_Data.loadingImages=new haxe_ds_StringMap,iron_data_Data.loadingSounds=new haxe_ds_StringMap,iron_data_Data.loadingVideos=new haxe_ds_StringMap,iron_data_Data.loadingFonts=new haxe_ds_StringMap,iron_object_Object.uidCounter=0,iron_system_Time.step=.016666666666666666,iron_system_Time.delta=.016666666666666666,armory_trait_internal_JSScriptAPI.App=iron_App,armory_trait_internal_JSScriptAPI.Scene=iron_Scene,armory_trait_internal_JSScriptAPI.Time=iron_system_Time,armory_trait_internal_JSScriptAPI.Object=iron_object_Object,armory_trait_internal_JSScriptAPI.Data=iron_data_Data,kha_math_FastMatrix4.width=4,kha_math_FastMatrix4.height=4,iron_math_Mat4.helpVec=new iron_math_Vec4,iron_math_Mat4.helpMat=iron_math_Mat4.identity(),iron_math_Quat.helpVec0=new iron_math_Vec4,iron_math_Quat.helpVec1=new iron_math_Vec4,iron_math_Quat.helpVec2=new iron_math_Vec4,armory_trait_internal_JSScriptAPIMath.Vec4=iron_math_Vec4,armory_trait_internal_JSScriptAPIMath.Mat4=iron_math_Mat4,armory_trait_internal_JSScriptAPIMath.Quat=iron_math_Quat,armory_trait_internal_MovieTexture.created=!1,haxe_Serializer.USE_CACHE=!1,haxe_Serializer.USE_ENUM_INDEX=!1,haxe_Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",haxe_Unserializer.DEFAULT_RESOLVER=new haxe__$Unserializer_DefaultResolver,haxe_Unserializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",haxe_ds_ObjectMap.count=0,haxe_io_FPHelper.i64tmp=new haxe__$Int64__$_$_$Int64(0,0),haxe_zip_InflateImpl.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1],haxe_zip_InflateImpl.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],haxe_zip_InflateImpl.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1],haxe_zip_InflateImpl.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],haxe_zip_InflateImpl.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],iron_data_ConstData.skydomeIndices=[0,1,2,0,3,4,3,5,6,5,7,8,7,9,10,9,11,12,13,14,15,11,16,17,13,18,2,14,2,19,2,1,20,1,4,21,4,6,22,6,8,23,8,10,24,10,12,25,14,26,15,17,27,25,22,23,28,24,29,28,24,25,30,26,31,15,25,27,32,26,19,33,19,20,34,20,21,35,21,22,36,33,34,37,34,35,38,35,36,39,36,28,40,28,29,41,30,42,41,31,43,15,30,32,44,31,33,45,40,41,46,42,47,46,43,48,15,42,44,49,43,45,50,45,37,51,37,38,52,39,53,52,39,40,54,50,51,55,51,52,56,53,57,56,53,54,58,46,59,58,46,47,60,48,61,15,47,49,62,48,50,63,59,64,65,59,60,66,61,67,15,60,62,68,61,63,69,63,55,70,56,71,70,56,57,72,57,58,65,70,71,73,71,72,74,72,65,75,64,76,75,64,66,77,67,78,15,68,79,77,67,69,80,69,70,81,76,77,82,78,83,15,77,79,84,80,85,83,80,81,86,81,73,87,74,88,87,74,75,89,76,90,89,87,88,91,88,89,92,90,93,92,90,82,94,83,95,15,82,84,96,83,85,97,86,98,97,86,87,99,95,100,15,96,101,102,95,97,103,97,98,104,98,99,105,91,106,105,91,92,107,93,108,107,93,94,102,105,106,109,106,107,110,108,111,110,108,102,112,100,113,15,102,101,114,100,103,115,103,104,116,104,105,117,114,118,119,113,115,120,115,116,121,117,122,121,109,123,122,109,110,124,111,125,124,111,112,119,113,126,15,123,124,127,125,128,127,125,119,129,126,130,15,119,118,131,126,120,132,121,133,132,121,122,134,122,123,135,130,132,136,132,133,137,133,134,138,134,135,139,135,127,140,128,141,140,128,129,142,130,143,15,129,131,144,139,140,145,141,146,145,141,142,147,143,148,15,142,144,149,143,136,150,137,151,150,138,152,151,138,139,153,150,151,154,152,155,154,153,156,155,153,145,157,146,158,157,146,147,159,148,160,15,147,149,161,148,150,162,158,163,164,158,159,165,160,166,15,161,167,165,160,162,168,162,154,169,155,170,169,156,171,170,156,157,164,169,170,172,171,173,172,171,164,174,163,175,174,163,165,176,166,177,15,165,167,178,166,168,179,168,169,180,176,181,182,177,183,15,176,178,184,177,179,185,179,180,186,172,187,186,173,188,187,173,174,189,175,182,189,187,190,191,188,192,190,188,189,193,182,194,193,182,181,195,183,196,15,181,184,197,183,185,198,185,186,191,194,195,199,196,200,15,195,197,201,196,198,202,198,191,203,190,204,203,192,205,204,192,193,206,194,207,206,205,208,209,205,206,210,207,211,210,207,199,212,200,213,15,199,201,214,202,215,213,202,203,216,204,209,216,213,217,15,214,218,219,215,220,217,215,216,221,209,222,221,209,208,223,208,210,224,211,225,224,211,212,219,223,226,227,223,224,228,225,229,228,225,219,230,217,231,15,218,232,230,220,233,231,220,221,234,222,227,234,230,232,235,231,233,236,233,234,237,227,238,237,227,226,239,226,228,240,229,241,240,229,230,242,231,243,15,239,240,244,241,245,244,241,242,246,243,247,15,235,248,246,243,236,249,237,250,249,238,251,250,239,252,251,249,250,253,250,251,254,252,255,254,252,244,256,245,257,256,245,246,258,247,259,15,248,260,258,247,249,261,257,262,263,258,264,262,259,265,15,258,260,266,259,261,267,261,253,268,253,254,269,255,270,269,255,256,263,268,271,272,269,273,271,270,274,273,270,263,275,262,276,275,262,264,277,265,278,15,264,266,279,267,272,278,276,280,281,276,277,282,278,283,15,277,279,284,278,272,285,272,271,286,271,273,287,274,288,287,274,275,281,287,3,0,288,5,3,281,7,5,280,9,7,282,11,9,283,13,15,282,284,16,285,18,13,286,0,18,0,2,18,0,4,1,3,6,4,5,8,6,7,10,8,9,12,10,11,17,12,13,2,14,14,19,26,2,20,19,1,21,20,4,22,21,6,23,22,8,24,23,10,25,24,17,25,12,22,28,36,24,28,23,24,30,29,25,32,30,26,33,31,19,34,33,20,35,34,21,36,35,33,37,45,34,38,37,35,39,38,36,40,39,28,41,40,30,41,29,30,44,42,31,45,43,40,46,54,42,46,41,42,49,47,43,50,48,45,51,50,37,52,51,39,52,38,39,54,53,50,55,63,51,56,55,53,56,52,53,58,57,46,58,54,46,60,59,47,62,60,48,63,61,59,65,58,59,66,64,60,68,66,61,69,67,63,70,69,56,70,55,56,72,71,57,65,72,70,73,81,71,74,73,72,75,74,64,75,65,64,77,76,68,77,66,67,80,78,69,81,80,76,82,90,77,84,82,80,83,78,80,86,85,81,87,86,74,87,73,74,89,88,76,89,75,87,91,99,88,92,91,90,92,89,90,94,93,82,96,94,83,97,95,86,97,85,86,99,98,96,102,94,95,103,100,97,104,103,98,105,104,91,105,99,91,107,106,93,107,92,93,102,108,105,109,117,106,110,109,108,110,107,108,112,111,102,114,112,100,115,113,103,116,115,104,117,116,114,119,112,113,120,126,115,121,120,117,121,116,109,122,117,109,124,123,111,124,110,111,119,125,123,127,135,125,127,124,125,129,128,119,131,129,126,132,130,121,132,120,121,134,133,122,135,134,130,136,143,132,137,136,133,138,137,134,139,138,135,140,139,128,140,127,128,142,141,129,144,142,139,145,153,141,145,140,141,147,146,142,149,147,143,150,148,137,150,136,138,151,137,138,153,152,150,154,162,152,154,151,153,155,152,153,157,156,146,157,145,146,159,158,147,161,159,148,162,160,158,164,157,158,165,163,161,165,159,160,168,166,162,169,168,155,169,154,156,170,155,156,164,171,169,172,180,171,172,170,171,174,173,163,174,164,163,176,175,165,178,176,166,179,177,168,180,179,176,182,175,176,184,181,177,185,183,179,186,185,172,186,180,173,187,172,173,189,188,175,189,174,187,191,186,188,190,187,188,193,192,182,193,189,182,195,194,181,197,195,183,198,196,185,191,198,194,199,207,195,201,199,196,202,200,198,203,202,190,203,191,192,204,190,192,206,205,194,206,193,205,209,204,205,210,208,207,210,206,207,212,211,199,214,212,202,213,200,202,216,215,204,216,203,214,219,212,215,217,213,215,221,220,209,221,216,209,223,222,208,224,223,211,224,210,211,219,225,223,227,222,223,228,226,225,228,224,225,230,229,218,230,219,220,231,217,220,234,233,222,234,221,230,235,242,231,236,243,233,237,236,227,237,234,227,239,238,226,240,239,229,240,228,229,242,241,239,244,252,241,244,240,241,246,245,235,246,242,243,249,247,237,249,236,238,250,237,239,251,238,249,253,261,250,254,253,252,254,251,252,256,255,245,256,244,245,258,257,248,258,246,247,261,259,257,263,256,258,262,257,258,266,264,259,267,265,261,268,267,253,269,268,255,269,254,255,263,270,268,272,267,269,271,268,270,273,269,270,275,274,262,275,263,262,277,276,264,279,277,267,278,265,276,281,275,276,282,280,277,284,282,278,285,283,272,286,285,271,287,286,274,287,273,274,281,288,287,0,286,288,3,287,281,5,288,280,7,281,282,9,280,282,16,11,285,13,283,286,18,285,84,289,96,96,289,101,101,289,114,114,289,118,118,289,131,144,131,289,149,144,289,149,289,161,161,289,167,167,289,178,178,289,184,184,289,197,197,289,201,201,289,214,214,289,218,218,289,232,232,289,235,235,289,248,260,248,289,260,289,266,266,289,279,279,289,284,284,289,16,16,289,17,27,17,289,27,289,32,44,32,289,44,289,49,49,289,62,62,289,68,68,289,79,79,289,84],
iron_data_ConstData.skydomePos=[-.5555702447891235,0,.8314695954322815,-.5448951125144958,.10838644951581955,.8314695954322815,-.3753302991390228,.07465790957212448,.9238795042037964,-.7071067690849304,0,.7071067690849304,-.6935198903083801,.13794974982738495,.7071067690849304,-.8314696550369263,0,.5555701851844788,-.8154931664466858,.16221174597740173,.5555701851844788,-.9238795042037964,0,.3826834261417389,-.906127393245697,.18024000525474548,.3826834261417389,-.9807852506637573,0,.19509035348892212,-.9619396924972534,.19134177267551422,.19509035348892212,-1,0,7.549790126404332e-8,-.9807852506637573,.1950903832912445,7.549790126404332e-8,-.19509032368659973,0,.9807852506637573,-.19134171307086945,.03806029632687569,.9807852506637573,2.4803494369507462e-8,-1.246939973498229e-7,1,-.9807853102684021,0,-.282339870929718,-.9619397521018982,.19134178757667542,-.282339870929718,-.3826834559440613,0,.9238795042037964,-.3535534143447876,.14644673466682434,.9238795042037964,-.513279914855957,.21260765194892883,.8314695954322815,-.6532813906669617,.2705981731414795,.7071067690849304,-.7681776881217957,.3181897699832916,.5555701851844788,-.853553295135498,.3535534739494324,.3826834261417389,-.9061273336410522,.37533038854599,.19509035348892212,-.9238794445991516,.38268354535102844,7.549790126404332e-8,-.1802399456501007,.07465796172618866,.9807852506637573,-.9061273336410522,.37533038854599,-.282339870929718,-.7681776285171509,.5132800936698914,.3826834261417389,-.8154929876327515,.5448952317237854,.19509035348892212,-.8314694762229919,.5555704236030579,7.549790126404332e-8,-.16221162676811218,.1083865687251091,.9807852506637573,-.8154929876327515,.5448952317237854,-.282339870929718,-.3181896209716797,.2126077115535736,.9238795042037964,-.4619396924972534,.3086584508419037,.8314695954322815,-.5879377126693726,.3928476572036743,.7071067690849304,-.6913416385650635,.4619399309158325,.5555701851844788,-.39284735918045044,.3928476870059967,.8314695954322815,-.49999988079071045,.5000001788139343,.7071067690849304,-.5879376530647278,.5879380106925964,.5555701851844788,-.6532813310623169,.6532816290855408,.3826834261417389,-.6935197114944458,.6935200691223145,.19509035348892212,-.7071065902709961,.7071070075035095,7.549790126404332e-8,-.137949600815773,.13794992864131927,.9807852506637573,-.6935197114944458,.6935200691223145,-.282339870929718,-.2705979645252228,.27059829235076904,.9238795042037964,-.544894814491272,.8154932856559753,.19509035348892212,-.5555700063705444,.8314698338508606,7.549790126404332e-8,-.10838623344898224,.16221193969249725,.9807852506637573,-.544894814491272,.8154932856559753,-.282339870929718,-.21260739862918854,.31818991899490356,.9238795042037964,-.3086581230163574,.4619399905204773,.8314695954322815,-.39284729957580566,.5879380106925964,.7071067690849304,-.46193957328796387,.6913419365882874,.5555701851844788,-.5132797956466675,.7681779265403748,.3826834261417389,-.21260732412338257,.5132802128791809,.8314695954322815,-.27059781551361084,.6532816886901855,.7071067690849304,-.3181893825531006,.7681779861450195,.5555701851844788,-.3535531759262085,.8535535335540771,.3826834261417389,-.3753299117088318,.9061275124549866,.19509035348892212,-.3826831579208374,.9238797426223755,7.549790126404332e-8,-.0746576264500618,.18024024367332458,.9807852506637573,-.3753299117088318,.9061275124549866,-.282339870929718,-.14644642174243927,.3535536825656891,.9238795042037964,-.1913413405418396,.961939811706543,.19509035348892212,-.1802397072315216,.9061275720596313,.3826834261417389,-.19508999586105347,.9807854890823364,7.549790126404332e-8,-.038059964776039124,.19134201109409332,.9807852506637573,-.1913413405418396,.961939811706543,-.282339870929718,-.07465757429599762,.3753305673599243,.9238795042037964,-.10838611423969269,.544895350933075,.8314695954322815,-.13794942200183868,.6935201287269592,.7071067690849304,-.1622113734483719,.8154933452606201,.5555701851844788,3.191853465978056e-7,.7071069478988647,.7071067690849304,3.340865077916533e-7,.8314697742462158,.5555701851844788,2.7448186301626265e-7,.9238796830177307,.3826834261417389,3.936911525670439e-7,.9807852506637573,.19509035348892212,3.7878999137319624e-7,1.000000238418579,7.549790126404332e-8,3.2663592719472945e-7,.19509060680866241,.9807852506637573,3.936911525670439e-7,.9807852506637573,-.282339870929718,3.191853465978056e-7,.3826836943626404,.9238795042037964,3.117347660008818e-7,.5555704832077026,.8314695954322815,.19509074091911316,.9807854890823364,7.549790126404332e-8,.038060616701841354,.19134199619293213,.9807852506637573,.19134210050106049,.9619396924972534,-.282339870929718,.07465820759534836,.37533053755760193,.9238795042037964,.10838674008846283,.544895350933075,.8314695954322815,.13795003294944763,.6935200691223145,.7071067690849304,.16221202909946442,.8154932856559753,.5555701851844788,.18024025857448578,.9061275720596313,.3826834261417389,.19134210050106049,.9619396924972534,.19509035348892212,.3181900382041931,.7681778073310852,.5555701851844788,.3535537123680115,.8535535335540771,.3826834261417389,.3753306269645691,.9061273336410522,.19509035348892212,.3826838731765747,.9238796830177307,7.549790126404332e-8,.07465826719999313,.180240198969841,.9807852506637573,.3753306269645691,.9061273336410522,-.282339870929718,.14644701778888702,.3535536229610443,.9238795042037964,.21260792016983032,.5132801532745361,.8314695954322815,.2705984115600586,.6532816290855408,.7071067690849304,.10838685184717178,.16221188008785248,.9807852506637573,.5448954105377197,.8154930472373962,-.282339870929718,.555570662021637,.831469714641571,7.549790126404332e-8,.2126079499721527,.3181898593902588,.9238795042037964,.3086586892604828,.4619399309158325,.8314695954322815,.39284783601760864,.5879379510879517,.7071067690849304,.4619401693344116,.691341757774353,.5555701851844788,.5132802724838257,.76817786693573,.3826834261417389,.5448954105377197,.8154930472373962,.19509035348892212,.5879381895065308,.5879377722740173,.5555701851844788,.6532818078994751,.6532816290855408,.3826834261417389,.693520188331604,.6935198307037354,.19509035348892212,.7071072459220886,.7071068286895752,7.549790126404332e-8,.13795019686222076,.1379498541355133,.9807852506637573,.693520188331604,.6935198307037354,-.282339870929718,.27059850096702576,.27059823274612427,.9238795042037964,.3928478956222534,.39284759759902954,.8314695954322815,.5000003576278687,.5000000596046448,.7071067690849304,.8154934048652649,.5448949933052063,-.282339870929718,.8314700722694397,.5555702447891235,7.549790126404332e-8,.3181900978088379,.21260765194892883,.9238795042037964,.4619401693344116,.3086583614349365,.8314695954322815,.5879381895065308,.3928475081920624,.7071067690849304,.6913420557975769,.4619397222995758,.5555701851844788,.7681781053543091,.5132800936698914,.3826834261417389,.8154934048652649,.5448949933052063,.19509035348892212,.16221219301223755,.10838649421930313,.9807852506637573,.8535537123680115,.3535534739494324,.3826834261417389,.9061276316642761,.3753301501274109,.19509035348892212,.9238799810409546,.3826833963394165,7.549790126404332e-8,.1802404820919037,.07465791702270508,.9807852506637573,.9061276316642761,.3753301501274109,-.282339870929718,.353553831577301,.14644670486450195,.9238795042037964,.5132803916931152,.21260759234428406,.8314695954322815,.6532818078994751,.27059802412986755,.7071067690849304,.7681780457496643,.3181895613670349,.5555701851844788,.37533071637153625,.07465790212154388,.9238795042037964,.5448955297470093,.10838642716407776,.8314695954322815,.6935202479362488,.13794966042041779,.7071067690849304,.8154933452606201,.1622115671634674,.5555701851844788,.9061277508735657,.18024002015590668,.3826834261417389,.9619399309158325,.1913416087627411,.19509035348892212,.9807857275009155,.19509024918079376,7.549790126404332e-8,.19134224951267242,.0380602702498436,.9807852506637573,.9619399309158325,.1913416087627411,-.282339870929718,.923879861831665,6.356849979738399e-8,.3826834261417389,.9807853698730469,-8.544311214109257e-8,.19509035348892212,1.0000003576278687,-1.0034427333494023e-7,7.549790126404332e-8,.19509084522724152,-7.2120158733923745e-9,.9807852506637573,.9807853698730469,-8.544311214109257e-8,-.282339870929718,.3826838433742523,4.121675800661251e-8,.9238795042037964,.555570662021637,2.6315596812764852e-8,.8314695954322815,.7071070671081543,-2.5838467365701945e-8,.7071067690849304,.831469714641571,-8.544311214109257e-8,.5555701851844788,.5448955297470093,-.10838636755943298,.8314695954322815,.693520188331604,-.13794972002506256,.7071067690849304,.8154932260513306,-.16221173107624054,.5555701851844788,.9061277508735657,-.18023990094661713,.3826834261417389,.961939811706543,-.19134175777435303,.19509035348892212,.980785608291626,-.19509044289588928,7.549790126404332e-8,.19134221971035004,-.03806028142571449,.9807852506637573,.961939811706543,-.19134175777435303,-.282339870929718,.3753306567668915,-.07465781271457672,.9238795042037964,.9061274528503418,-.37533026933670044,.19509035348892212,.8535537123680115,-.35355332493782043,.3826834261417389,.9238798022270203,-.38268357515335083,7.549790126404332e-8,.1802404373884201,-.07465790957212448,.9807852506637573,.9061274528503418,-.37533026933670044,-.282339870929718,.35355374217033386,-.1464466005563736,.9238795042037964,.5132803916931152,-.21260753273963928,.8314695954322815,.6532817482948303,-.27059805393218994,.7071067690849304,.7681777477264404,-.3181896507740021,.5555701851844788,.5879380702972412,-.39284747838974,.7071067690849304,.6913416981697083,-.4619396924972534,.5555701851844788,.7681780457496643,-.513279914855957,.3826834261417389,.8154931664466858,-.5448950529098511,.19509035348892212,.8314698338508606,-.5555703639984131,7.549790126404332e-8,.16221213340759277,-.10838647186756134,.9807852506637573,.8154931664466858,-.5448950529098511,-.282339870929718,.31818997859954834,-.2126075178384781,.9238795042037964,.4619401693344116,-.30865830183029175,.8314695954322815,.7071069478988647,-.70710688829422,7.549790126404332e-8,.6935198903083801,-.6935197710990906,.19509035348892212,.1379501223564148,-.13794980943202972,.9807852506637573,.6935198903083801,-.6935197710990906,-.282339870929718,.2705983519554138,-.27059805393218994,.9238795042037964,.39284786581993103,-.3928475081920624,.8314695954322815,.5000002384185791,-.5,.7071067690849304,.5879377722740173,-.5879376530647278,.5555701851844788,.6532817482948303,-.6532813906669617,.3826834261417389,.3928477168083191,-.5879377722740173,.7071067690849304,.308658629655838,-.4619397819042206,.8314695954322815,.4619397819042206,-.6913415193557739,.5555701851844788,.5132802724838257,-.7681776881217957,.3826834261417389,.5448950529098511,-.8154929280281067,.19509035348892212,.5555703639984131,-.8314696550369263,7.549790126404332e-8,.10838677734136581,-.1622118055820465,.9807852506637573,.5448950529098511,-.8154929280281067,-.282339870929718,.21260780096054077,-.3181896507740021,.9238795042037964,.38268354535102844,-.9238795042037964,7.549790126404332e-8,.07465820759534836,-.18024009466171265,.9807852506637573,.37533023953437805,-.9061271548271179,-.282339870929718,.14644686877727509,-.3535533547401428,.9238795042037964,.21260783076286316,-.5132799744606018,.8314695954322815,.27059826254844666,-.6532814502716064,.7071067690849304,.31818968057632446,-.7681774497032166,.5555701851844788,.3535537123680115,-.8535533547401428,.3826834261417389,.37533023953437805,-.9061271548271179,.19509035348892212,.16221174597740173,-.8154928088188171,.5555701851844788,.1379498839378357,-.6935198903083801,.7071067690849304,.18024027347564697,-.906127393245697,.3826834261417389,.19134174287319183,-.9619393944740295,.19509035348892212,.19509044289588928,-.9807851910591125,7.549790126404332e-8,.03806057572364807,-.19134186208248138,.9807852506637573,.19134174287319183,-.9619393944740295,-.282339870929718,.07465810328722,-.37533020973205566,.9238795042037964,.10838666558265686,-.5448951125144958,.8314695954322815,3.117347660008818e-7,-.19509045779705048,.9807852506637573,9.566792869009078e-8,-.9807848334312439,-.282339870929718,1.4037141227163374e-7,-.9999998211860657,7.549790126404332e-8,2.819324436131865e-7,-.3826833665370941,.9238795042037964,2.819324436131865e-7,-.5555701851844788,.8314695954322815,1.850748958531767e-7,-.7071067094802856,.7071067690849304,1.4037141227163374e-7,-.8314692378044128,.5555701851844788,3.191853465978056e-7,-.9238794445991516,.3826834261417389,9.566792869009078e-8,-.9807848334312439,.19509035348892212,-.16221146285533905,-.8154926896095276,.5555701851844788,-.13794949650764465,-.6935198307037354,.7071067690849304,-.18023963272571564,-.9061273336410522,.3826834261417389,-.19134153425693512,-.9619392156600952,.19509035348892212,-.1950901597738266,-.9807850122451782,7.549790126404332e-8,-.03805994614958763,-.1913418471813202,.9807852506637573,-.19134153425693512,-.9619392156600952,-.282339870929718,-.07465753704309464,-.37533020973205566,.9238795042037964,-.1083860844373703,-.5448950529098511,.8314695954322815,-.37532997131347656,-.906126856803894,-.282339870929718,-.14644630253314972,-.35355332493782043,.9238795042037964,-.2126072347164154,-.5132798552513123,.8314695954322815,-.2705978453159332,-.6532813310623169,.7071067690849304,-.3181893527507782,-.7681772708892822,.5555701851844788,-.35355305671691895,-.853553295135498,.3826834261417389,-.37532997131347656,-.906126856803894,.19509035348892212,-.3826832175254822,-.9238792061805725,7.549790126404332e-8,-.07465756684541702,-.18024007976055145,.9807852506637573,-.5132796168327332,-.7681776285171509,.3826834261417389,-.5448946952819824,-.815492570400238,.19509035348892212,-.5555699467658997,-.8314692378044128,7.549790126404332e-8,-.10838612914085388,-.16221177577972412,.9807852506637573,-.5448946952819824,-.815492570400238,-.282339870929718,-.21260720491409302,-.3181895613670349,.9238795042037964,-.3086579740047455,-.46193963289260864,.8314695954322815,-.3928472399711609,-.5879376530647278,.7071067690849304,-.46193939447402954,-.69134122133255,.5555701851844788,-.3928471505641937,-.39284732937812805,.8314695954322815,-.4999997317790985,-.49999985098838806,.7071067690849304,-.5879373550415039,-.5879372954368591,.5555701851844788,-.6532810926437378,-.6532813906669617,.3826834261417389,-.6935193538665771,-.6935193538665771,.19509035348892212,-.7071064114570618,-.707106351852417,7.549790126404332e-8,-.13794946670532227,-.13794976472854614,.9807852506637573,-.6935193538665771,-.6935193538665771,-.282339870929718,-.2705976963043213,-.2705979347229004,.9238795042037964,-.8154924511909485,-.5448945760726929,.19509035348892212,-.768177330493927,-.5132798552513123,.3826834261417389,-.8314691185951233,-.5555698275566101,7.549790126404332e-8,-.16221146285533905,-.10838642716407776,.9807852506637573,-.8154924511909485,-.5448945760726929,-.282339870929718,-.31818926334381104,-.21260741353034973,.9238795042037964,-.46193939447402954,-.3086581230163574,.8314695954322815,-.5879374742507935,-.39284729957580566,.7071067690849304,-.6913411617279053,-.4619393050670624,.5555701851844788,-.5132795572280884,-.21260738372802734,.8314695954322815,-.35355299711227417,-.14644651114940643,.9238795042037964,-.6532811522483826,-.2705978751182556,.7071067690849304,-.7681770920753479,-.31818920373916626,.5555701851844788,-.8535529375076294,-.35355329513549805,.3826834261417389,-.9061266183853149,-.37532979249954224,.19509035348892212,-.9238789081573486,-.38268303871154785,7.549790126404332e-8,-.18023976683616638,-.0746578574180603,.9807852506637573,-.9061266183853149,-.37532979249954224,-.282339870929718,-.9619388580322266,-.1913413405418396,.19509035348892212,-.9061269760131836,-.18023987114429474,.3826834261417389,-.98078453540802,-.19508998095989227,7.549790126404332e-8,-.19134151935577393,-.038060225546360016,.9807852506637573,-.9619388580322266,-.1913413405418396,-.282339870929718,-.375329852104187,-.07465773820877075,.9238795042037964,-.5448946356773376,-.10838624089956284,.8314695954322815,-.6935195326805115,-.13794952630996704,.7071067690849304,-.8154923915863037,-.1622113138437271,.5555701851844788,5.960464477539063e-8,-4.2721556070546285e-8,-.8600426912307739],iron_data_ConstData.skydomeNor=[.5597705245018005,0,-.8286385536193848,.5489974617958069,-.10919522494077682,-.8286385536193848,.3804132342338562,-.07565538585186005,-.921689510345459,.7101352214813232,0,-.7040314674377441,.6964934468269348,-.13852351903915405,-.7040314674377441,.8333384394645691,0,-.5527512431144714,.8173161745071411,-.16257210075855255,-.5527512431144714,.9247413277626038,0,-.3805353045463562,.9069795608520508,-.18039490282535553,-.3805353045463562,.9809869527816772,0,-.19391460716724396,.9621570706367493,-.191381573677063,-.19391460716724396,.9998779296875,0,-.01501510664820671,.9806512594223022,-.19504378736019135,-.01501510664820671,.20096439123153687,0,-.9795831441879272,.19708853960037231,-.039185766130685806,-.9795831441879272,0,0,-1,.8584856986999512,0,.5128025412559509,.8419751524925232,-.1674550622701645,.5128025412559509,.3878597319126129,0,-.921689510345459,.3583483397960663,-.14841151237487793,-.921689510345459,.5171361565589905,-.2142094224691391,-.8286385536193848,.6560564041137695,-.2717368006706238,-.7040314674377441,.7698904275894165,-.3188879191875458,-.5527512431144714,.8543656468391418,-.35386210680007935,-.3805353045463562,.9063386917114258,-.3754081726074219,-.19391460716724396,.9237647652626038,-.382610559463501,-.01501510664820671,.18564409017562866,-.07690664380788803,-.9795831441879272,.7931455373764038,-.32853174209594727,.5128025412559509,.7689138650894165,-.5137485861778259,-.3805353045463562,.8156682252883911,-.5449995398521423,-.19391460716724396,.8313547372817993,-.5554978847503662,-.01501510664820671,.1670888364315033,-.1116367056965828,-.9795831441879272,.713797390460968,-.4769432544708252,.5128025412559509,.32248908281326294,-.2154911905527115,-.921689510345459,.46540728211402893,-.3109835982322693,-.8286385536193848,.5904415845870972,-.39451277256011963,-.7040314674377441,.6928922533988953,-.46296578645706177,-.5527512431144714,.395794540643692,-.395794540643692,-.8286385536193848,.5021210312843323,-.5021210312843323,-.7040314674377441,.5892513990402222,-.5892513990402222,-.5527512431144714,.6538895964622498,-.6538895964622498,-.3805353045463562,.6936551928520203,-.6936551928520203,-.19391460716724396,.7070223093032837,-.7070223093032837,-.01501510664820671,.1420941799879074,-.1420941799879074,-.9795831441879272,.6070436835289001,-.6070436835289001,.5128025412559509,.27426984906196594,-.27426984906196594,-.921689510345459,.5449995398521423,-.8156682252883911,-.19391460716724396,.5554978847503662,-.8313547372817993,-.01501510664820671,.1116367056965828,-.1670888364315033,-.9795831441879272,.4769432544708252,-.713797390460968,.5128025412559509,.2154911905527115,-.32248908281326294,-.921689510345459,.3109835982322693,-.46540728211402893,-.8286385536193848,.39451277256011963,-.5904415845870972,-.7040314674377441,.46296578645706177,-.6928922533988953,-.5527512431144714,.5137485861778259,-.7689138650894165,-.3805353045463562,.2142094224691391,-.5171361565589905,-.8286385536193848,.2717368006706238,-.6560564041137695,-.7040314674377441,.3188879191875458,-.7698904275894165,-.5527512431144714,.35386210680007935,-.8543656468391418,-.3805353045463562,.3754081726074219,-.9063386917114258,-.19391460716724396,.382610559463501,-.9237647652626038,-.01501510664820671,.07690664380788803,-.18564409017562866,-.9795831441879272,.32853174209594727,-.7931455373764038,.5128025412559509,.14841151237487793,-.3583483397960663,-.921689510345459,.191381573677063,-.9621570706367493,-.19391460716724396,.18039490282535553,-.9069795608520508,-.3805353045463562,.19504378736019135,-.9806512594223022,-.01501510664820671,.039185766130685806,-.19708853960037231,-.9795831441879272,.1674550622701645,-.8419751524925232,.5128025412559509,.07565538585186005,-.3804132342338562,-.921689510345459,.10919522494077682,-.5489974617958069,-.8286385536193848,.13852351903915405,-.6964934468269348,-.7040314674377441,.16257210075855255,-.8173161745071411,-.5527512431144714,0,-.7101352214813232,-.7040314674377441,0,-.8333384394645691,-.5527512431144714,0,-.9247413277626038,-.3805353045463562,0,-.9809869527816772,-.19391460716724396,0,-.9998779296875,-.01501510664820671,0,-.20096439123153687,-.9795831441879272,0,-.8584856986999512,.5128025412559509,0,-.3878597319126129,-.921689510345459,0,-.5597705245018005,-.8286385536193848,-.19504378736019135,-.9806512594223022,-.01501510664820671,-.039185766130685806,-.19708853960037231,-.9795831441879272,-.1674550622701645,-.8419751524925232,.5128025412559509,-.07565538585186005,-.3804132342338562,-.921689510345459,-.10919522494077682,-.5489974617958069,-.8286385536193848,-.13852351903915405,-.6964934468269348,-.7040314674377441,-.16257210075855255,-.8173161745071411,-.5527512431144714,-.18039490282535553,-.9069795608520508,-.3805353045463562,-.191381573677063,-.9621570706367493,-.19391460716724396,-.3188879191875458,-.7698904275894165,-.5527512431144714,-.35386210680007935,-.8543656468391418,-.3805353045463562,-.3754081726074219,-.9063386917114258,-.19391460716724396,-.382610559463501,-.9237647652626038,-.01501510664820671,-.07690664380788803,-.18564409017562866,-.9795831441879272,-.32853174209594727,-.7931455373764038,.5128025412559509,-.14841151237487793,-.3583483397960663,-.921689510345459,-.2142094224691391,-.5171361565589905,-.8286385536193848,-.2717368006706238,-.6560564041137695,-.7040314674377441,-.1116367056965828,-.1670888364315033,-.9795831441879272,-.4769432544708252,-.713797390460968,.5128025412559509,-.5554978847503662,-.8313547372817993,-.01501510664820671,-.2154911905527115,-.32248908281326294,-.921689510345459,-.3109835982322693,-.46540728211402893,-.8286385536193848,-.39451277256011963,-.5904415845870972,-.7040314674377441,-.46296578645706177,-.6928922533988953,-.5527512431144714,-.5137485861778259,-.7689138650894165,-.3805353045463562,-.5449995398521423,-.8156682252883911,-.19391460716724396,-.5892513990402222,-.5892513990402222,-.5527512431144714,-.6538895964622498,-.6538895964622498,-.3805353045463562,-.6936551928520203,-.6936551928520203,-.19391460716724396,-.7070223093032837,-.7070223093032837,-.01501510664820671,-.1420941799879074,-.1420941799879074,-.9795831441879272,-.6070436835289001,-.6070436835289001,.5128025412559509,-.27426984906196594,-.27426984906196594,-.921689510345459,-.395794540643692,-.395794540643692,-.8286385536193848,-.5021210312843323,-.5021210312843323,-.7040314674377441,-.713797390460968,-.4769432544708252,.5128025412559509,-.8313547372817993,-.5554978847503662,-.01501510664820671,-.32248908281326294,-.2154911905527115,-.921689510345459,-.46540728211402893,-.3109835982322693,-.8286385536193848,-.5904415845870972,-.39451277256011963,-.7040314674377441,-.6928922533988953,-.46296578645706177,-.5527512431144714,-.7689138650894165,-.5137485861778259,-.3805353045463562,-.8156682252883911,-.5449995398521423,-.19391460716724396,-.1670888364315033,-.1116367056965828,-.9795831441879272,-.8543656468391418,-.35386210680007935,-.3805353045463562,-.9063386917114258,-.3754081726074219,-.19391460716724396,-.9237647652626038,-.382610559463501,-.01501510664820671,-.18564409017562866,-.07690664380788803,-.9795831441879272,-.7931455373764038,-.32853174209594727,.5128025412559509,-.3583483397960663,-.14841151237487793,-.921689510345459,-.5171361565589905,-.2142094224691391,-.8286385536193848,-.6560564041137695,-.2717368006706238,-.7040314674377441,-.7698904275894165,-.3188879191875458,-.5527512431144714,-.3804132342338562,-.07565538585186005,-.921689510345459,-.5489974617958069,-.10919522494077682,-.8286385536193848,-.6964934468269348,-.13852351903915405,-.7040314674377441,-.8173161745071411,-.16257210075855255,-.5527512431144714,-.9069795608520508,-.18039490282535553,-.3805353045463562,-.9621570706367493,-.191381573677063,-.19391460716724396,-.9806512594223022,-.19504378736019135,-.01501510664820671,-.19708853960037231,-.039185766130685806,-.9795831441879272,-.8419751524925232,-.1674550622701645,.5128025412559509,-.9247413277626038,0,-.3805353045463562,-.9809869527816772,0,-.19391460716724396,-.9998779296875,0,-.01501510664820671,-.20096439123153687,0,-.9795831441879272,-.8584856986999512,0,.5128025412559509,-.3878597319126129,0,-.921689510345459,-.5597705245018005,0,-.8286385536193848,-.7101352214813232,0,-.7040314674377441,-.8333384394645691,0,-.5527512431144714,-.5489974617958069,.10919522494077682,-.8286385536193848,-.6964934468269348,.13852351903915405,-.7040314674377441,-.8173161745071411,.16257210075855255,-.5527512431144714,-.9069795608520508,.18039490282535553,-.3805353045463562,-.9621570706367493,.191381573677063,-.19391460716724396,-.9806512594223022,.19504378736019135,-.01501510664820671,-.19708853960037231,.039185766130685806,-.9795831441879272,-.8419751524925232,.1674550622701645,.5128025412559509,-.3804132342338562,.07565538585186005,-.921689510345459,-.9063386917114258,.3754081726074219,-.19391460716724396,-.8543656468391418,.35386210680007935,-.3805353045463562,-.9237647652626038,.382610559463501,-.01501510664820671,-.18564409017562866,.07690664380788803,-.9795831441879272,-.7931455373764038,.32853174209594727,.5128025412559509,-.3583483397960663,.14841151237487793,-.921689510345459,-.5171361565589905,.2142094224691391,-.8286385536193848,-.6560564041137695,.2717368006706238,-.7040314674377441,-.7698904275894165,.3188879191875458,-.5527512431144714,-.5904415845870972,.39451277256011963,-.7040314674377441,-.6928922533988953,.46296578645706177,-.5527512431144714,-.7689138650894165,.5137485861778259,-.3805353045463562,-.8156682252883911,.5449995398521423,-.19391460716724396,-.8313547372817993,.5554978847503662,-.01501510664820671,-.1670888364315033,.1116367056965828,-.9795831441879272,-.713797390460968,.4769432544708252,.5128025412559509,-.32248908281326294,.2154911905527115,-.921689510345459,-.46540728211402893,.3109835982322693,-.8286385536193848,-.7070223093032837,.7070223093032837,-.01501510664820671,-.6936551928520203,.6936551928520203,-.19391460716724396,-.1420941799879074,.1420941799879074,-.9795831441879272,-.6070436835289001,.6070436835289001,.5128025412559509,-.27426984906196594,.27426984906196594,-.921689510345459,-.395794540643692,.395794540643692,-.8286385536193848,-.5021210312843323,.5021210312843323,-.7040314674377441,-.5892513990402222,.5892513990402222,-.5527512431144714,-.6538895964622498,.6538895964622498,-.3805353045463562,-.39451277256011963,.5904415845870972,-.7040314674377441,-.3109835982322693,.46540728211402893,-.8286385536193848,-.46296578645706177,.6928922533988953,-.5527512431144714,-.5137485861778259,.7689138650894165,-.3805353045463562,-.5449995398521423,.8156682252883911,-.19391460716724396,-.5554978847503662,.8313547372817993,-.01501510664820671,-.1116367056965828,.1670888364315033,-.9795831441879272,-.4769432544708252,.713797390460968,.5128025412559509,-.2154911905527115,.32248908281326294,-.921689510345459,-.382610559463501,.9237647652626038,-.01501510664820671,-.07690664380788803,.18564409017562866,-.9795831441879272,-.32853174209594727,.7931455373764038,.5128025412559509,-.14841151237487793,.3583483397960663,-.921689510345459,-.2142094224691391,.5171361565589905,-.8286385536193848,-.2717368006706238,.6560564041137695,-.7040314674377441,-.3188879191875458,.7698904275894165,-.5527512431144714,-.35386210680007935,.8543656468391418,-.3805353045463562,-.3754081726074219,.9063386917114258,-.19391460716724396,-.16257210075855255,.8173161745071411,-.5527512431144714,-.13852351903915405,.6964934468269348,-.7040314674377441,-.18039490282535553,.9069795608520508,-.3805353045463562,-.191381573677063,.9621570706367493,-.19391460716724396,-.19504378736019135,.9806512594223022,-.01501510664820671,-.039185766130685806,.19708853960037231,-.9795831441879272,-.1674550622701645,.8419751524925232,.5128025412559509,-.07565538585186005,.3804132342338562,-.921689510345459,-.10919522494077682,.5489974617958069,-.8286385536193848,0,.20096439123153687,-.9795831441879272,0,.8584856986999512,.5128025412559509,0,.9998779296875,-.01501510664820671,0,.3878597319126129,-.921689510345459,0,.5597705245018005,-.8286385536193848,0,.7101352214813232,-.7040314674377441,0,.8333384394645691,-.5527512431144714,0,.9247413277626038,-.3805353045463562,0,.9809869527816772,-.19391460716724396,.16257210075855255,.8173161745071411,-.5527512431144714,.13852351903915405,.6964934468269348,-.7040314674377441,.18039490282535553,.9069795608520508,-.3805353045463562,.191381573677063,.9621570706367493,-.19391460716724396,.19504378736019135,.9806512594223022,-.01501510664820671,.039185766130685806,.19708853960037231,-.9795831441879272,.1674550622701645,.8419751524925232,.5128025412559509,.07565538585186005,.3804132342338562,-.921689510345459,.10919522494077682,.5489974617958069,-.8286385536193848,.32853174209594727,.7931455373764038,.5128025412559509,.14841151237487793,.3583483397960663,-.921689510345459,.2142094224691391,.5171361565589905,-.8286385536193848,.2717368006706238,.6560564041137695,-.7040314674377441,.3188879191875458,.7698904275894165,-.5527512431144714,.35386210680007935,.8543656468391418,-.3805353045463562,.3754081726074219,.9063386917114258,-.19391460716724396,.382610559463501,.9237647652626038,-.01501510664820671,.07690664380788803,.18564409017562866,-.9795831441879272,.5137485861778259,.7689138650894165,-.3805353045463562,.5449995398521423,.8156682252883911,-.19391460716724396,.5554978847503662,.8313547372817993,-.01501510664820671,.1116367056965828,.1670888364315033,-.9795831441879272,.4769432544708252,.713797390460968,.5128025412559509,.2154911905527115,.32248908281326294,-.921689510345459,.3109835982322693,.46540728211402893,-.8286385536193848,.39451277256011963,.5904415845870972,-.7040314674377441,.46296578645706177,.6928922533988953,-.5527512431144714,.395794540643692,.395794540643692,-.8286385536193848,.5021210312843323,.5021210312843323,-.7040314674377441,.5892513990402222,.5892513990402222,-.5527512431144714,.6538895964622498,.6538895964622498,-.3805353045463562,.6936551928520203,.6936551928520203,-.19391460716724396,.7070223093032837,.7070223093032837,-.01501510664820671,.1420941799879074,.1420941799879074,-.9795831441879272,.6070436835289001,.6070436835289001,.5128025412559509,.27426984906196594,.27426984906196594,-.921689510345459,.8156682252883911,.5449995398521423,-.19391460716724396,.7689138650894165,.5137485861778259,-.3805353045463562,.8313547372817993,.5554978847503662,-.01501510664820671,.1670888364315033,.1116367056965828,-.9795831441879272,.713797390460968,.4769432544708252,.5128025412559509,.32248908281326294,.2154911905527115,-.921689510345459,.46540728211402893,.3109835982322693,-.8286385536193848,.5904415845870972,.39451277256011963,-.7040314674377441,.6928922533988953,.46296578645706177,-.5527512431144714,.5171361565589905,.2142094224691391,-.8286385536193848,.3583483397960663,.14841151237487793,-.921689510345459,.6560564041137695,.2717368006706238,-.7040314674377441,.7698904275894165,.3188879191875458,-.5527512431144714,.8543656468391418,.35386210680007935,-.3805353045463562,.9063386917114258,.3754081726074219,-.19391460716724396,.9237647652626038,.382610559463501,-.01501510664820671,.18564409017562866,.07690664380788803,-.9795831441879272,.7931455373764038,.32853174209594727,.5128025412559509,.9621570706367493,.191381573677063,-.19391460716724396,.9069795608520508,.18039490282535553,-.3805353045463562,.9806512594223022,.19504378736019135,-.01501510664820671,.19708853960037231,.039185766130685806,-.9795831441879272,.8419751524925232,.1674855798482895,.5128025412559509,.3804132342338562,.07565538585186005,-.921689510345459,.5489974617958069,.10919522494077682,-.8286385536193848,.6964934468269348,.13852351903915405,-.7040314674377441,.8173161745071411,.16257210075855255,-.5527512431144714,0,0,.999969482421875],iron_data_GreasePencilData.frameEnd=0,iron_data_GreasePencilData.first=!0,iron_data_MaterialContext.num=0,iron_data_MeshData.ForceCpuSkinning=!1,iron_data_RenderPath.gpFrame=0,
iron_object_Animation.vpos=new iron_math_Vec4,iron_object_Animation.vscl=new iron_math_Vec4,iron_object_Animation.q1=new iron_math_Quat,iron_object_Animation.q2=new iron_math_Quat,iron_object_CameraObject.sphereCenter=new iron_math_Vec4,iron_object_Transform.temp=iron_math_Mat4.identity(),iron_object_Uniforms.helpMat=iron_math_Mat4.identity(),iron_object_Uniforms.helpMat2=iron_math_Mat4.identity(),iron_object_Uniforms.helpVec=new iron_math_Vec4,iron_object_Uniforms.helpVec2=new iron_math_Vec4,iron_object_Uniforms.helpQuat=new iron_math_Quat,iron_system_Input.x=0,iron_system_Input.y=0,iron_system_Input.touch=!1,iron_system_Input.touch2=!1,iron_system_Input.started=!1,iron_system_Input.started2=!1,iron_system_Input.released=!1,iron_system_Input.released2=!1,iron_system_Input.moved=!1,iron_system_Input.occupied=!1,iron_system_Input.deltaX=0,iron_system_Input.deltaY=0,iron_system_Tween.LINEAR=0,iron_system_Tween.EXPO_OUT=1,iron_system_Tween.DEFAULT=1,iron_system_Tween.eases=[iron_system_Tween.easeLinear,iron_system_Tween.easeExpoOut],iron_system_Tween.anims=[],iron_system_Tween.map=new haxe_ds_ObjectMap,iron_system_msgpack_Encoder.FLOAT_SINGLE_MIN=1.401298464324817e-45,iron_system_msgpack_Encoder.FLOAT_SINGLE_MAX=3.4028234663852886e38,iron_system_msgpack_Encoder.FLOAT_DOUBLE_MIN=5e-324,iron_system_msgpack_Encoder.FLOAT_DOUBLE_MAX=1.7976931348623157e308,js_Boot.__toStr={}.toString,js_html_compat_Float32Array.BYTES_PER_ELEMENT=4,js_html_compat_Uint8Array.BYTES_PER_ELEMENT=1,kha__$Color_Color_$Impl_$.Black=kha__$Color_Color_$Impl_$._new(-16777216),kha__$Color_Color_$Impl_$.White=kha__$Color_Color_$Impl_$._new(-1),kha__$Color_Color_$Impl_$.Red=kha__$Color_Color_$Impl_$._new(-65536),kha__$Color_Color_$Impl_$.Blue=kha__$Color_Color_$Impl_$._new(-16776961),kha__$Color_Color_$Impl_$.Green=kha__$Color_Color_$Impl_$._new(-16711936),kha__$Color_Color_$Impl_$.Magenta=kha__$Color_Color_$Impl_$._new(-65281),kha__$Color_Color_$Impl_$.Yellow=kha__$Color_Color_$Impl_$._new(-256),kha__$Color_Color_$Impl_$.Cyan=kha__$Color_Color_$Impl_$._new(-16711681),kha__$Color_Color_$Impl_$.Purple=kha__$Color_Color_$Impl_$._new(-8388480),kha__$Color_Color_$Impl_$.Pink=kha__$Color_Color_$Impl_$._new(-16181),kha__$Color_Color_$Impl_$.Orange=kha__$Color_Color_$Impl_$._new(-23296),kha__$Color_Color_$Impl_$.invMaxChannelValue=.00392156862745098,kha_FontStyle.Default=new kha_FontStyle(!1,!1,!1),kha_Scheduler.timeWarpSaveTime=1,kha_Scheduler.DIF_COUNT=3,kha_Scheduler.maxframetime=.5,kha_Scheduler.startTime=0,kha_Shaders.compositor_pass_EnvSky_Rad_CompoTonemap_CompoFXAA_fragData="s4282:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4Owp1bmlmb3JtIGhpZ2hwIHZlYzIgdGV4U3RlcDsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlckQ7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGdidWZmZXIwOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyMTsKCnZhcnlpbmcgaGlnaHAgdmVjMiB0ZXhDb29yZDsKCmhpZ2hwIHZlYzMgdW5jaGFydGVkMlRvbmVtYXAoaGlnaHAgdmVjMyB4KQp7CiAgICByZXR1cm4gKCgoKHggKiAoKHggKiAwLjE1MDAwMDAwNTk2MDQ2NDQ3NzUzOTA2MjUpICsgdmVjMygwLjA1MDAwMDAwMDc0NTA1ODA1OTY5MjM4MjgxMjUpKSkgKyB2ZWMzKDAuMDA0MDAwMDAwMTg5OTg5ODA1MjIxNTU3NjE3MTg3NSkpIC8gKCh4ICogKCh4ICogMC4xNTAwMDAwMDU5NjA0NjQ0Nzc1MzkwNjI1KSArIHZlYzMoMC41KSkpICsgdmVjMygwLjA1OTk5OTk5ODY1ODg5NTQ5MjU1MzcxMDkzNzUpKSkgLSB2ZWMzKDAuMDY2NjY2NjcwMTQzNjA0Mjc4NTY0NDUzMTI1KSk7Cn0KCmhpZ2hwIHZlYzMgdG9uZW1hcFVuY2hhcnRlZDIoaGlnaHAgdmVjMyBjb2xvcikKewogICAgaGlnaHAgdmVjMyBjdXJyID0gdW5jaGFydGVkMlRvbmVtYXAoKGNvbG9yICogMi4wKSk7CiAgICBoaWdocCB2ZWMzIHdoaXRlU2NhbGUgPSAodmVjMygxLjApIC8gdW5jaGFydGVkMlRvbmVtYXAodmVjMygxMS4xOTk5OTk4MDkyNjUxMzY3MTg3NSkpKTsKICAgIHJldHVybiAoY3VyciAqIHdoaXRlU2NhbGUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWMyIHRleENvID0gdGV4Q29vcmQ7CiAgICBoaWdocCB2ZWMyIHRjcmdiTlcgPSAodGV4Q28gKyAodmVjMigtMS4wKSAqIHRleFN0ZXApKTsKICAgIGhpZ2hwIHZlYzIgdGNyZ2JORSA9ICh0ZXhDbyArICh2ZWMyKDEuMCwgLTEuMCkgKiB0ZXhTdGVwKSk7CiAgICBoaWdocCB2ZWMyIHRjcmdiU1cgPSAodGV4Q28gKyAodmVjMigtMS4wLCAxLjApICogdGV4U3RlcCkpOwogICAgaGlnaHAgdmVjMiB0Y3JnYlNFID0gKHRleENvICsgKHZlYzIoMS4wKSAqIHRleFN0ZXApKTsKICAgIGhpZ2hwIHZlYzIgdGNyZ2JNID0gdmVjMih0ZXhDbyk7CiAgICBoaWdocCB2ZWMzIHJnYk5XID0gdGV4dHVyZTJEKHRleCwgdGNyZ2JOVykueHl6OwogICAgaGlnaHAgdmVjMyByZ2JORSA9IHRleHR1cmUyRCh0ZXgsIHRjcmdiTkUpLnh5ejsKICAgIGhpZ2hwIHZlYzMgcmdiU1cgPSB0ZXh0dXJlMkQodGV4LCB0Y3JnYlNXKS54eXo7CiAgICBoaWdocCB2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKHRleCwgdGNyZ2JTRSkueHl6OwogICAgaGlnaHAgdmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCh0ZXgsIHRjcmdiTSk7CiAgICBoaWdocCB2ZWMzIHJnYk0gPSB0ZXhDb2xvci54eXo7CiAgICBoaWdocCB2ZWMzIGx1bWEgPSB2ZWMzKDAuMjk4OTk5OTk0OTkzMjA5ODM4ODY3MTg3NSwgMC41ODcwMDAwMTIzOTc3NjYxMTMyODEyNSwgMC4xMTQwMDAwMDAwNTk2MDQ2NDQ3NzUzOTA2MjUpOwogICAgaGlnaHAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTsKICAgIGhpZ2hwIGZsb2F0IGx1bWFORSA9IGRvdChyZ2JORSwgbHVtYSk7CiAgICBoaWdocCBmbG9hdCBsdW1hU1cgPSBkb3QocmdiU1csIGx1bWEpOwogICAgaGlnaHAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTsKICAgIGhpZ2hwIGZsb2F0IGx1bWFNID0gZG90KHJnYk0sIGx1bWEpOwogICAgaGlnaHAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTsKICAgIGhpZ2hwIGZsb2F0IGx1bWFNYXggPSBtYXgobHVtYU0sIG1heChtYXgobHVtYU5XLCBsdW1hTkUpLCBtYXgobHVtYVNXLCBsdW1hU0UpKSk7CiAgICBoaWdocCB2ZWMyIGRpcjsKICAgIGRpci54ID0gKC0oKGx1bWFOVyArIGx1bWFORSkgLSAobHVtYVNXICsgbHVtYVNFKSkpOwogICAgZGlyLnkgPSAoKGx1bWFOVyArIGx1bWFTVykgLSAobHVtYU5FICsgbHVtYVNFKSk7CiAgICBoaWdocCBmbG9hdCBkaXJSZWR1Y2UgPSBtYXgoKCgoKGx1bWFOVyArIGx1bWFORSkgKyBsdW1hU1cpICsgbHVtYVNFKSAqIDAuMDMxMjUpLCAwLjAwNzgxMjUpOwogICAgaGlnaHAgZmxvYXQgcmNwRGlyTWluID0gKDEuMCAvIChtaW4oYWJzKGRpci54KSwgYWJzKGRpci55KSkgKyBkaXJSZWR1Y2UpKTsKICAgIGRpciA9IChtaW4odmVjMig4LjApLCBtYXgodmVjMigtOC4wKSwgKGRpciAqIHJjcERpck1pbikpKSAqIHRleFN0ZXApOwogICAgaGlnaHAgdmVjMyByZ2JBID0gKCh0ZXh0dXJlMkQodGV4LCAodGV4Q28gKyAoZGlyICogLTAuMTY2NjY2NjcxNjMzNzIwMzk3OTQ5MjE4NzUpKSkueHl6ICsgdGV4dHVyZTJEKHRleCwgKHRleENvICsgKGRpciAqIDAuMTY2NjY2NjcxNjMzNzIwMzk3OTQ5MjE4NzUpKSkueHl6KSAqIDAuNSk7CiAgICBoaWdocCB2ZWMzIHJnYkIgPSAoKHJnYkEgKiAwLjUpICsgKCh0ZXh0dXJlMkQodGV4LCAodGV4Q28gKyAoZGlyICogLTAuNSkpKS54eXogKyB0ZXh0dXJlMkQodGV4LCAodGV4Q28gKyAoZGlyICogMC41KSkpLnh5eikgKiAwLjI1KSk7CiAgICBoaWdocCBmbG9hdCBsdW1hQiA9IGRvdChyZ2JCLCBsdW1hKTsKICAgIGhpZ2hwIHZlYzQgY29sOwogICAgaWYgKCgobHVtYUIgPCBsdW1hTWluKSB8fCAobHVtYUIgPiBsdW1hTWF4KSkpCiAgICB7CiAgICAgICAgY29sID0gdmVjNChyZ2JBLCB0ZXhDb2xvci53KTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBjb2wgPSB2ZWM0KHJnYkIsIHRleENvbG9yLncpOwogICAgfQogICAgaGlnaHAgdmVjMyBfNzE4ID0gdG9uZW1hcFVuY2hhcnRlZDIoY29sLnh5eik7CiAgICBjb2wgPSB2ZWM0KF83MTgueCwgXzcxOC55LCBfNzE4LnosIGNvbC53KTsKICAgIGhpZ2hwIHZlYzMgXzcyNSA9IHBvdyhjb2wueHl6LCB2ZWMzKDAuNDU0NTQ1NDY4MDkxOTY0NzIxNjc5Njg3NSkpOwogICAgY29sID0gdmVjNChfNzI1LngsIF83MjUueSwgXzcyNS56LCBjb2wudyk7CiAgICBoaWdocCB2ZWMzIF83MzUgPSAoKGNvbC54eXogLSB2ZWMzKDAuNSkpICogMS4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSArIHZlYzMoMC41KTsKICAgIGNvbCA9IHZlYzQoXzczNS54LCBfNzM1LnksIF83MzUueiwgY29sLncpOwogICAgZ2xfRnJhZ0RhdGFbMF0gPSBjb2w7Cn0KCg",kha_Shaders.compositor_pass_EnvSky_Rad_CompoTonemap_CompoFXAA_vertData="s216:I3ZlcnNpb24gMTAwCgp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSB2ZWMyIHBvczsKCnZvaWQgbWFpbigpCnsKICAgIHRleENvb3JkID0gKChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpKTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKfQoK",kha_Shaders.mesh_BaseTex_RoughTex_Tex_EnvSky_Rad_fragData="s11494:I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCA6IHJlcXVpcmUKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnByZWNpc2lvbiBoaWdocCBpbnQ7Cgp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXA7CnVuaWZvcm0gaGlnaHAgZmxvYXQgc2hpcnJbMjddOwp1bmlmb3JtIGhpZ2hwIGZsb2F0IHNoYWRvd3NCaWFzOwp1bmlmb3JtIGludCBsaWdodFR5cGU7CnVuaWZvcm0gaGlnaHAgdmVjMyBsaWdodERpcjsKdW5pZm9ybSBoaWdocCB2ZWMzIGxpZ2h0UG9zOwp1bmlmb3JtIGJvb2wgcmVjZWl2ZVNoYWRvdzsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgc2Jhc2U7CnVuaWZvcm0gaGlnaHAgZmxvYXQgbWV0YWxuZXNzOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzcm91Z2g7CnVuaWZvcm0gaGlnaHAgZmxvYXQgc3BvdGxpZ2h0Q3V0b2ZmOwp1bmlmb3JtIGhpZ2hwIGZsb2F0IHNwb3RsaWdodEV4cG9uZW50Owp1bmlmb3JtIGhpZ2hwIHZlYzMgbGlnaHRDb2xvcjsKdW5pZm9ybSBoaWdocCBmbG9hdCBsaWdodFN0cmVuZ3RoOwp1bmlmb3JtIGludCBlbnZtYXBOdW1NaXBtYXBzOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzZW52bWFwUmFkaWFuY2U7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHNlbnZtYXBCcmRmOwp1bmlmb3JtIGhpZ2hwIGZsb2F0IGVudm1hcFN0cmVuZ3RoOwp1bmlmb3JtIGhpZ2hwIGZsb2F0IG9jY2x1c2lvbjsKdW5pZm9ybSBoaWdocCB2ZWMzIGV5ZTsKCnZhcnlpbmcgaGlnaHAgdmVjMyBub3JtYWw7CnZhcnlpbmcgaGlnaHAgdmVjMyBwb3NpdGlvbjsKdmFyeWluZyBoaWdocCB2ZWM0IGxhbXBQb3M7CnZhcnlpbmcgaGlnaHAgdmVjNCBtYXRDb2xvcjsKdmFyeWluZyBoaWdocCB2ZWMyIHRleENvb3JkOwp2YXJ5aW5nIGhpZ2hwIHZlYzMgZXllRGlyOwoKaGlnaHAgZmxvYXQgdGV4dHVyZTJEQ29tcGFyZShoaWdocCB2ZWMyIHV2LCBoaWdocCBmbG9hdCBjb21wYXJlKQp7CiAgICBoaWdocCBmbG9hdCBkZXB0aCA9IHRleHR1cmUyRChzaGFkb3dNYXAsIHV2KS54OwogICAgcmV0dXJuIHN0ZXAoY29tcGFyZSwgZGVwdGgpOwp9CgpoaWdocCBmbG9hdCB0ZXh0dXJlMkRTaGFkb3dMZXJwKGhpZ2hwIHZlYzIgdXYsIGhpZ2hwIGZsb2F0IGNvbXBhcmUpCnsKICAgIGhpZ2hwIHZlYzIgZiA9IGZyYWN0KCgodXYgKiB2ZWMyKDEwMjQuMCkpICsgdmVjMigwLjUpKSk7CiAgICBoaWdocCB2ZWMyIGNlbnRyb2lkVVYgPSAoZmxvb3IoKCh1diAqIHZlYzIoMTAyNC4wKSkgKyB2ZWMyKDAuNSkpKSAvIHZlYzIoMTAyNC4wKSk7CiAgICBoaWdocCBmbG9hdCBsYiA9IHRleHR1cmUyRENvbXBhcmUoY2VudHJvaWRVViwgY29tcGFyZSk7CiAgICBoaWdocCBmbG9hdCBsdCA9IHRleHR1cmUyRENvbXBhcmUoKGNlbnRyb2lkVVYgKyB2ZWMyKDAuMCwgMC4wMDA5NzY1NjI1KSksIGNvbXBhcmUpOwogICAgaGlnaHAgZmxvYXQgcmIgPSB0ZXh0dXJlMkRDb21wYXJlKChjZW50cm9pZFVWICsgdmVjMigwLjAwMDk3NjU2MjUsIDAuMCkpLCBjb21wYXJlKTsKICAgIGhpZ2hwIGZsb2F0IHJ0ID0gdGV4dHVyZTJEQ29tcGFyZSgoY2VudHJvaWRVViArIHZlYzIoMC4wMDA5NzY1NjI1KSksIGNvbXBhcmUpOwogICAgaGlnaHAgZmxvYXQgYSA9IG1peChsYiwgbHQsIGYueSk7CiAgICBoaWdocCBmbG9hdCBiID0gbWl4KHJiLCBydCwgZi55KTsKICAgIGhpZ2hwIGZsb2F0IGMgPSBtaXgoYSwgYiwgZi54KTsKICAgIHJldHVybiBjOwp9CgpoaWdocCBmbG9hdCBQQ0YoaGlnaHAgdmVjMiB1diwgaW5vdXQgaGlnaHAgZmxvYXQgY29tcGFyZSkKewogICAgY29tcGFyZSA9ICgoY29tcGFyZSAqIDAuNSkgKyAwLjUpOwogICAgaGlnaHAgZmxvYXQgcmVzdWx0ID0gdGV4dHVyZTJEU2hhZG93TGVycCgodXYgKyB2ZWMyKC0wLjAwMDk3NjU2MjUpKSwgY29tcGFyZSk7CiAgICByZXN1bHQgPSAocmVzdWx0ICsgdGV4dHVyZTJEU2hhZG93TGVycCgodXYgKyB2ZWMyKC0wLjAwMDk3NjU2MjUsIDAuMCkpLCBjb21wYXJlKSk7CiAgICByZXN1bHQgPSAocmVzdWx0ICsgdGV4dHVyZTJEU2hhZG93TGVycCgodXYgKyB2ZWMyKC0wLjAwMDk3NjU2MjUsIDAuMDAwOTc2NTYyNSkpLCBjb21wYXJlKSk7CiAgICByZXN1bHQgPSAocmVzdWx0ICsgdGV4dHVyZTJEU2hhZG93TGVycCgodXYgKyB2ZWMyKDAuMCwgLTAuMDAwOTc2NTYyNSkpLCBjb21wYXJlKSk7CiAgICByZXN1bHQgPSAocmVzdWx0ICsgdGV4dHVyZTJEU2hhZG93TGVycCh1diwgY29tcGFyZSkpOwogICAgcmVzdWx0ID0gKHJlc3VsdCArIHRleHR1cmUyRFNoYWRvd0xlcnAoKHV2ICsgdmVjMigwLjAsIDAuMDAwOTc2NTYyNSkpLCBjb21wYXJlKSk7CiAgICByZXN1bHQgPSAocmVzdWx0ICsgdGV4dHVyZTJEU2hhZG93TGVycCgodXYgKyB2ZWMyKDAuMDAwOTc2NTYyNSwgLTAuMDAwOTc2NTYyNSkpLCBjb21wYXJlKSk7CiAgICByZXN1bHQgPSAocmVzdWx0ICsgdGV4dHVyZTJEU2hhZG93TGVycCgodXYgKyB2ZWMyKDAuMDAwOTc2NTYyNSwgMC4wKSksIGNvbXBhcmUpKTsKICAgIHJlc3VsdCA9IChyZXN1bHQgKyB0ZXh0dXJlMkRTaGFkb3dMZXJwKCh1diArIHZlYzIoMC4wMDA5NzY1NjI1KSksIGNvbXBhcmUpKTsKICAgIHJldHVybiAocmVzdWx0IC8gOS4wKTsKfQoKaGlnaHAgZmxvYXQgc2hhZG93VGVzdChpbm91dCBoaWdocCB2ZWM0IGxQb3MpCnsKICAgIGhpZ2hwIHZlYzMgXzc0MyA9IGxQb3MueHl6IC8gdmVjMyhsUG9zLncpOwogICAgbFBvcyA9IHZlYzQoXzc0My54LCBfNzQzLnksIF83NDMueiwgbFBvcy53KTsKICAgIGhpZ2hwIHZlYzIgXzc1MCA9IChsUG9zLnh5ICogMC41KSArIHZlYzIoMC41KTsKICAgIGxQb3MgPSB2ZWM0KF83NTAueCwgXzc1MC55LCBsUG9zLnosIGxQb3Mudyk7CiAgICBoaWdocCBmbG9hdCBwYXJhbSA9IChsUG9zLnogLSBzaGFkb3dzQmlhcyk7CiAgICBoaWdocCBmbG9hdCBfNzYxID0gUENGKGxQb3MueHksIHBhcmFtKTsKICAgIHJldHVybiBfNzYxOwp9CgpoaWdocCB2ZWMzIHN1cmZhY2VBbGJlZG8oaGlnaHAgdmVjMyBiYXNlQ29sb3IsIGhpZ2hwIGZsb2F0IG1ldGFsbmVzc18xKQp7CiAgICByZXR1cm4gbWl4KGJhc2VDb2xvciwgdmVjMygwLjApLCB2ZWMzKG1ldGFsbmVzc18xKSk7Cn0KCmhpZ2hwIHZlYzMgc3VyZmFjZUYwKGhpZ2hwIHZlYzMgYmFzZUNvbG9yLCBoaWdocCBmbG9hdCBtZXRhbG5lc3NfMSkKewogICAgcmV0dXJuIG1peCh2ZWMzKDAuMDM5OTk5OTk5MTA1OTMwMzI4MzY5MTQwNjI1KSwgYmFzZUNvbG9yLCB2ZWMzKG1ldGFsbmVzc18xKSk7Cn0KCmhpZ2hwIHZlYzMgbGFtYmVydERpZmZ1c2VCUkRGKGhpZ2hwIHZlYzMgYWxiZWRvLCBoaWdocCBmbG9hdCBubCkKewogICAgcmV0dXJuIChhbGJlZG8gKiBtYXgoMC4wLCBubCkpOwp9CgpoaWdocCBmbG9hdCBkX2dneChoaWdocCBmbG9hdCBuaCwgaGlnaHAgZmxvYXQgYSkKewogICAgaGlnaHAgZmxvYXQgYTIgPSAoYSAqIGEpOwogICAgaGlnaHAgZmxvYXQgZGVub20gPSBwb3coKCgobmggKiBuaCkgKiAoYTIgLSAxLjApKSArIDEuMCksIDIuMCk7CiAgICByZXR1cm4gKChhMiAqIDAuMzE4MzA5ODczMzQyNTE0MDM4MDg1OTM3NSkgLyBkZW5vbSk7Cn0KCmhpZ2hwIGZsb2F0IHZfc21pdGhzY2hsaWNrKGhpZ2hwIGZsb2F0IG5sLCBoaWdocCBmbG9hdCBudiwgaGlnaHAgZmxvYXQgYSkKewogICAgcmV0dXJuICgxLjAgLyAoKChubCAqICgxLjAgLSBhKSkgKyBhKSAqICgobnYgKiAoMS4wIC0gYSkpICsgYSkpKTsKfQoKaGlnaHAgdmVjMyBmX3NjaGxpY2soaGlnaHAgdmVjMyBmMCwgaGlnaHAgZmxvYXQgdmgpCnsKICAgIHJldHVybiAoZjAgKyAoKHZlYzMoMS4wKSAtIGYwKSAqIGV4cDIoKCgoLTUuNTU0NzI5OTM4NTA3MDgwMDc4MTI1ICogdmgpIC0gNi45ODMxNjAwMTg5MjA4OTg0Mzc1KSAqIHZoKSkpKTsKfQoKaGlnaHAgdmVjMyBzcGVjdWxhckJSREYoaGlnaHAgdmVjMyBmMCwgaGlnaHAgZmxvYXQgcm91Z2huZXNzLCBoaWdocCBmbG9hdCBubCwgaGlnaHAgZmxvYXQgbmgsIGhpZ2hwIGZsb2F0IG52LCBoaWdocCBmbG9hdCB2aCkKewogICAgaGlnaHAgZmxvYXQgYSA9IChyb3VnaG5lc3MgKiByb3VnaG5lc3MpOwogICAgcmV0dXJuICgoZl9zY2hsaWNrKGYwLCB2aCkgKiAoZF9nZ3gobmgsIGEpICogY2xhbXAodl9zbWl0aHNjaGxpY2sobmwsIG52LCBhKSwgMC4wLCAxLjApKSkgLyB2ZWMzKDQuMCkpOwp9CgpoaWdocCB2ZWMzIHNoSXJyYWRpYW5jZShoaWdocCB2ZWMzIG5vciwgaGlnaHAgZmxvYXQgc2NhbGUpCnsKICAgIGhpZ2hwIHZlYzMgY2wwMCA9IHZlYzMoc2hpcnJbMF0sIHNoaXJyWzFdLCBzaGlyclsyXSk7CiAgICBoaWdocCB2ZWMzIGNsMW0xID0gdmVjMyhzaGlyclszXSwgc2hpcnJbNF0sIHNoaXJyWzVdKTsKICAgIGhpZ2hwIHZlYzMgY2wxMCA9IHZlYzMoc2hpcnJbNl0sIHNoaXJyWzddLCBzaGlycls4XSk7CiAgICBoaWdocCB2ZWMzIGNsMTEgPSB2ZWMzKHNoaXJyWzldLCBzaGlyclsxMF0sIHNoaXJyWzExXSk7CiAgICBoaWdocCB2ZWMzIGNsMm0yID0gdmVjMyhzaGlyclsxMl0sIHNoaXJyWzEzXSwgc2hpcnJbMTRdKTsKICAgIGhpZ2hwIHZlYzMgY2wybTEgPSB2ZWMzKHNoaXJyWzE1XSwgc2hpcnJbMTZdLCBzaGlyclsxN10pOwogICAgaGlnaHAgdmVjMyBjbDIwID0gdmVjMyhzaGlyclsxOF0sIHNoaXJyWzE5XSwgc2hpcnJbMjBdKTsKICAgIGhpZ2hwIHZlYzMgY2wyMSA9IHZlYzMoc2hpcnJbMjFdLCBzaGlyclsyMl0sIHNoaXJyWzIzXSk7CiAgICBoaWdocCB2ZWMzIGNsMjIgPSB2ZWMzKHNoaXJyWzI0XSwgc2hpcnJbMjVdLCBzaGlyclsyNl0pOwogICAgcmV0dXJuICgoKCgoKCgoKCgoKGNsMjIgKiAwLjQyOTA0Mjk5NDk3NjA0MzcwMTE3MTg3NSkgKiAoKG5vci55ICogbm9yLnkpIC0gKCgtbm9yLnopICogKC1ub3IueikpKSkgKyAoKChjbDIwICogMC43NDMxMjUwMjE0NTc2NzIxMTkxNDA2MjUpICogbm9yLngpICogbm9yLngpKSArIChjbDAwICogMC44ODYyMjcwMTE2ODA2MDMwMjczNDM3NSkpIC0gKGNsMjAgKiAwLjI0NzcwNzk5Mjc5MjEyOTUxNjYwMTU2MjUpKSArICgoKGNsMm0yICogMC44NTgwODU5ODk5NTIwODc0MDIzNDM3NSkgKiBub3IueSkgKiAoLW5vci56KSkpICsgKCgoY2wyMSAqIDAuODU4MDg1OTg5OTUyMDg3NDAyMzQzNzUpICogbm9yLnkpICogbm9yLngpKSArICgoKGNsMm0xICogMC44NTgwODU5ODk5NTIwODc0MDIzNDM3NSkgKiAoLW5vci56KSkgKiBub3IueCkpICsgKChjbDExICogMS4wMjMzMjc5NDY2NjI5MDI4MzIwMzEyNSkgKiBub3IueSkpICsgKChjbDFtMSAqIDEuMDIzMzI3OTQ2NjYyOTAyODMyMDMxMjUpICogKC1ub3IueikpKSArICgoY2wxMCAqIDEuMDIzMzI3OTQ2NjYyOTAyODMyMDMxMjUpICogbm9yLngpKSAqIHNjYWxlKTsKfQoKaGlnaHAgZmxvYXQgZ2V0TWlwRnJvbVJvdWdobmVzcyhoaWdocCBmbG9hdCByb3VnaG5lc3MsIGhpZ2hwIGZsb2F0IG51bU1pcG1hcHMpCnsKICAgIHJldHVybiAocm91Z2huZXNzICogbnVtTWlwbWFwcyk7Cn0KCmhpZ2hwIHZlYzIgZW52TWFwRXF1aXJlY3QoaGlnaHAgdmVjMyBub3JtYWxfMSkKewogICAgaGlnaHAgZmxvYXQgcGhpID0gYWNvcyhub3JtYWxfMS56KTsKICAgIGhpZ2hwIGZsb2F0IHRoZXRhID0gKGF0YW4oKC1ub3JtYWxfMS55KSwgbm9ybWFsXzEueCkgKyAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzUpOwogICAgcmV0dXJuIHZlYzIoKHRoZXRhIC8gNi4yODMxODU0ODIwMjUxNDY0ODQzNzUpLCAocGhpIC8gMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1KSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZShub3JtYWwpOwogICAgaGlnaHAgdmVjMyBsOwogICAgaGlnaHAgZmxvYXQgZG90Tkw7CiAgICBoaWdocCBmbG9hdCB2aXNpYmlsaXR5OwogICAgaGlnaHAgdmVjNCBwYXJhbTsKICAgIGhpZ2hwIHZlYzMgYmFzZUNvbG9yOwogICAgaGlnaHAgdmVjNCB0ZXhlbDsKICAgIGhpZ2hwIHZlYzMgdjsKICAgIGhpZ2hwIHZlYzMgaDsKICAgIGhpZ2hwIGZsb2F0IGRvdE5WOwogICAgaGlnaHAgZmxvYXQgZG90Tkg7CiAgICBoaWdocCBmbG9hdCBkb3RWSDsKICAgIGhpZ2hwIGZsb2F0IGRvdExWOwogICAgaGlnaHAgZmxvYXQgZG90TEg7CiAgICBoaWdocCB2ZWMzIGFsYmVkbzsKICAgIGhpZ2hwIHZlYzMgZjA7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3M7CiAgICBoaWdocCB2ZWMzIGRpcmVjdDsKICAgIGhpZ2hwIGZsb2F0IHNwb3RFZmZlY3Q7CiAgICBoaWdocCB2ZWMzIGluZGlyZWN0RGlmZnVzZTsKICAgIGhpZ2hwIHZlYzMgaW5kaXJlY3Q7CiAgICBoaWdocCB2ZWMzIHJlZmxlY3Rpb25Xb3JsZDsKICAgIGhpZ2hwIGZsb2F0IGxvZDsKICAgIGhpZ2hwIHZlYzMgcHJlZmlsdGVyZWRDb2xvcjsKICAgIGhpZ2hwIHZlYzIgZW52QlJERjsKICAgIGhpZ2hwIHZlYzMgaW5kaXJlY3RTcGVjdWxhcjsKICAgIGlmICgobGlnaHRUeXBlID09IDApKQogICAgewogICAgICAgIGwgPSBsaWdodERpcjsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBsID0gbm9ybWFsaXplKChsaWdodFBvcyAtIHBvc2l0aW9uKSk7CiAgICB9CiAgICBkb3ROTCA9IGRvdChuLCBsKTsKICAgIHZpc2liaWxpdHkgPSAxLjA7CiAgICBpZiAocmVjZWl2ZVNoYWRvdykKICAgIHsKICAgICAgICBpZiAoKGxhbXBQb3MudyA%IDAuMCkpCiAgICAgICAgewogICAgICAgICAgICBwYXJhbSA9IGxhbXBQb3M7CiAgICAgICAgICAgIGhpZ2hwIGZsb2F0IF84MDYgPSBzaGFkb3dUZXN0KHBhcmFtKTsKICAgICAgICAgICAgdmlzaWJpbGl0eSA9IF84MDY7CiAgICAgICAgfQogICAgfQogICAgYmFzZUNvbG9yID0gbWF0Q29sb3IueHl6OwogICAgdGV4ZWwgPSB0ZXh0dXJlMkQoc2Jhc2UsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgXzgyMiA9IHBvdyh0ZXhlbC54eXosIHZlYzMoMi4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSk7CiAgICB0ZXhlbCA9IHZlYzQoXzgyMi54LCBfODIyLnksIF84MjIueiwgdGV4ZWwudyk7CiAgICBiYXNlQ29sb3IgPSAoYmFzZUNvbG9yICogdGV4ZWwueHl6KTsKICAgIHYgPSBub3JtYWxpemUoZXllRGlyKTsKICAgIGggPSBub3JtYWxpemUoKHYgKyBsKSk7CiAgICBkb3ROViA9IGRvdChuLCB2KTsKICAgIGRvdE5IID0gZG90KG4sIGgpOwogICAgZG90VkggPSBkb3QodiwgaCk7CiAgICBkb3RMViA9IGRvdChsLCB2KTsKICAgIGRvdExIID0gZG90KGwsIGgpOwogICAgYWxiZWRvID0gc3VyZmFjZUFsYmVkbyhiYXNlQ29sb3IsIG1ldGFsbmVzcyk7CiAgICBmMCA9IHN1cmZhY2VGMChiYXNlQ29sb3IsIG1ldGFsbmVzcyk7CiAgICByb3VnaG5lc3MgPSB0ZXh0dXJlMkQoc3JvdWdoLCB0ZXhDb29yZCkueDsKICAgIGRpcmVjdCA9IChsYW1iZXJ0RGlmZnVzZUJSREYoYWxiZWRvLCBkb3ROTCkgKyBzcGVjdWxhckJSREYoZjAsIHJvdWdobmVzcywgZG90TkwsIGRvdE5ILCBkb3ROViwgZG90VkgpKTsKICAgIGlmICgobGlnaHRUeXBlID09IDIpKQogICAgewogICAgICAgIHNwb3RFZmZlY3QgPSBkb3QobGlnaHREaXIsIGwpOwogICAgICAgIGlmICgoc3BvdEVmZmVjdCA8IHNwb3RsaWdodEN1dG9mZikpCiAgICAgICAgewogICAgICAgICAgICBzcG90RWZmZWN0ID0gc21vb3Roc3RlcCgoc3BvdGxpZ2h0Q3V0b2ZmIC0gc3BvdGxpZ2h0RXhwb25lbnQpLCBzcG90bGlnaHRDdXRvZmYsIHNwb3RFZmZlY3QpOwogICAgICAgICAgICBkaXJlY3QgPSAoZGlyZWN0ICogc3BvdEVmZmVjdCk7CiAgICAgICAgfQogICAgfQogICAgZGlyZWN0ID0gKChkaXJlY3QgKiBsaWdodENvbG9yKSAqIGxpZ2h0U3RyZW5ndGgpOwogICAgaW5kaXJlY3REaWZmdXNlID0gKHNoSXJyYWRpYW5jZShuLCAyLjIwMDAwMDA0NzY4MzcxNTgyMDMxMjUpIC8gdmVjMygzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzUpKTsKICAgIGluZGlyZWN0RGlmZnVzZSA9IChpbmRpcmVjdERpZmZ1c2UgKiBhbGJlZG8pOwogICAgaW5kaXJlY3QgPSBpbmRpcmVjdERpZmZ1c2U7CiAgICByZWZsZWN0aW9uV29ybGQgPSByZWZsZWN0KCgtdiksIG4pOwogICAgbG9kID0gZ2V0TWlwRnJvbVJvdWdobmVzcyhyb3VnaG5lc3MsIGZsb2F0KGVudm1hcE51bU1pcG1hcHMpKTsKICAgIHByZWZpbHRlcmVkQ29sb3IgPSB0ZXh0dXJlMkRMb2RFWFQoc2Vudm1hcFJhZGlhbmNlLCBlbnZNYXBFcXVpcmVjdChyZWZsZWN0aW9uV29ybGQpLCBsb2QpLnh5ejsKICAgIGVudkJSREYgPSB0ZXh0dXJlMkQoc2Vudm1hcEJyZGYsIHZlYzIocm91Z2huZXNzLCAoMS4wIC0gZG90TlYpKSkueHk7CiAgICBpbmRpcmVjdFNwZWN1bGFyID0gKHByZWZpbHRlcmVkQ29sb3IgKiAoKGYwICogZW52QlJERi54KSArIHZlYzMoZW52QlJERi55KSkpOwogICAgaW5kaXJlY3QgPSAoaW5kaXJlY3QgKyBpbmRpcmVjdFNwZWN1bGFyKTsKICAgIGluZGlyZWN0ID0gKGluZGlyZWN0ICogZW52bWFwU3RyZW5ndGgpOwogICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KHZlYzMoKChkaXJlY3QgKiB2aXNpYmlsaXR5KSArIGluZGlyZWN0KSksIDEuMCk7CiAgICBoaWdocCB2ZWMzIF85OTEgPSBnbF9GcmFnRGF0YVswXS54eXogKiBvY2NsdXNpb247CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQoXzk5MS54LCBfOTkxLnksIF85OTEueiwgZ2xfRnJhZ0RhdGFbMF0udyk7Cn0KCg",kha_Shaders.mesh_BaseTex_RoughTex_Tex_EnvSky_Rad_vertData="s984:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgTjsKdW5pZm9ybSBtYXQ0IExXVlA7CnVuaWZvcm0gbWF0NCBWOwp1bmlmb3JtIG1hdDQgVzsKdW5pZm9ybSBtYXQ0IFA7CnVuaWZvcm0gdmVjNCBiYXNlQ29sOwp1bmlmb3JtIHZlYzMgZXllOwoKYXR0cmlidXRlIHZlYzMgcG9zOwphdHRyaWJ1dGUgdmVjMyBub3I7CnZhcnlpbmcgdmVjNCBsYW1wUG9zOwp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSB2ZWMyIHRleDsKdmFyeWluZyB2ZWM0IG1hdENvbG9yOwp2YXJ5aW5nIHZlYzMgcG9zaXRpb247CnZhcnlpbmcgdmVjMyBleWVEaXI7CnZhcnlpbmcgdmVjMyBub3JtYWw7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IHNQb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIHZlYzMgX25vcm1hbCA9IG5vcm1hbGl6ZSgobWF0Myh2ZWMzKE5bMF0ueCwgTlswXS55LCBOWzBdLnopLCB2ZWMzKE5bMV0ueCwgTlsxXS55LCBOWzFdLnopLCB2ZWMzKE5bMl0ueCwgTlsyXS55LCBOWzJdLnopKSAqIG5vcikpOwogICAgbGFtcFBvcyA9IChMV1ZQICogc1Bvcyk7CiAgICBtYXQ0IFdWID0gKFYgKiBXKTsKICAgIGdsX1Bvc2l0aW9uID0gKChQICogV1YpICogc1Bvcyk7CiAgICB0ZXhDb29yZCA9IHRleDsKICAgIG1hdENvbG9yID0gYmFzZUNvbDsKICAgIHBvc2l0aW9uID0gdmVjNCgoVyAqIHNQb3MpKS54eXo7CiAgICBleWVEaXIgPSAoZXllIC0gcG9zaXRpb24pOwogICAgbm9ybWFsID0gX25vcm1hbDsKfQoK",kha_Shaders.mesh_EnvSky_Rad_fragData="s11028:I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCA6IHJlcXVpcmUKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnByZWNpc2lvbiBoaWdocCBpbnQ7Cgp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXA7CnVuaWZvcm0gaGlnaHAgZmxvYXQgc2hpcnJbMjddOwp1bmlmb3JtIGhpZ2hwIGZsb2F0IHNoYWRvd3NCaWFzOwp1bmlmb3JtIGludCBsaWdodFR5cGU7CnVuaWZvcm0gaGlnaHAgdmVjMyBsaWdodERpcjsKdW5pZm9ybSBoaWdocCB2ZWMzIGxpZ2h0UG9zOwp1bmlmb3JtIGJvb2wgcmVjZWl2ZVNoYWRvdzsKdW5pZm9ybSBoaWdocCBmbG9hdCBtZXRhbG5lc3M7CnVuaWZvcm0gaGlnaHAgZmxvYXQgcm91Z2huZXNzOwp1bmlmb3JtIGhpZ2hwIGZsb2F0IHNwb3RsaWdodEN1dG9mZjsKdW5pZm9ybSBoaWdocCBmbG9hdCBzcG90bGlnaHRFeHBvbmVudDsKdW5pZm9ybSBoaWdocCB2ZWMzIGxpZ2h0Q29sb3I7CnVuaWZvcm0gaGlnaHAgZmxvYXQgbGlnaHRTdHJlbmd0aDsKdW5pZm9ybSBpbnQgZW52bWFwTnVtTWlwbWFwczsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgc2Vudm1hcFJhZGlhbmNlOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzZW52bWFwQnJkZjsKdW5pZm9ybSBoaWdocCBmbG9hdCBlbnZtYXBTdHJlbmd0aDsKdW5pZm9ybSBoaWdocCBmbG9hdCBvY2NsdXNpb247CnVuaWZvcm0gaGlnaHAgdmVjMyBleWU7Cgp2YXJ5aW5nIGhpZ2hwIHZlYzMgbm9ybWFsOwp2YXJ5aW5nIGhpZ2hwIHZlYzMgcG9zaXRpb247CnZhcnlpbmcgaGlnaHAgdmVjNCBsYW1wUG9zOwp2YXJ5aW5nIGhpZ2hwIHZlYzQgbWF0Q29sb3I7CnZhcnlpbmcgaGlnaHAgdmVjMyBleWVEaXI7CgpoaWdocCBmbG9hdCB0ZXh0dXJlMkRDb21wYXJlKGhpZ2hwIHZlYzIgdXYsIGhpZ2hwIGZsb2F0IGNvbXBhcmUpCnsKICAgIGhpZ2hwIGZsb2F0IGRlcHRoID0gdGV4dHVyZTJEKHNoYWRvd01hcCwgdXYpLng7CiAgICByZXR1cm4gc3RlcChjb21wYXJlLCBkZXB0aCk7Cn0KCmhpZ2hwIGZsb2F0IHRleHR1cmUyRFNoYWRvd0xlcnAoaGlnaHAgdmVjMiB1diwgaGlnaHAgZmxvYXQgY29tcGFyZSkKewogICAgaGlnaHAgdmVjMiBmID0gZnJhY3QoKCh1diAqIHZlYzIoMTAyNC4wKSkgKyB2ZWMyKDAuNSkpKTsKICAgIGhpZ2hwIHZlYzIgY2VudHJvaWRVViA9IChmbG9vcigoKHV2ICogdmVjMigxMDI0LjApKSArIHZlYzIoMC41KSkpIC8gdmVjMigxMDI0LjApKTsKICAgIGhpZ2hwIGZsb2F0IGxiID0gdGV4dHVyZTJEQ29tcGFyZShjZW50cm9pZFVWLCBjb21wYXJlKTsKICAgIGhpZ2hwIGZsb2F0IGx0ID0gdGV4dHVyZTJEQ29tcGFyZSgoY2VudHJvaWRVViArIHZlYzIoMC4wLCAwLjAwMDk3NjU2MjUpKSwgY29tcGFyZSk7CiAgICBoaWdocCBmbG9hdCByYiA9IHRleHR1cmUyRENvbXBhcmUoKGNlbnRyb2lkVVYgKyB2ZWMyKDAuMDAwOTc2NTYyNSwgMC4wKSksIGNvbXBhcmUpOwogICAgaGlnaHAgZmxvYXQgcnQgPSB0ZXh0dXJlMkRDb21wYXJlKChjZW50cm9pZFVWICsgdmVjMigwLjAwMDk3NjU2MjUpKSwgY29tcGFyZSk7CiAgICBoaWdocCBmbG9hdCBhID0gbWl4KGxiLCBsdCwgZi55KTsKICAgIGhpZ2hwIGZsb2F0IGIgPSBtaXgocmIsIHJ0LCBmLnkpOwogICAgaGlnaHAgZmxvYXQgYyA9IG1peChhLCBiLCBmLngpOwogICAgcmV0dXJuIGM7Cn0KCmhpZ2hwIGZsb2F0IFBDRihoaWdocCB2ZWMyIHV2LCBpbm91dCBoaWdocCBmbG9hdCBjb21wYXJlKQp7CiAgICBjb21wYXJlID0gKChjb21wYXJlICogMC41KSArIDAuNSk7CiAgICBoaWdocCBmbG9hdCByZXN1bHQgPSB0ZXh0dXJlMkRTaGFkb3dMZXJwKCh1diArIHZlYzIoLTAuMDAwOTc2NTYyNSkpLCBjb21wYXJlKTsKICAgIHJlc3VsdCA9IChyZXN1bHQgKyB0ZXh0dXJlMkRTaGFkb3dMZXJwKCh1diArIHZlYzIoLTAuMDAwOTc2NTYyNSwgMC4wKSksIGNvbXBhcmUpKTsKICAgIHJlc3VsdCA9IChyZXN1bHQgKyB0ZXh0dXJlMkRTaGFkb3dMZXJwKCh1diArIHZlYzIoLTAuMDAwOTc2NTYyNSwgMC4wMDA5NzY1NjI1KSksIGNvbXBhcmUpKTsKICAgIHJlc3VsdCA9IChyZXN1bHQgKyB0ZXh0dXJlMkRTaGFkb3dMZXJwKCh1diArIHZlYzIoMC4wLCAtMC4wMDA5NzY1NjI1KSksIGNvbXBhcmUpKTsKICAgIHJlc3VsdCA9IChyZXN1bHQgKyB0ZXh0dXJlMkRTaGFkb3dMZXJwKHV2LCBjb21wYXJlKSk7CiAgICByZXN1bHQgPSAocmVzdWx0ICsgdGV4dHVyZTJEU2hhZG93TGVycCgodXYgKyB2ZWMyKDAuMCwgMC4wMDA5NzY1NjI1KSksIGNvbXBhcmUpKTsKICAgIHJlc3VsdCA9IChyZXN1bHQgKyB0ZXh0dXJlMkRTaGFkb3dMZXJwKCh1diArIHZlYzIoMC4wMDA5NzY1NjI1LCAtMC4wMDA5NzY1NjI1KSksIGNvbXBhcmUpKTsKICAgIHJlc3VsdCA9IChyZXN1bHQgKyB0ZXh0dXJlMkRTaGFkb3dMZXJwKCh1diArIHZlYzIoMC4wMDA5NzY1NjI1LCAwLjApKSwgY29tcGFyZSkpOwogICAgcmVzdWx0ID0gKHJlc3VsdCArIHRleHR1cmUyRFNoYWRvd0xlcnAoKHV2ICsgdmVjMigwLjAwMDk3NjU2MjUpKSwgY29tcGFyZSkpOwogICAgcmV0dXJuIChyZXN1bHQgLyA5LjApOwp9CgpoaWdocCBmbG9hdCBzaGFkb3dUZXN0KGlub3V0IGhpZ2hwIHZlYzQgbFBvcykKewogICAgaGlnaHAgdmVjMyBfNzQzID0gbFBvcy54eXogLyB2ZWMzKGxQb3Mudyk7CiAgICBsUG9zID0gdmVjNChfNzQzLngsIF83NDMueSwgXzc0My56LCBsUG9zLncpOwogICAgaGlnaHAgdmVjMiBfNzUwID0gKGxQb3MueHkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgbFBvcyA9IHZlYzQoXzc1MC54LCBfNzUwLnksIGxQb3MueiwgbFBvcy53KTsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtID0gKGxQb3MueiAtIHNoYWRvd3NCaWFzKTsKICAgIGhpZ2hwIGZsb2F0IF83NjEgPSBQQ0YobFBvcy54eSwgcGFyYW0pOwogICAgcmV0dXJuIF83NjE7Cn0KCmhpZ2hwIHZlYzMgc3VyZmFjZUFsYmVkbyhoaWdocCB2ZWMzIGJhc2VDb2xvciwgaGlnaHAgZmxvYXQgbWV0YWxuZXNzXzEpCnsKICAgIHJldHVybiBtaXgoYmFzZUNvbG9yLCB2ZWMzKDAuMCksIHZlYzMobWV0YWxuZXNzXzEpKTsKfQoKaGlnaHAgdmVjMyBzdXJmYWNlRjAoaGlnaHAgdmVjMyBiYXNlQ29sb3IsIGhpZ2hwIGZsb2F0IG1ldGFsbmVzc18xKQp7CiAgICByZXR1cm4gbWl4KHZlYzMoMC4wMzk5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjUpLCBiYXNlQ29sb3IsIHZlYzMobWV0YWxuZXNzXzEpKTsKfQoKaGlnaHAgdmVjMyBsYW1iZXJ0RGlmZnVzZUJSREYoaGlnaHAgdmVjMyBhbGJlZG8sIGhpZ2hwIGZsb2F0IG5sKQp7CiAgICByZXR1cm4gKGFsYmVkbyAqIG1heCgwLjAsIG5sKSk7Cn0KCmhpZ2hwIGZsb2F0IGRfZ2d4KGhpZ2hwIGZsb2F0IG5oLCBoaWdocCBmbG9hdCBhKQp7CiAgICBoaWdocCBmbG9hdCBhMiA9IChhICogYSk7CiAgICBoaWdocCBmbG9hdCBkZW5vbSA9IHBvdygoKChuaCAqIG5oKSAqIChhMiAtIDEuMCkpICsgMS4wKSwgMi4wKTsKICAgIHJldHVybiAoKGEyICogMC4zMTgzMDk4NzMzNDI1MTQwMzgwODU5Mzc1KSAvIGRlbm9tKTsKfQoKaGlnaHAgZmxvYXQgdl9zbWl0aHNjaGxpY2soaGlnaHAgZmxvYXQgbmwsIGhpZ2hwIGZsb2F0IG52LCBoaWdocCBmbG9hdCBhKQp7CiAgICByZXR1cm4gKDEuMCAvICgoKG5sICogKDEuMCAtIGEpKSArIGEpICogKChudiAqICgxLjAgLSBhKSkgKyBhKSkpOwp9CgpoaWdocCB2ZWMzIGZfc2NobGljayhoaWdocCB2ZWMzIGYwLCBoaWdocCBmbG9hdCB2aCkKewogICAgcmV0dXJuIChmMCArICgodmVjMygxLjApIC0gZjApICogZXhwMigoKCgtNS41NTQ3Mjk5Mzg1MDcwODAwNzgxMjUgKiB2aCkgLSA2Ljk4MzE2MDAxODkyMDg5ODQzNzUpICogdmgpKSkpOwp9CgpoaWdocCB2ZWMzIHNwZWN1bGFyQlJERihoaWdocCB2ZWMzIGYwLCBoaWdocCBmbG9hdCByb3VnaG5lc3NfMSwgaGlnaHAgZmxvYXQgbmwsIGhpZ2hwIGZsb2F0IG5oLCBoaWdocCBmbG9hdCBudiwgaGlnaHAgZmxvYXQgdmgpCnsKICAgIGhpZ2hwIGZsb2F0IGEgPSAocm91Z2huZXNzXzEgKiByb3VnaG5lc3NfMSk7CiAgICByZXR1cm4gKChmX3NjaGxpY2soZjAsIHZoKSAqIChkX2dneChuaCwgYSkgKiBjbGFtcCh2X3NtaXRoc2NobGljayhubCwgbnYsIGEpLCAwLjAsIDEuMCkpKSAvIHZlYzMoNC4wKSk7Cn0KCmhpZ2hwIHZlYzMgc2hJcnJhZGlhbmNlKGhpZ2hwIHZlYzMgbm9yLCBoaWdocCBmbG9hdCBzY2FsZSkKewogICAgaGlnaHAgdmVjMyBjbDAwID0gdmVjMyhzaGlyclswXSwgc2hpcnJbMV0sIHNoaXJyWzJdKTsKICAgIGhpZ2hwIHZlYzMgY2wxbTEgPSB2ZWMzKHNoaXJyWzNdLCBzaGlycls0XSwgc2hpcnJbNV0pOwogICAgaGlnaHAgdmVjMyBjbDEwID0gdmVjMyhzaGlycls2XSwgc2hpcnJbN10sIHNoaXJyWzhdKTsKICAgIGhpZ2hwIHZlYzMgY2wxMSA9IHZlYzMoc2hpcnJbOV0sIHNoaXJyWzEwXSwgc2hpcnJbMTFdKTsKICAgIGhpZ2hwIHZlYzMgY2wybTIgPSB2ZWMzKHNoaXJyWzEyXSwgc2hpcnJbMTNdLCBzaGlyclsxNF0pOwogICAgaGlnaHAgdmVjMyBjbDJtMSA9IHZlYzMoc2hpcnJbMTVdLCBzaGlyclsxNl0sIHNoaXJyWzE3XSk7CiAgICBoaWdocCB2ZWMzIGNsMjAgPSB2ZWMzKHNoaXJyWzE4XSwgc2hpcnJbMTldLCBzaGlyclsyMF0pOwogICAgaGlnaHAgdmVjMyBjbDIxID0gdmVjMyhzaGlyclsyMV0sIHNoaXJyWzIyXSwgc2hpcnJbMjNdKTsKICAgIGhpZ2hwIHZlYzMgY2wyMiA9IHZlYzMoc2hpcnJbMjRdLCBzaGlyclsyNV0sIHNoaXJyWzI2XSk7CiAgICByZXR1cm4gKCgoKCgoKCgoKCgoY2wyMiAqIDAuNDI5MDQyOTk0OTc2MDQzNzAxMTcxODc1KSAqICgobm9yLnkgKiBub3IueSkgLSAoKC1ub3IueikgKiAoLW5vci56KSkpKSArICgoKGNsMjAgKiAwLjc0MzEyNTAyMTQ1NzY3MjExOTE0MDYyNSkgKiBub3IueCkgKiBub3IueCkpICsgKGNsMDAgKiAwLjg4NjIyNzAxMTY4MDYwMzAyNzM0Mzc1KSkgLSAoY2wyMCAqIDAuMjQ3NzA3OTkyNzkyMTI5NTE2NjAxNTYyNSkpICsgKCgoY2wybTIgKiAwLjg1ODA4NTk4OTk1MjA4NzQwMjM0Mzc1KSAqIG5vci55KSAqICgtbm9yLnopKSkgKyAoKChjbDIxICogMC44NTgwODU5ODk5NTIwODc0MDIzNDM3NSkgKiBub3IueSkgKiBub3IueCkpICsgKCgoY2wybTEgKiAwLjg1ODA4NTk4OTk1MjA4NzQwMjM0Mzc1KSAqICgtbm9yLnopKSAqIG5vci54KSkgKyAoKGNsMTEgKiAxLjAyMzMyNzk0NjY2MjkwMjgzMjAzMTI1KSAqIG5vci55KSkgKyAoKGNsMW0xICogMS4wMjMzMjc5NDY2NjI5MDI4MzIwMzEyNSkgKiAoLW5vci56KSkpICsgKChjbDEwICogMS4wMjMzMjc5NDY2NjI5MDI4MzIwMzEyNSkgKiBub3IueCkpICogc2NhbGUpOwp9CgpoaWdocCBmbG9hdCBnZXRNaXBGcm9tUm91Z2huZXNzKGhpZ2hwIGZsb2F0IHJvdWdobmVzc18xLCBoaWdocCBmbG9hdCBudW1NaXBtYXBzKQp7CiAgICByZXR1cm4gKHJvdWdobmVzc18xICogbnVtTWlwbWFwcyk7Cn0KCmhpZ2hwIHZlYzIgZW52TWFwRXF1aXJlY3QoaGlnaHAgdmVjMyBub3JtYWxfMSkKewogICAgaGlnaHAgZmxvYXQgcGhpID0gYWNvcyhub3JtYWxfMS56KTsKICAgIGhpZ2hwIGZsb2F0IHRoZXRhID0gKGF0YW4oKC1ub3JtYWxfMS55KSwgbm9ybWFsXzEueCkgKyAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzUpOwogICAgcmV0dXJuIHZlYzIoKHRoZXRhIC8gNi4yODMxODU0ODIwMjUxNDY0ODQzNzUpLCAocGhpIC8gMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1KSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZShub3JtYWwpOwogICAgaGlnaHAgdmVjMyBsOwogICAgaGlnaHAgZmxvYXQgZG90Tkw7CiAgICBoaWdocCBmbG9hdCB2aXNpYmlsaXR5OwogICAgaGlnaHAgdmVjNCBwYXJhbTsKICAgIGhpZ2hwIHZlYzMgYmFzZUNvbG9yOwogICAgaGlnaHAgdmVjMyB2OwogICAgaGlnaHAgdmVjMyBoOwogICAgaGlnaHAgZmxvYXQgZG90TlY7CiAgICBoaWdocCBmbG9hdCBkb3ROSDsKICAgIGhpZ2hwIGZsb2F0IGRvdFZIOwogICAgaGlnaHAgZmxvYXQgZG90TFY7CiAgICBoaWdocCBmbG9hdCBkb3RMSDsKICAgIGhpZ2hwIHZlYzMgYWxiZWRvOwogICAgaGlnaHAgdmVjMyBmMDsKICAgIGhpZ2hwIHZlYzMgZGlyZWN0OwogICAgaGlnaHAgZmxvYXQgc3BvdEVmZmVjdDsKICAgIGhpZ2hwIHZlYzMgaW5kaXJlY3REaWZmdXNlOwogICAgaGlnaHAgdmVjMyBpbmRpcmVjdDsKICAgIGhpZ2hwIHZlYzMgcmVmbGVjdGlvbldvcmxkOwogICAgaGlnaHAgZmxvYXQgbG9kOwogICAgaGlnaHAgdmVjMyBwcmVmaWx0ZXJlZENvbG9yOwogICAgaGlnaHAgdmVjMiBlbnZCUkRGOwogICAgaGlnaHAgdmVjMyBpbmRpcmVjdFNwZWN1bGFyOwogICAgaWYgKChsaWdodFR5cGUgPT0gMCkpCiAgICB7CiAgICAgICAgbCA9IGxpZ2h0RGlyOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIGwgPSBub3JtYWxpemUoKGxpZ2h0UG9zIC0gcG9zaXRpb24pKTsKICAgIH0KICAgIGRvdE5MID0gZG90KG4sIGwpOwogICAgdmlzaWJpbGl0eSA9IDEuMDsKICAgIGlmIChyZWNlaXZlU2hhZG93KQogICAgewogICAgICAgIGlmICgobGFtcFBvcy53ID4gMC4wKSkKICAgICAgICB7CiAgICAgICAgICAgIHBhcmFtID0gbGFtcFBvczsKICAgICAgICAgICAgaGlnaHAgZmxvYXQgXzgwNiA9IHNoYWRvd1Rlc3QocGFyYW0pOwogICAgICAgICAgICB2aXNpYmlsaXR5ID0gXzgwNjsKICAgICAgICB9CiAgICB9CiAgICBiYXNlQ29sb3IgPSBtYXRDb2xvci54eXo7CiAgICB2ID0gbm9ybWFsaXplKGV5ZURpcik7CiAgICBoID0gbm9ybWFsaXplKCh2ICsgbCkpOwogICAgZG90TlYgPSBkb3Qobiwgdik7CiAgICBkb3ROSCA9IGRvdChuLCBoKTsKICAgIGRvdFZIID0gZG90KHYsIGgpOwogICAgZG90TFYgPSBkb3QobCwgdik7CiAgICBkb3RMSCA9IGRvdChsLCBoKTsKICAgIGFsYmVkbyA9IHN1cmZhY2VBbGJlZG8oYmFzZUNvbG9yLCBtZXRhbG5lc3MpOwogICAgZjAgPSBzdXJmYWNlRjAoYmFzZUNvbG9yLCBtZXRhbG5lc3MpOwogICAgZGlyZWN0ID0gKGxhbWJlcnREaWZmdXNlQlJERihhbGJlZG8sIGRvdE5MKSArIHNwZWN1bGFyQlJERihmMCwgcm91Z2huZXNzLCBkb3ROTCwgZG90TkgsIGRvdE5WLCBkb3RWSCkpOwogICAgaWYgKChsaWdodFR5cGUgPT0gMikpCiAgICB7CiAgICAgICAgc3BvdEVmZmVjdCA9IGRvdChsaWdodERpciwgbCk7CiAgICAgICAgaWYgKChzcG90RWZmZWN0IDwgc3BvdGxpZ2h0Q3V0b2ZmKSkKICAgICAgICB7CiAgICAgICAgICAgIHNwb3RFZmZlY3QgPSBzbW9vdGhzdGVwKChzcG90bGlnaHRDdXRvZmYgLSBzcG90bGlnaHRFeHBvbmVudCksIHNwb3RsaWdodEN1dG9mZiwgc3BvdEVmZmVjdCk7CiAgICAgICAgICAgIGRpcmVjdCA9IChkaXJlY3QgKiBzcG90RWZmZWN0KTsKICAgICAgICB9CiAgICB9CiAgICBkaXJlY3QgPSAoKGRpcmVjdCAqIGxpZ2h0Q29sb3IpICogbGlnaHRTdHJlbmd0aCk7CiAgICBpbmRpcmVjdERpZmZ1c2UgPSAoc2hJcnJhZGlhbmNlKG4sIDIuMjAwMDAwMDQ3NjgzNzE1ODIwMzEyNSkgLyB2ZWMzKDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NSkpOwogICAgaW5kaXJlY3REaWZmdXNlID0gKGluZGlyZWN0RGlmZnVzZSAqIGFsYmVkbyk7CiAgICBpbmRpcmVjdCA9IGluZGlyZWN0RGlmZnVzZTsKICAgIHJlZmxlY3Rpb25Xb3JsZCA9IHJlZmxlY3QoKC12KSwgbik7CiAgICBsb2QgPSBnZXRNaXBGcm9tUm91Z2huZXNzKHJvdWdobmVzcywgZmxvYXQoZW52bWFwTnVtTWlwbWFwcykpOwogICAgcHJlZmlsdGVyZWRDb2xvciA9IHRleHR1cmUyRExvZEVYVChzZW52bWFwUmFkaWFuY2UsIGVudk1hcEVxdWlyZWN0KHJlZmxlY3Rpb25Xb3JsZCksIGxvZCkueHl6OwogICAgZW52QlJERiA9IHRleHR1cmUyRChzZW52bWFwQnJkZiwgdmVjMihyb3VnaG5lc3MsICgxLjAgLSBkb3ROVikpKS54eTsKICAgIGluZGlyZWN0U3BlY3VsYXIgPSAocHJlZmlsdGVyZWRDb2xvciAqICgoZjAgKiBlbnZCUkRGLngpICsgdmVjMyhlbnZCUkRGLnkpKSk7CiAgICBpbmRpcmVjdCA9IChpbmRpcmVjdCArIGluZGlyZWN0U3BlY3VsYXIpOwogICAgaW5kaXJlY3QgPSAoaW5kaXJlY3QgKiBlbnZtYXBTdHJlbmd0aCk7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQodmVjMygoKGRpcmVjdCAqIHZpc2liaWxpdHkpICsgaW5kaXJlY3QpKSwgMS4wKTsKICAgIGhpZ2hwIHZlYzMgXzk2OSA9IGdsX0ZyYWdEYXRhWzBdLnh5eiAqIG9jY2x1c2lvbjsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChfOTY5LngsIF85NjkueSwgXzk2OS56LCBnbF9GcmFnRGF0YVswXS53KTsKfQoK",kha_Shaders.mesh_EnvSky_Rad_vertData="s900:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgTjsKdW5pZm9ybSBtYXQ0IExXVlA7CnVuaWZvcm0gbWF0NCBWOwp1bmlmb3JtIG1hdDQgVzsKdW5pZm9ybSBtYXQ0IFA7CnVuaWZvcm0gdmVjNCBiYXNlQ29sOwp1bmlmb3JtIHZlYzMgZXllOwoKYXR0cmlidXRlIHZlYzMgcG9zOwphdHRyaWJ1dGUgdmVjMyBub3I7CnZhcnlpbmcgdmVjNCBsYW1wUG9zOwp2YXJ5aW5nIHZlYzQgbWF0Q29sb3I7CnZhcnlpbmcgdmVjMyBwb3NpdGlvbjsKdmFyeWluZyB2ZWMzIGV5ZURpcjsKdmFyeWluZyB2ZWMzIG5vcm1hbDsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc1BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgdmVjMyBfbm9ybWFsID0gbm9ybWFsaXplKChtYXQzKHZlYzMoTlswXS54LCBOWzBdLnksIE5bMF0ueiksIHZlYzMoTlsxXS54LCBOWzFdLnksIE5bMV0ueiksIHZlYzMoTlsyXS54LCBOWzJdLnksIE5bMl0ueikpICogbm9yKSk7CiAgICBsYW1wUG9zID0gKExXVlAgKiBzUG9zKTsKICAgIG1hdDQgV1YgPSAoViAqIFcpOwogICAgZ2xfUG9zaXRpb24gPSAoKFAgKiBXVikgKiBzUG9zKTsKICAgIG1hdENvbG9yID0gYmFzZUNvbDsKICAgIHBvc2l0aW9uID0gdmVjNCgoVyAqIHNQb3MpKS54eXo7CiAgICBleWVEaXIgPSAoZXllIC0gcG9zaXRpb24pOwogICAgbm9ybWFsID0gX25vcm1hbDsKfQoK",kha_Shaders.mesh_Instancing_Skinning_EnvSky_Rad_fragData="s11028:I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCA6IHJlcXVpcmUKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnByZWNpc2lvbiBoaWdocCBpbnQ7Cgp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXA7CnVuaWZvcm0gaGlnaHAgZmxvYXQgc2hpcnJbMjddOwp1bmlmb3JtIGhpZ2hwIGZsb2F0IHNoYWRvd3NCaWFzOwp1bmlmb3JtIGludCBsaWdodFR5cGU7CnVuaWZvcm0gaGlnaHAgdmVjMyBsaWdodERpcjsKdW5pZm9ybSBoaWdocCB2ZWMzIGxpZ2h0UG9zOwp1bmlmb3JtIGJvb2wgcmVjZWl2ZVNoYWRvdzsKdW5pZm9ybSBoaWdocCBmbG9hdCBtZXRhbG5lc3M7CnVuaWZvcm0gaGlnaHAgZmxvYXQgcm91Z2huZXNzOwp1bmlmb3JtIGhpZ2hwIGZsb2F0IHNwb3RsaWdodEN1dG9mZjsKdW5pZm9ybSBoaWdocCBmbG9hdCBzcG90bGlnaHRFeHBvbmVudDsKdW5pZm9ybSBoaWdocCB2ZWMzIGxpZ2h0Q29sb3I7CnVuaWZvcm0gaGlnaHAgZmxvYXQgbGlnaHRTdHJlbmd0aDsKdW5pZm9ybSBpbnQgZW52bWFwTnVtTWlwbWFwczsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgc2Vudm1hcFJhZGlhbmNlOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzZW52bWFwQnJkZjsKdW5pZm9ybSBoaWdocCBmbG9hdCBlbnZtYXBTdHJlbmd0aDsKdW5pZm9ybSBoaWdocCBmbG9hdCBvY2NsdXNpb247CnVuaWZvcm0gaGlnaHAgdmVjMyBleWU7Cgp2YXJ5aW5nIGhpZ2hwIHZlYzMgbm9ybWFsOwp2YXJ5aW5nIGhpZ2hwIHZlYzMgcG9zaXRpb247CnZhcnlpbmcgaGlnaHAgdmVjNCBsYW1wUG9zOwp2YXJ5aW5nIGhpZ2hwIHZlYzQgbWF0Q29sb3I7CnZhcnlpbmcgaGlnaHAgdmVjMyBleWVEaXI7CgpoaWdocCBmbG9hdCB0ZXh0dXJlMkRDb21wYXJlKGhpZ2hwIHZlYzIgdXYsIGhpZ2hwIGZsb2F0IGNvbXBhcmUpCnsKICAgIGhpZ2hwIGZsb2F0IGRlcHRoID0gdGV4dHVyZTJEKHNoYWRvd01hcCwgdXYpLng7CiAgICByZXR1cm4gc3RlcChjb21wYXJlLCBkZXB0aCk7Cn0KCmhpZ2hwIGZsb2F0IHRleHR1cmUyRFNoYWRvd0xlcnAoaGlnaHAgdmVjMiB1diwgaGlnaHAgZmxvYXQgY29tcGFyZSkKewogICAgaGlnaHAgdmVjMiBmID0gZnJhY3QoKCh1diAqIHZlYzIoMTAyNC4wKSkgKyB2ZWMyKDAuNSkpKTsKICAgIGhpZ2hwIHZlYzIgY2VudHJvaWRVViA9IChmbG9vcigoKHV2ICogdmVjMigxMDI0LjApKSArIHZlYzIoMC41KSkpIC8gdmVjMigxMDI0LjApKTsKICAgIGhpZ2hwIGZsb2F0IGxiID0gdGV4dHVyZTJEQ29tcGFyZShjZW50cm9pZFVWLCBjb21wYXJlKTsKICAgIGhpZ2hwIGZsb2F0IGx0ID0gdGV4dHVyZTJEQ29tcGFyZSgoY2VudHJvaWRVViArIHZlYzIoMC4wLCAwLjAwMDk3NjU2MjUpKSwgY29tcGFyZSk7CiAgICBoaWdocCBmbG9hdCByYiA9IHRleHR1cmUyRENvbXBhcmUoKGNlbnRyb2lkVVYgKyB2ZWMyKDAuMDAwOTc2NTYyNSwgMC4wKSksIGNvbXBhcmUpOwogICAgaGlnaHAgZmxvYXQgcnQgPSB0ZXh0dXJlMkRDb21wYXJlKChjZW50cm9pZFVWICsgdmVjMigwLjAwMDk3NjU2MjUpKSwgY29tcGFyZSk7CiAgICBoaWdocCBmbG9hdCBhID0gbWl4KGxiLCBsdCwgZi55KTsKICAgIGhpZ2hwIGZsb2F0IGIgPSBtaXgocmIsIHJ0LCBmLnkpOwogICAgaGlnaHAgZmxvYXQgYyA9IG1peChhLCBiLCBmLngpOwogICAgcmV0dXJuIGM7Cn0KCmhpZ2hwIGZsb2F0IFBDRihoaWdocCB2ZWMyIHV2LCBpbm91dCBoaWdocCBmbG9hdCBjb21wYXJlKQp7CiAgICBjb21wYXJlID0gKChjb21wYXJlICogMC41KSArIDAuNSk7CiAgICBoaWdocCBmbG9hdCByZXN1bHQgPSB0ZXh0dXJlMkRTaGFkb3dMZXJwKCh1diArIHZlYzIoLTAuMDAwOTc2NTYyNSkpLCBjb21wYXJlKTsKICAgIHJlc3VsdCA9IChyZXN1bHQgKyB0ZXh0dXJlMkRTaGFkb3dMZXJwKCh1diArIHZlYzIoLTAuMDAwOTc2NTYyNSwgMC4wKSksIGNvbXBhcmUpKTsKICAgIHJlc3VsdCA9IChyZXN1bHQgKyB0ZXh0dXJlMkRTaGFkb3dMZXJwKCh1diArIHZlYzIoLTAuMDAwOTc2NTYyNSwgMC4wMDA5NzY1NjI1KSksIGNvbXBhcmUpKTsKICAgIHJlc3VsdCA9IChyZXN1bHQgKyB0ZXh0dXJlMkRTaGFkb3dMZXJwKCh1diArIHZlYzIoMC4wLCAtMC4wMDA5NzY1NjI1KSksIGNvbXBhcmUpKTsKICAgIHJlc3VsdCA9IChyZXN1bHQgKyB0ZXh0dXJlMkRTaGFkb3dMZXJwKHV2LCBjb21wYXJlKSk7CiAgICByZXN1bHQgPSAocmVzdWx0ICsgdGV4dHVyZTJEU2hhZG93TGVycCgodXYgKyB2ZWMyKDAuMCwgMC4wMDA5NzY1NjI1KSksIGNvbXBhcmUpKTsKICAgIHJlc3VsdCA9IChyZXN1bHQgKyB0ZXh0dXJlMkRTaGFkb3dMZXJwKCh1diArIHZlYzIoMC4wMDA5NzY1NjI1LCAtMC4wMDA5NzY1NjI1KSksIGNvbXBhcmUpKTsKICAgIHJlc3VsdCA9IChyZXN1bHQgKyB0ZXh0dXJlMkRTaGFkb3dMZXJwKCh1diArIHZlYzIoMC4wMDA5NzY1NjI1LCAwLjApKSwgY29tcGFyZSkpOwogICAgcmVzdWx0ID0gKHJlc3VsdCArIHRleHR1cmUyRFNoYWRvd0xlcnAoKHV2ICsgdmVjMigwLjAwMDk3NjU2MjUpKSwgY29tcGFyZSkpOwogICAgcmV0dXJuIChyZXN1bHQgLyA5LjApOwp9CgpoaWdocCBmbG9hdCBzaGFkb3dUZXN0KGlub3V0IGhpZ2hwIHZlYzQgbFBvcykKewogICAgaGlnaHAgdmVjMyBfNzQzID0gbFBvcy54eXogLyB2ZWMzKGxQb3Mudyk7CiAgICBsUG9zID0gdmVjNChfNzQzLngsIF83NDMueSwgXzc0My56LCBsUG9zLncpOwogICAgaGlnaHAgdmVjMiBfNzUwID0gKGxQb3MueHkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgbFBvcyA9IHZlYzQoXzc1MC54LCBfNzUwLnksIGxQb3MueiwgbFBvcy53KTsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtID0gKGxQb3MueiAtIHNoYWRvd3NCaWFzKTsKICAgIGhpZ2hwIGZsb2F0IF83NjEgPSBQQ0YobFBvcy54eSwgcGFyYW0pOwogICAgcmV0dXJuIF83NjE7Cn0KCmhpZ2hwIHZlYzMgc3VyZmFjZUFsYmVkbyhoaWdocCB2ZWMzIGJhc2VDb2xvciwgaGlnaHAgZmxvYXQgbWV0YWxuZXNzXzEpCnsKICAgIHJldHVybiBtaXgoYmFzZUNvbG9yLCB2ZWMzKDAuMCksIHZlYzMobWV0YWxuZXNzXzEpKTsKfQoKaGlnaHAgdmVjMyBzdXJmYWNlRjAoaGlnaHAgdmVjMyBiYXNlQ29sb3IsIGhpZ2hwIGZsb2F0IG1ldGFsbmVzc18xKQp7CiAgICByZXR1cm4gbWl4KHZlYzMoMC4wMzk5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjUpLCBiYXNlQ29sb3IsIHZlYzMobWV0YWxuZXNzXzEpKTsKfQoKaGlnaHAgdmVjMyBsYW1iZXJ0RGlmZnVzZUJSREYoaGlnaHAgdmVjMyBhbGJlZG8sIGhpZ2hwIGZsb2F0IG5sKQp7CiAgICByZXR1cm4gKGFsYmVkbyAqIG1heCgwLjAsIG5sKSk7Cn0KCmhpZ2hwIGZsb2F0IGRfZ2d4KGhpZ2hwIGZsb2F0IG5oLCBoaWdocCBmbG9hdCBhKQp7CiAgICBoaWdocCBmbG9hdCBhMiA9IChhICogYSk7CiAgICBoaWdocCBmbG9hdCBkZW5vbSA9IHBvdygoKChuaCAqIG5oKSAqIChhMiAtIDEuMCkpICsgMS4wKSwgMi4wKTsKICAgIHJldHVybiAoKGEyICogMC4zMTgzMDk4NzMzNDI1MTQwMzgwODU5Mzc1KSAvIGRlbm9tKTsKfQoKaGlnaHAgZmxvYXQgdl9zbWl0aHNjaGxpY2soaGlnaHAgZmxvYXQgbmwsIGhpZ2hwIGZsb2F0IG52LCBoaWdocCBmbG9hdCBhKQp7CiAgICByZXR1cm4gKDEuMCAvICgoKG5sICogKDEuMCAtIGEpKSArIGEpICogKChudiAqICgxLjAgLSBhKSkgKyBhKSkpOwp9CgpoaWdocCB2ZWMzIGZfc2NobGljayhoaWdocCB2ZWMzIGYwLCBoaWdocCBmbG9hdCB2aCkKewogICAgcmV0dXJuIChmMCArICgodmVjMygxLjApIC0gZjApICogZXhwMigoKCgtNS41NTQ3Mjk5Mzg1MDcwODAwNzgxMjUgKiB2aCkgLSA2Ljk4MzE2MDAxODkyMDg5ODQzNzUpICogdmgpKSkpOwp9CgpoaWdocCB2ZWMzIHNwZWN1bGFyQlJERihoaWdocCB2ZWMzIGYwLCBoaWdocCBmbG9hdCByb3VnaG5lc3NfMSwgaGlnaHAgZmxvYXQgbmwsIGhpZ2hwIGZsb2F0IG5oLCBoaWdocCBmbG9hdCBudiwgaGlnaHAgZmxvYXQgdmgpCnsKICAgIGhpZ2hwIGZsb2F0IGEgPSAocm91Z2huZXNzXzEgKiByb3VnaG5lc3NfMSk7CiAgICByZXR1cm4gKChmX3NjaGxpY2soZjAsIHZoKSAqIChkX2dneChuaCwgYSkgKiBjbGFtcCh2X3NtaXRoc2NobGljayhubCwgbnYsIGEpLCAwLjAsIDEuMCkpKSAvIHZlYzMoNC4wKSk7Cn0KCmhpZ2hwIHZlYzMgc2hJcnJhZGlhbmNlKGhpZ2hwIHZlYzMgbm9yLCBoaWdocCBmbG9hdCBzY2FsZSkKewogICAgaGlnaHAgdmVjMyBjbDAwID0gdmVjMyhzaGlyclswXSwgc2hpcnJbMV0sIHNoaXJyWzJdKTsKICAgIGhpZ2hwIHZlYzMgY2wxbTEgPSB2ZWMzKHNoaXJyWzNdLCBzaGlycls0XSwgc2hpcnJbNV0pOwogICAgaGlnaHAgdmVjMyBjbDEwID0gdmVjMyhzaGlycls2XSwgc2hpcnJbN10sIHNoaXJyWzhdKTsKICAgIGhpZ2hwIHZlYzMgY2wxMSA9IHZlYzMoc2hpcnJbOV0sIHNoaXJyWzEwXSwgc2hpcnJbMTFdKTsKICAgIGhpZ2hwIHZlYzMgY2wybTIgPSB2ZWMzKHNoaXJyWzEyXSwgc2hpcnJbMTNdLCBzaGlyclsxNF0pOwogICAgaGlnaHAgdmVjMyBjbDJtMSA9IHZlYzMoc2hpcnJbMTVdLCBzaGlyclsxNl0sIHNoaXJyWzE3XSk7CiAgICBoaWdocCB2ZWMzIGNsMjAgPSB2ZWMzKHNoaXJyWzE4XSwgc2hpcnJbMTldLCBzaGlyclsyMF0pOwogICAgaGlnaHAgdmVjMyBjbDIxID0gdmVjMyhzaGlyclsyMV0sIHNoaXJyWzIyXSwgc2hpcnJbMjNdKTsKICAgIGhpZ2hwIHZlYzMgY2wyMiA9IHZlYzMoc2hpcnJbMjRdLCBzaGlyclsyNV0sIHNoaXJyWzI2XSk7CiAgICByZXR1cm4gKCgoKCgoKCgoKCgoY2wyMiAqIDAuNDI5MDQyOTk0OTc2MDQzNzAxMTcxODc1KSAqICgobm9yLnkgKiBub3IueSkgLSAoKC1ub3IueikgKiAoLW5vci56KSkpKSArICgoKGNsMjAgKiAwLjc0MzEyNTAyMTQ1NzY3MjExOTE0MDYyNSkgKiBub3IueCkgKiBub3IueCkpICsgKGNsMDAgKiAwLjg4NjIyNzAxMTY4MDYwMzAyNzM0Mzc1KSkgLSAoY2wyMCAqIDAuMjQ3NzA3OTkyNzkyMTI5NTE2NjAxNTYyNSkpICsgKCgoY2wybTIgKiAwLjg1ODA4NTk4OTk1MjA4NzQwMjM0Mzc1KSAqIG5vci55KSAqICgtbm9yLnopKSkgKyAoKChjbDIxICogMC44NTgwODU5ODk5NTIwODc0MDIzNDM3NSkgKiBub3IueSkgKiBub3IueCkpICsgKCgoY2wybTEgKiAwLjg1ODA4NTk4OTk1MjA4NzQwMjM0Mzc1KSAqICgtbm9yLnopKSAqIG5vci54KSkgKyAoKGNsMTEgKiAxLjAyMzMyNzk0NjY2MjkwMjgzMjAzMTI1KSAqIG5vci55KSkgKyAoKGNsMW0xICogMS4wMjMzMjc5NDY2NjI5MDI4MzIwMzEyNSkgKiAoLW5vci56KSkpICsgKChjbDEwICogMS4wMjMzMjc5NDY2NjI5MDI4MzIwMzEyNSkgKiBub3IueCkpICogc2NhbGUpOwp9CgpoaWdocCBmbG9hdCBnZXRNaXBGcm9tUm91Z2huZXNzKGhpZ2hwIGZsb2F0IHJvdWdobmVzc18xLCBoaWdocCBmbG9hdCBudW1NaXBtYXBzKQp7CiAgICByZXR1cm4gKHJvdWdobmVzc18xICogbnVtTWlwbWFwcyk7Cn0KCmhpZ2hwIHZlYzIgZW52TWFwRXF1aXJlY3QoaGlnaHAgdmVjMyBub3JtYWxfMSkKewogICAgaGlnaHAgZmxvYXQgcGhpID0gYWNvcyhub3JtYWxfMS56KTsKICAgIGhpZ2hwIGZsb2F0IHRoZXRhID0gKGF0YW4oKC1ub3JtYWxfMS55KSwgbm9ybWFsXzEueCkgKyAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzUpOwogICAgcmV0dXJuIHZlYzIoKHRoZXRhIC8gNi4yODMxODU0ODIwMjUxNDY0ODQzNzUpLCAocGhpIC8gMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1KSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZShub3JtYWwpOwogICAgaGlnaHAgdmVjMyBsOwogICAgaGlnaHAgZmxvYXQgZG90Tkw7CiAgICBoaWdocCBmbG9hdCB2aXNpYmlsaXR5OwogICAgaGlnaHAgdmVjNCBwYXJhbTsKICAgIGhpZ2hwIHZlYzMgYmFzZUNvbG9yOwogICAgaGlnaHAgdmVjMyB2OwogICAgaGlnaHAgdmVjMyBoOwogICAgaGlnaHAgZmxvYXQgZG90TlY7CiAgICBoaWdocCBmbG9hdCBkb3ROSDsKICAgIGhpZ2hwIGZsb2F0IGRvdFZIOwogICAgaGlnaHAgZmxvYXQgZG90TFY7CiAgICBoaWdocCBmbG9hdCBkb3RMSDsKICAgIGhpZ2hwIHZlYzMgYWxiZWRvOwogICAgaGlnaHAgdmVjMyBmMDsKICAgIGhpZ2hwIHZlYzMgZGlyZWN0OwogICAgaGlnaHAgZmxvYXQgc3BvdEVmZmVjdDsKICAgIGhpZ2hwIHZlYzMgaW5kaXJlY3REaWZmdXNlOwogICAgaGlnaHAgdmVjMyBpbmRpcmVjdDsKICAgIGhpZ2hwIHZlYzMgcmVmbGVjdGlvbldvcmxkOwogICAgaGlnaHAgZmxvYXQgbG9kOwogICAgaGlnaHAgdmVjMyBwcmVmaWx0ZXJlZENvbG9yOwogICAgaGlnaHAgdmVjMiBlbnZCUkRGOwogICAgaGlnaHAgdmVjMyBpbmRpcmVjdFNwZWN1bGFyOwogICAgaWYgKChsaWdodFR5cGUgPT0gMCkpCiAgICB7CiAgICAgICAgbCA9IGxpZ2h0RGlyOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIGwgPSBub3JtYWxpemUoKGxpZ2h0UG9zIC0gcG9zaXRpb24pKTsKICAgIH0KICAgIGRvdE5MID0gZG90KG4sIGwpOwogICAgdmlzaWJpbGl0eSA9IDEuMDsKICAgIGlmIChyZWNlaXZlU2hhZG93KQogICAgewogICAgICAgIGlmICgobGFtcFBvcy53ID4gMC4wKSkKICAgICAgICB7CiAgICAgICAgICAgIHBhcmFtID0gbGFtcFBvczsKICAgICAgICAgICAgaGlnaHAgZmxvYXQgXzgwNiA9IHNoYWRvd1Rlc3QocGFyYW0pOwogICAgICAgICAgICB2aXNpYmlsaXR5ID0gXzgwNjsKICAgICAgICB9CiAgICB9CiAgICBiYXNlQ29sb3IgPSBtYXRDb2xvci54eXo7CiAgICB2ID0gbm9ybWFsaXplKGV5ZURpcik7CiAgICBoID0gbm9ybWFsaXplKCh2ICsgbCkpOwogICAgZG90TlYgPSBkb3Qobiwgdik7CiAgICBkb3ROSCA9IGRvdChuLCBoKTsKICAgIGRvdFZIID0gZG90KHYsIGgpOwogICAgZG90TFYgPSBkb3QobCwgdik7CiAgICBkb3RMSCA9IGRvdChsLCBoKTsKICAgIGFsYmVkbyA9IHN1cmZhY2VBbGJlZG8oYmFzZUNvbG9yLCBtZXRhbG5lc3MpOwogICAgZjAgPSBzdXJmYWNlRjAoYmFzZUNvbG9yLCBtZXRhbG5lc3MpOwogICAgZGlyZWN0ID0gKGxhbWJlcnREaWZmdXNlQlJERihhbGJlZG8sIGRvdE5MKSArIHNwZWN1bGFyQlJERihmMCwgcm91Z2huZXNzLCBkb3ROTCwgZG90TkgsIGRvdE5WLCBkb3RWSCkpOwogICAgaWYgKChsaWdodFR5cGUgPT0gMikpCiAgICB7CiAgICAgICAgc3BvdEVmZmVjdCA9IGRvdChsaWdodERpciwgbCk7CiAgICAgICAgaWYgKChzcG90RWZmZWN0IDwgc3BvdGxpZ2h0Q3V0b2ZmKSkKICAgICAgICB7CiAgICAgICAgICAgIHNwb3RFZmZlY3QgPSBzbW9vdGhzdGVwKChzcG90bGlnaHRDdXRvZmYgLSBzcG90bGlnaHRFeHBvbmVudCksIHNwb3RsaWdodEN1dG9mZiwgc3BvdEVmZmVjdCk7CiAgICAgICAgICAgIGRpcmVjdCA9IChkaXJlY3QgKiBzcG90RWZmZWN0KTsKICAgICAgICB9CiAgICB9CiAgICBkaXJlY3QgPSAoKGRpcmVjdCAqIGxpZ2h0Q29sb3IpICogbGlnaHRTdHJlbmd0aCk7CiAgICBpbmRpcmVjdERpZmZ1c2UgPSAoc2hJcnJhZGlhbmNlKG4sIDIuMjAwMDAwMDQ3NjgzNzE1ODIwMzEyNSkgLyB2ZWMzKDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NSkpOwogICAgaW5kaXJlY3REaWZmdXNlID0gKGluZGlyZWN0RGlmZnVzZSAqIGFsYmVkbyk7CiAgICBpbmRpcmVjdCA9IGluZGlyZWN0RGlmZnVzZTsKICAgIHJlZmxlY3Rpb25Xb3JsZCA9IHJlZmxlY3QoKC12KSwgbik7CiAgICBsb2QgPSBnZXRNaXBGcm9tUm91Z2huZXNzKHJvdWdobmVzcywgZmxvYXQoZW52bWFwTnVtTWlwbWFwcykpOwogICAgcHJlZmlsdGVyZWRDb2xvciA9IHRleHR1cmUyRExvZEVYVChzZW52bWFwUmFkaWFuY2UsIGVudk1hcEVxdWlyZWN0KHJlZmxlY3Rpb25Xb3JsZCksIGxvZCkueHl6OwogICAgZW52QlJERiA9IHRleHR1cmUyRChzZW52bWFwQnJkZiwgdmVjMihyb3VnaG5lc3MsICgxLjAgLSBkb3ROVikpKS54eTsKICAgIGluZGlyZWN0U3BlY3VsYXIgPSAocHJlZmlsdGVyZWRDb2xvciAqICgoZjAgKiBlbnZCUkRGLngpICsgdmVjMyhlbnZCUkRGLnkpKSk7CiAgICBpbmRpcmVjdCA9IChpbmRpcmVjdCArIGluZGlyZWN0U3BlY3VsYXIpOwogICAgaW5kaXJlY3QgPSAoaW5kaXJlY3QgKiBlbnZtYXBTdHJlbmd0aCk7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQodmVjMygoKGRpcmVjdCAqIHZpc2liaWxpdHkpICsgaW5kaXJlY3QpKSwgMS4wKTsKICAgIGhpZ2hwIHZlYzMgXzk2OSA9IGdsX0ZyYWdEYXRhWzBdLnh5eiAqIG9jY2x1c2lvbjsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChfOTY5LngsIF85NjkueSwgXzk2OS56LCBnbF9GcmFnRGF0YVswXS53KTsKfQoK",
kha_Shaders.mesh_Instancing_Skinning_EnvSky_Rad_vertData="s4515:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIGZsb2F0IHNraW5Cb25lc1szMjBdOwp1bmlmb3JtIG1hdDQgTjsKdW5pZm9ybSBtYXQ0IExXVlA7CnVuaWZvcm0gbWF0NCBWOwp1bmlmb3JtIG1hdDQgVzsKdW5pZm9ybSBtYXQ0IFA7CnVuaWZvcm0gdmVjNCBiYXNlQ29sOwp1bmlmb3JtIHZlYzMgZXllOwoKYXR0cmlidXRlIHZlYzMgcG9zOwphdHRyaWJ1dGUgdmVjNCBib25lOwphdHRyaWJ1dGUgdmVjNCB3ZWlnaHQ7CmF0dHJpYnV0ZSB2ZWMzIG5vcjsKYXR0cmlidXRlIHZlYzMgb2ZmOwp2YXJ5aW5nIHZlYzQgbGFtcFBvczsKdmFyeWluZyB2ZWM0IG1hdENvbG9yOwp2YXJ5aW5nIHZlYzMgcG9zaXRpb247CnZhcnlpbmcgdmVjMyBleWVEaXI7CnZhcnlpbmcgdmVjMyBub3JtYWw7Cgp2b2lkIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQgYm9uZV8xLCBpbm91dCB2ZWM0IHdlaWdodF8xLCBpbm91dCB2ZWM0IEEsIGlub3V0IHZlYzQgQikKewogICAgbWF0NCBtYXRBOwogICAgbWF0QVswXS54ID0gc2tpbkJvbmVzWygoYm9uZV8xLnggKiA4KSArIDApXTsKICAgIG1hdEFbMF0ueSA9IHNraW5Cb25lc1soKGJvbmVfMS54ICogOCkgKyAxKV07CiAgICBtYXRBWzBdLnogPSBza2luQm9uZXNbKChib25lXzEueCAqIDgpICsgMildOwogICAgbWF0QVswXS53ID0gc2tpbkJvbmVzWygoYm9uZV8xLnggKiA4KSArIDMpXTsKICAgIG1hdDQgbWF0QjsKICAgIG1hdEJbMF0ueCA9IHNraW5Cb25lc1soKGJvbmVfMS54ICogOCkgKyA0KV07CiAgICBtYXRCWzBdLnkgPSBza2luQm9uZXNbKChib25lXzEueCAqIDgpICsgNSldOwogICAgbWF0QlswXS56ID0gc2tpbkJvbmVzWygoYm9uZV8xLnggKiA4KSArIDYpXTsKICAgIG1hdEJbMF0udyA9IHNraW5Cb25lc1soKGJvbmVfMS54ICogOCkgKyA3KV07CiAgICBtYXRBWzFdLnggPSBza2luQm9uZXNbKChib25lXzEueSAqIDgpICsgMCldOwogICAgbWF0QVsxXS55ID0gc2tpbkJvbmVzWygoYm9uZV8xLnkgKiA4KSArIDEpXTsKICAgIG1hdEFbMV0ueiA9IHNraW5Cb25lc1soKGJvbmVfMS55ICogOCkgKyAyKV07CiAgICBtYXRBWzFdLncgPSBza2luQm9uZXNbKChib25lXzEueSAqIDgpICsgMyldOwogICAgbWF0QlsxXS54ID0gc2tpbkJvbmVzWygoYm9uZV8xLnkgKiA4KSArIDQpXTsKICAgIG1hdEJbMV0ueSA9IHNraW5Cb25lc1soKGJvbmVfMS55ICogOCkgKyA1KV07CiAgICBtYXRCWzFdLnogPSBza2luQm9uZXNbKChib25lXzEueSAqIDgpICsgNildOwogICAgbWF0QlsxXS53ID0gc2tpbkJvbmVzWygoYm9uZV8xLnkgKiA4KSArIDcpXTsKICAgIG1hdEFbMl0ueCA9IHNraW5Cb25lc1soKGJvbmVfMS56ICogOCkgKyAwKV07CiAgICBtYXRBWzJdLnkgPSBza2luQm9uZXNbKChib25lXzEueiAqIDgpICsgMSldOwogICAgbWF0QVsyXS56ID0gc2tpbkJvbmVzWygoYm9uZV8xLnogKiA4KSArIDIpXTsKICAgIG1hdEFbMl0udyA9IHNraW5Cb25lc1soKGJvbmVfMS56ICogOCkgKyAzKV07CiAgICBtYXRCWzJdLnggPSBza2luQm9uZXNbKChib25lXzEueiAqIDgpICsgNCldOwogICAgbWF0QlsyXS55ID0gc2tpbkJvbmVzWygoYm9uZV8xLnogKiA4KSArIDUpXTsKICAgIG1hdEJbMl0ueiA9IHNraW5Cb25lc1soKGJvbmVfMS56ICogOCkgKyA2KV07CiAgICBtYXRCWzJdLncgPSBza2luQm9uZXNbKChib25lXzEueiAqIDgpICsgNyldOwogICAgbWF0QVszXS54ID0gc2tpbkJvbmVzWygoYm9uZV8xLncgKiA4KSArIDApXTsKICAgIG1hdEFbM10ueSA9IHNraW5Cb25lc1soKGJvbmVfMS53ICogOCkgKyAxKV07CiAgICBtYXRBWzNdLnogPSBza2luQm9uZXNbKChib25lXzEudyAqIDgpICsgMildOwogICAgbWF0QVszXS53ID0gc2tpbkJvbmVzWygoYm9uZV8xLncgKiA4KSArIDMpXTsKICAgIG1hdEJbM10ueCA9IHNraW5Cb25lc1soKGJvbmVfMS53ICogOCkgKyA0KV07CiAgICBtYXRCWzNdLnkgPSBza2luQm9uZXNbKChib25lXzEudyAqIDgpICsgNSldOwogICAgbWF0QlszXS56ID0gc2tpbkJvbmVzWygoYm9uZV8xLncgKiA4KSArIDYpXTsKICAgIG1hdEJbM10udyA9IHNraW5Cb25lc1soKGJvbmVfMS53ICogOCkgKyA3KV07CiAgICB2ZWMzIF8yNDMgPSB3ZWlnaHRfMS54eXogKiBzaWduKChtYXRBWzNdICogbWF0QSkpLnh5ejsKICAgIHdlaWdodF8xID0gdmVjNChfMjQzLngsIF8yNDMueSwgXzI0My56LCB3ZWlnaHRfMS53KTsKICAgIEEgPSAobWF0QSAqIHdlaWdodF8xKTsKICAgIEIgPSAobWF0QiAqIHdlaWdodF8xKTsKICAgIGZsb2F0IGludk5vcm1BID0gKDEuMCAvIGxlbmd0aChBKSk7CiAgICBBID0gKEEgKiBpbnZOb3JtQSk7CiAgICBCID0gKEIgKiBpbnZOb3JtQSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc1BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgdmVjNCBwYXJhbSA9IHdlaWdodDsKICAgIHZlYzQgc2tpbkI7CiAgICB2ZWM0IHBhcmFtXzIgPSBza2luQjsKICAgIHZlYzQgcGFyYW1fMTsKICAgIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQoYm9uZSksIHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgIHZlYzQgc2tpbkEgPSBwYXJhbV8xOwogICAgc2tpbkIgPSBwYXJhbV8yOwogICAgdmVjMyBfMzA0ID0gc1Bvcy54eXogKyAoY3Jvc3Moc2tpbkEueHl6LCAoY3Jvc3Moc2tpbkEueHl6LCBzUG9zLnh5eikgKyAoc1Bvcy54eXogKiBza2luQS53KSkpICogMi4wKTsKICAgIHNQb3MgPSB2ZWM0KF8zMDQueCwgXzMwNC55LCBfMzA0LnosIHNQb3Mudyk7CiAgICB2ZWMzIF8zMjcgPSBzUG9zLnh5eiArICgoKChza2luQi54eXogKiBza2luQS53KSAtIChza2luQS54eXogKiBza2luQi53KSkgKyBjcm9zcyhza2luQS54eXosIHNraW5CLnh5eikpICogMi4wKTsKICAgIHNQb3MgPSB2ZWM0KF8zMjcueCwgXzMyNy55LCBfMzI3LnosIHNQb3Mudyk7CiAgICB2ZWMzIF9ub3JtYWwgPSBub3JtYWxpemUoKG1hdDModmVjMyhOWzBdLngsIE5bMF0ueSwgTlswXS56KSwgdmVjMyhOWzFdLngsIE5bMV0ueSwgTlsxXS56KSwgdmVjMyhOWzJdLngsIE5bMl0ueSwgTlsyXS56KSkgKiAobm9yICsgKGNyb3NzKHNraW5BLnh5eiwgKGNyb3NzKHNraW5BLnh5eiwgbm9yKSArIChub3IgKiBza2luQS53KSkpICogMi4wKSkpKTsKICAgIHZlYzMgXzM3MiA9IHNQb3MueHl6ICsgb2ZmOwogICAgc1BvcyA9IHZlYzQoXzM3Mi54LCBfMzcyLnksIF8zNzIueiwgc1Bvcy53KTsKICAgIGxhbXBQb3MgPSAoTFdWUCAqIHNQb3MpOwogICAgbWF0NCBXViA9IChWICogVyk7CiAgICBnbF9Qb3NpdGlvbiA9ICgoUCAqIFdWKSAqIHNQb3MpOwogICAgbWF0Q29sb3IgPSBiYXNlQ29sOwogICAgcG9zaXRpb24gPSB2ZWM0KChXICogc1BvcykpLnh5ejsKICAgIGV5ZURpciA9IChleWUgLSBwb3NpdGlvbik7CiAgICBub3JtYWwgPSBfbm9ybWFsOwp9Cgo",kha_Shaders.shadowmap_BaseTex_RoughTex_Tex_EnvSky_Rad_fragData="s166:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdm9pZCBtYWluKCkKewogICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDEuMCk7Cn0KCg",kha_Shaders.shadowmap_BaseTex_RoughTex_Tex_EnvSky_Rad_vertData="s236:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgTFdWUDsKCmF0dHJpYnV0ZSB2ZWMzIHBvczsKYXR0cmlidXRlIHZlYzMgbm9yOwphdHRyaWJ1dGUgdmVjMiB0ZXg7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IHNQb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gKExXVlAgKiBzUG9zKTsKfQoK",kha_Shaders.shadowmap_EnvSky_Rad_fragData="s166:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdm9pZCBtYWluKCkKewogICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDEuMCk7Cn0KCg",kha_Shaders.shadowmap_EnvSky_Rad_vertData="s210:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgTFdWUDsKCmF0dHJpYnV0ZSB2ZWMzIHBvczsKYXR0cmlidXRlIHZlYzMgbm9yOwoKdm9pZCBtYWluKCkKewogICAgdmVjNCBzUG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IChMV1ZQICogc1Bvcyk7Cn0KCg",kha_Shaders.shadowmap_Instancing_Skinning_EnvSky_Rad_fragData="s166:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdm9pZCBtYWluKCkKewogICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDEuMCk7Cn0KCg",kha_Shaders.shadowmap_Instancing_Skinning_EnvSky_Rad_vertData="s3728:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIGZsb2F0IHNraW5Cb25lc1szMjBdOwp1bmlmb3JtIG1hdDQgTFdWUDsKCmF0dHJpYnV0ZSB2ZWMzIHBvczsKYXR0cmlidXRlIHZlYzQgYm9uZTsKYXR0cmlidXRlIHZlYzQgd2VpZ2h0OwphdHRyaWJ1dGUgdmVjMyBvZmY7CmF0dHJpYnV0ZSB2ZWMzIG5vcjsKCnZvaWQgZ2V0U2tpbm5pbmdEdWFsUXVhdChpdmVjNCBib25lXzEsIGlub3V0IHZlYzQgd2VpZ2h0XzEsIGlub3V0IHZlYzQgQSwgaW5vdXQgdmVjNCBCKQp7CiAgICBtYXQ0IG1hdEE7CiAgICBtYXRBWzBdLnggPSBza2luQm9uZXNbKChib25lXzEueCAqIDgpICsgMCldOwogICAgbWF0QVswXS55ID0gc2tpbkJvbmVzWygoYm9uZV8xLnggKiA4KSArIDEpXTsKICAgIG1hdEFbMF0ueiA9IHNraW5Cb25lc1soKGJvbmVfMS54ICogOCkgKyAyKV07CiAgICBtYXRBWzBdLncgPSBza2luQm9uZXNbKChib25lXzEueCAqIDgpICsgMyldOwogICAgbWF0NCBtYXRCOwogICAgbWF0QlswXS54ID0gc2tpbkJvbmVzWygoYm9uZV8xLnggKiA4KSArIDQpXTsKICAgIG1hdEJbMF0ueSA9IHNraW5Cb25lc1soKGJvbmVfMS54ICogOCkgKyA1KV07CiAgICBtYXRCWzBdLnogPSBza2luQm9uZXNbKChib25lXzEueCAqIDgpICsgNildOwogICAgbWF0QlswXS53ID0gc2tpbkJvbmVzWygoYm9uZV8xLnggKiA4KSArIDcpXTsKICAgIG1hdEFbMV0ueCA9IHNraW5Cb25lc1soKGJvbmVfMS55ICogOCkgKyAwKV07CiAgICBtYXRBWzFdLnkgPSBza2luQm9uZXNbKChib25lXzEueSAqIDgpICsgMSldOwogICAgbWF0QVsxXS56ID0gc2tpbkJvbmVzWygoYm9uZV8xLnkgKiA4KSArIDIpXTsKICAgIG1hdEFbMV0udyA9IHNraW5Cb25lc1soKGJvbmVfMS55ICogOCkgKyAzKV07CiAgICBtYXRCWzFdLnggPSBza2luQm9uZXNbKChib25lXzEueSAqIDgpICsgNCldOwogICAgbWF0QlsxXS55ID0gc2tpbkJvbmVzWygoYm9uZV8xLnkgKiA4KSArIDUpXTsKICAgIG1hdEJbMV0ueiA9IHNraW5Cb25lc1soKGJvbmVfMS55ICogOCkgKyA2KV07CiAgICBtYXRCWzFdLncgPSBza2luQm9uZXNbKChib25lXzEueSAqIDgpICsgNyldOwogICAgbWF0QVsyXS54ID0gc2tpbkJvbmVzWygoYm9uZV8xLnogKiA4KSArIDApXTsKICAgIG1hdEFbMl0ueSA9IHNraW5Cb25lc1soKGJvbmVfMS56ICogOCkgKyAxKV07CiAgICBtYXRBWzJdLnogPSBza2luQm9uZXNbKChib25lXzEueiAqIDgpICsgMildOwogICAgbWF0QVsyXS53ID0gc2tpbkJvbmVzWygoYm9uZV8xLnogKiA4KSArIDMpXTsKICAgIG1hdEJbMl0ueCA9IHNraW5Cb25lc1soKGJvbmVfMS56ICogOCkgKyA0KV07CiAgICBtYXRCWzJdLnkgPSBza2luQm9uZXNbKChib25lXzEueiAqIDgpICsgNSldOwogICAgbWF0QlsyXS56ID0gc2tpbkJvbmVzWygoYm9uZV8xLnogKiA4KSArIDYpXTsKICAgIG1hdEJbMl0udyA9IHNraW5Cb25lc1soKGJvbmVfMS56ICogOCkgKyA3KV07CiAgICBtYXRBWzNdLnggPSBza2luQm9uZXNbKChib25lXzEudyAqIDgpICsgMCldOwogICAgbWF0QVszXS55ID0gc2tpbkJvbmVzWygoYm9uZV8xLncgKiA4KSArIDEpXTsKICAgIG1hdEFbM10ueiA9IHNraW5Cb25lc1soKGJvbmVfMS53ICogOCkgKyAyKV07CiAgICBtYXRBWzNdLncgPSBza2luQm9uZXNbKChib25lXzEudyAqIDgpICsgMyldOwogICAgbWF0QlszXS54ID0gc2tpbkJvbmVzWygoYm9uZV8xLncgKiA4KSArIDQpXTsKICAgIG1hdEJbM10ueSA9IHNraW5Cb25lc1soKGJvbmVfMS53ICogOCkgKyA1KV07CiAgICBtYXRCWzNdLnogPSBza2luQm9uZXNbKChib25lXzEudyAqIDgpICsgNildOwogICAgbWF0QlszXS53ID0gc2tpbkJvbmVzWygoYm9uZV8xLncgKiA4KSArIDcpXTsKICAgIHZlYzMgXzI0MyA9IHdlaWdodF8xLnh5eiAqIHNpZ24oKG1hdEFbM10gKiBtYXRBKSkueHl6OwogICAgd2VpZ2h0XzEgPSB2ZWM0KF8yNDMueCwgXzI0My55LCBfMjQzLnosIHdlaWdodF8xLncpOwogICAgQSA9IChtYXRBICogd2VpZ2h0XzEpOwogICAgQiA9IChtYXRCICogd2VpZ2h0XzEpOwogICAgZmxvYXQgaW52Tm9ybUEgPSAoMS4wIC8gbGVuZ3RoKEEpKTsKICAgIEEgPSAoQSAqIGludk5vcm1BKTsKICAgIEIgPSAoQiAqIGludk5vcm1BKTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjNCBzUG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICB2ZWM0IHBhcmFtID0gd2VpZ2h0OwogICAgdmVjNCBza2luQjsKICAgIHZlYzQgcGFyYW1fMiA9IHNraW5COwogICAgdmVjNCBwYXJhbV8xOwogICAgZ2V0U2tpbm5pbmdEdWFsUXVhdChpdmVjNChib25lKSwgcGFyYW0sIHBhcmFtXzEsIHBhcmFtXzIpOwogICAgdmVjNCBza2luQSA9IHBhcmFtXzE7CiAgICBza2luQiA9IHBhcmFtXzI7CiAgICB2ZWMzIF8zMDQgPSBzUG9zLnh5eiArIChjcm9zcyhza2luQS54eXosIChjcm9zcyhza2luQS54eXosIHNQb3MueHl6KSArIChzUG9zLnh5eiAqIHNraW5BLncpKSkgKiAyLjApOwogICAgc1BvcyA9IHZlYzQoXzMwNC54LCBfMzA0LnksIF8zMDQueiwgc1Bvcy53KTsKICAgIHZlYzMgXzMyNyA9IHNQb3MueHl6ICsgKCgoKHNraW5CLnh5eiAqIHNraW5BLncpIC0gKHNraW5BLnh5eiAqIHNraW5CLncpKSArIGNyb3NzKHNraW5BLnh5eiwgc2tpbkIueHl6KSkgKiAyLjApOwogICAgc1BvcyA9IHZlYzQoXzMyNy54LCBfMzI3LnksIF8zMjcueiwgc1Bvcy53KTsKICAgIHZlYzMgXzMzNCA9IHNQb3MueHl6ICsgb2ZmOwogICAgc1BvcyA9IHZlYzQoXzMzNC54LCBfMzM0LnksIF8zMzQueiwgc1Bvcy53KTsKICAgIGdsX1Bvc2l0aW9uID0gKExXVlAgKiBzUG9zKTsKfQoK",kha_Shaders.world_EnvSky_Rad_fragData="s1943:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWMzIEg7CnVuaWZvcm0gaGlnaHAgdmVjMyBBOwp1bmlmb3JtIGhpZ2hwIHZlYzMgQjsKdW5pZm9ybSBoaWdocCB2ZWMzIEM7CnVuaWZvcm0gaGlnaHAgdmVjMyBEOwp1bmlmb3JtIGhpZ2hwIHZlYzMgRTsKdW5pZm9ybSBoaWdocCB2ZWMzIEY7CnVuaWZvcm0gaGlnaHAgdmVjMyBHOwp1bmlmb3JtIGhpZ2hwIHZlYzMgSTsKdW5pZm9ybSBoaWdocCB2ZWMzIHN1bkRpcmVjdGlvbjsKdW5pZm9ybSBoaWdocCB2ZWMzIFo7CnVuaWZvcm0gaGlnaHAgZmxvYXQgZW52bWFwU3RyZW5ndGg7Cgp2YXJ5aW5nIGhpZ2hwIHZlYzMgbm9ybWFsOwoKaGlnaHAgdmVjMyBob3Nla1dpbGtpZShoaWdocCBmbG9hdCBjb3NfdGhldGEsIGhpZ2hwIGZsb2F0IGdhbW1hLCBoaWdocCBmbG9hdCBjb3NfZ2FtbWEpCnsKICAgIGhpZ2hwIHZlYzMgY2hpID0gKHZlYzMoKDEuMCArIChjb3NfZ2FtbWEgKiBjb3NfZ2FtbWEpKSkgLyBwb3coKCh2ZWMzKDEuMCkgKyAoSCAqIEgpKSAtIChIICogKDIuMCAqIGNvc19nYW1tYSkpKSwgdmVjMygxLjUpKSk7CiAgICByZXR1cm4gKCh2ZWMzKDEuMCkgKyAoQSAqIGV4cCgoQiAvIHZlYzMoKGNvc190aGV0YSArIDAuMDA5OTk5OTk5Nzc2NDgyNTgyMDkyMjg1MTU2MjUpKSkpKSkgKiAoKCgoQyArIChEICogZXhwKChFICogZ2FtbWEpKSkpICsgKEYgKiAoY29zX2dhbW1hICogY29zX2dhbW1hKSkpICsgKEcgKiBjaGkpKSArIChJICogc3FydChjb3NfdGhldGEpKSkpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWMzIG4gPSBub3JtYWxpemUobm9ybWFsKTsKICAgIGhpZ2hwIHZlYzMgc3VuRGlyID0gdmVjMyhzdW5EaXJlY3Rpb24ueCwgKC1zdW5EaXJlY3Rpb24ueSksIHN1bkRpcmVjdGlvbi56KTsKICAgIGhpZ2hwIGZsb2F0IHBoaSA9IGFjb3Mobi56KTsKICAgIGhpZ2hwIGZsb2F0IHRoZXRhID0gKGF0YW4oKC1uLnkpLCBuLngpICsgMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1KTsKICAgIGhpZ2hwIGZsb2F0IGNvc190aGV0YSA9IGNsYW1wKG4ueiwgMC4wLCAxLjApOwogICAgaGlnaHAgZmxvYXQgY29zX2dhbW1hID0gZG90KG4sIHN1bkRpcik7CiAgICBoaWdocCBmbG9hdCBnYW1tYV92YWwgPSBhY29zKGNvc19nYW1tYSk7CiAgICBoaWdocCBmbG9hdCBwYXJhbSA9IGNvc190aGV0YTsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzEgPSBnYW1tYV92YWw7CiAgICBoaWdocCBmbG9hdCBwYXJhbV8yID0gY29zX2dhbW1hOwogICAgaGlnaHAgdmVjMyBSID0gKChaICogaG9zZWtXaWxraWUocGFyYW0sIHBhcmFtXzEsIHBhcmFtXzIpKSAqIGVudm1hcFN0cmVuZ3RoKTsKICAgIFIgPSBwb3coUiwgdmVjMygyLjIwMDAwMDA0NzY4MzcxNTgyMDMxMjUpKTsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChSLCAxLjApOwp9Cgo",kha_Shaders.world_EnvSky_Rad_vertData="s280:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgU01WUDsKCnZhcnlpbmcgdmVjMyBub3JtYWw7CmF0dHJpYnV0ZSB2ZWMzIG5vcjsKYXR0cmlidXRlIHZlYzMgcG9zOwoKdm9pZCBtYWluKCkKewogICAgbm9ybWFsID0gbm9yOwogICAgdmVjNCBwb3NpdGlvbiA9IChTTVZQICogdmVjNChwb3MsIDEuMCkpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uKTsKfQoK",kha_Shaders.painter_colored_fragData="s190:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdmFyeWluZyB2ZWM0IGZyYWdtZW50Q29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBnbF9GcmFnRGF0YVswXSA9IGZyYWdtZW50Q29sb3I7Cn0KCg",kha_Shaders.painter_colored_vertData="s334:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmF0dHJpYnV0ZSB2ZWMzIHZlcnRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzQgZnJhZ21lbnRDb2xvcjsKYXR0cmlidXRlIHZlYzQgdmVydGV4Q29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBnbF9Qb3NpdGlvbiA9IChwcm9qZWN0aW9uTWF0cml4ICogdmVjNCh2ZXJ0ZXhQb3NpdGlvbiwgMS4wKSk7CiAgICBmcmFnbWVudENvbG9yID0gdmVydGV4Q29sb3I7Cn0KCg",kha_Shaders.painter_image_fragData="s444:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCB0ZXg7Cgp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CnZhcnlpbmcgdmVjNCBjb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgdGV4Y29sb3IgPSAodGV4dHVyZTJEKHRleCwgdGV4Q29vcmQpICogY29sb3IpOwogICAgdmVjMyBfMzIgPSB0ZXhjb2xvci54eXogKiBjb2xvci53OwogICAgdGV4Y29sb3IgPSB2ZWM0KF8zMi54LCBfMzIueSwgXzMyLnosIHRleGNvbG9yLncpOwogICAgZ2xfRnJhZ0RhdGFbMF0gPSB0ZXhjb2xvcjsKfQoK",kha_Shaders.painter_image_vertData="s418:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmF0dHJpYnV0ZSB2ZWMzIHZlcnRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSB2ZWMyIHRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzQgY29sb3I7CmF0dHJpYnV0ZSB2ZWM0IHZlcnRleENvbG9yOwoKdm9pZCBtYWluKCkKewogICAgZ2xfUG9zaXRpb24gPSAocHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCkpOwogICAgdGV4Q29vcmQgPSB0ZXhQb3NpdGlvbjsKICAgIGNvbG9yID0gdmVydGV4Q29sb3I7Cn0KCg",kha_Shaders.painter_text_fragData="s340:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCB0ZXg7Cgp2YXJ5aW5nIHZlYzQgZnJhZ21lbnRDb2xvcjsKdmFyeWluZyB2ZWMyIHRleENvb3JkOwoKdm9pZCBtYWluKCkKewogICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KGZyYWdtZW50Q29sb3IueHl6LCAodGV4dHVyZTJEKHRleCwgdGV4Q29vcmQpLnggKiBmcmFnbWVudENvbG9yLncpKTsKfQoK",kha_Shaders.painter_text_vertData="s439:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmF0dHJpYnV0ZSB2ZWMzIHZlcnRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSB2ZWMyIHRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzQgZnJhZ21lbnRDb2xvcjsKYXR0cmlidXRlIHZlYzQgdmVydGV4Q29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBnbF9Qb3NpdGlvbiA9IChwcm9qZWN0aW9uTWF0cml4ICogdmVjNCh2ZXJ0ZXhQb3NpdGlvbiwgMS4wKSk7CiAgICB0ZXhDb29yZCA9IHRleFBvc2l0aW9uOwogICAgZnJhZ21lbnRDb2xvciA9IHZlcnRleENvbG9yOwp9Cgo",kha_Shaders.painter_video_fragData="s444:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCB0ZXg7Cgp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CnZhcnlpbmcgdmVjNCBjb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgdGV4Y29sb3IgPSAodGV4dHVyZTJEKHRleCwgdGV4Q29vcmQpICogY29sb3IpOwogICAgdmVjMyBfMzIgPSB0ZXhjb2xvci54eXogKiBjb2xvci53OwogICAgdGV4Y29sb3IgPSB2ZWM0KF8zMi54LCBfMzIueSwgXzMyLnosIHRleGNvbG9yLncpOwogICAgZ2xfRnJhZ0RhdGFbMF0gPSB0ZXhjb2xvcjsKfQoK",kha_Shaders.painter_video_vertData="s418:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmF0dHJpYnV0ZSB2ZWMzIHZlcnRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSB2ZWMyIHRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzQgY29sb3I7CmF0dHJpYnV0ZSB2ZWM0IHZlcnRleENvbG9yOwoKdm9pZCBtYWluKCkKewogICAgZ2xfUG9zaXRpb24gPSAocHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCkpOwogICAgdGV4Q29vcmQgPSB0ZXhQb3NpdGlvbjsKICAgIGNvbG9yID0gdmVydGV4Q29sb3I7Cn0KCg",kha_System.renderListeners=[],kha_System.foregroundListeners=[],kha_System.resumeListeners=[],kha_System.pauseListeners=[],kha_System.backgroundListeners=[],kha_System.shutdownListeners=[],kha_SystemImpl.mobile=!1,kha_SystemImpl.mobileAudioPlaying=!1,kha_SystemImpl.insideInputEvent=!1,kha_SystemImpl.maxGamepads=4,kha_SystemImpl.leftMouseCtrlDown=!1,kha_SystemImpl.minimumScroll=999,kha_SystemImpl.lastFirstTouchX=0,kha_SystemImpl.lastFirstTouchY=0,kha_audio2_Audio1.channelCount=16,kha_audio2_ogg_tools_Crc32.POLY=79764919,kha_audio2_ogg_vorbis_VorbisDecodeState.INVALID_BITS=-1,kha_audio2_ogg_vorbis_VorbisTools.EOP=-1,kha_audio2_ogg_vorbis_VorbisTools.M__PI=3.141592653589793,kha_audio2_ogg_vorbis_VorbisTools.DIVTAB_NUMER=32;kha_audio2_ogg_vorbis_VorbisTools.DIVTAB_DENOM=64;kha_audio2_ogg_vorbis_VorbisTools.INVERSE_DB_TABLE=[1.0649863e-7,1.1341951e-7,1.2079015e-7,1.2863978e-7,1.3699951e-7,1.4590251e-7,1.5538408e-7,1.6548181e-7,1.7623575e-7,1.8768855e-7,1.9988561e-7,2.128753e-7,2.2670913e-7,2.4144197e-7,2.5713223e-7,2.7384213e-7,2.9163793e-7,3.1059021e-7,3.3077411e-7,3.5226968e-7,3.7516214e-7,3.9954229e-7,4.255068e-7,4.5315863e-7,4.8260743e-7,5.1396998e-7,5.4737065e-7,5.8294187e-7,6.2082472e-7,6.6116941e-7,7.0413592e-7,7.4989464e-7,7.9862701e-7,8.505263e-7,9.0579828e-7,9.6466216e-7,10273513e-13,10941144e-13,11652161e-13,12409384e-13,13215816e-13,14074654e-13,14989305e-13,15963394e-13,17000785e-13,18105592e-13,19282195e-13,20535261e-13,21869758e-13,23290978e-13,24804557e-13,26416497e-13,2813319e-12,29961443e-13,31908506e-13,33982101e-13,36190449e-13,38542308e-13,41047004e-13,4371447e-12,46555282e-13,49580707e-13,5280274e-12,5623416e-12,59888572e-13,63780469e-13,67925283e-13,72339451e-13,77040476e-13,82047e-10,87378876e-13,93057248e-13,99104632e-13,10554501e-12,11240392e-12,11970856e-12,12748789e-12,13577278e-12,14459606e-12,15399272e-12,16400004e-12,17465768e-12,18600792e-12,19809576e-12,21096914e-12,22467911e-12,23928002e-12,25482978e-12,27139006e-12,28902651e-12,30780908e-12,32781225e-12,34911534e-12,37180282e-12,39596466e-12,42169667e-12,4491009e-11,47828601e-12,50936773e-12,54246931e-12,57772202e-12,61526565e-12,65524908e-12,69783085e-12,74317983e-12,79147585e-12,8429104e-11,89768747e-12,95602426e-12,.00010181521,.00010843174,.00011547824,.00012298267,.00013097477,.00013948625,.00014855085,.00015820453,.00016848555,.00017943469,.00019109536,.00020351382,.00021673929,.00023082423,.00024582449,.00026179955,.00027881276,.00029693158,.00031622787,.00033677814,.00035866388,.00038197188,.00040679456,.00043323036,.00046138411,.00049136745,.00052329927,.00055730621,.00059352311,.00063209358,.00067317058,716917e-9,.0007635063,.00081312324,.00086596457,.00092223983,.00098217216,.0010459992,.0011139742,.0011863665,.0012634633,.0013455702,.0014330129,.0015261382,.0016253153,.0017309374,.0018434235,.0019632195,.0020908006,.0022266726,.0023713743,.0025254795,.0026895994,.0028643847,.0030505286,.0032487691,.0034598925,.0036847358,.0039241906,.0041792066,.004450795,.0047400328,.0050480668,.0053761186,.0057254891,.0060975636,.0064938176,.0069158225,.0073652516,.0078438871,.0083536271,.0088964928,.009474637,.010090352,.01074608,.011444421,.012188144,.012980198,.013823725,.014722068,.015678791,.016697687,.017782797,.018938423,.020169149,.021479854,.022875735,.02436233,.025945531,.027631618,.029427276,.031339626,.033376252,.035545228,.037855157,.040315199,.042935108,.045725273,.048696758,.051861348,.055231591,.05882085,.062643361,.066714279,.071049749,.075666962,.080584227,.085821044,.091398179,.097337747,.1036633,.11039993,.11757434,.12521498,.13335215,.14201813,.15124727,.16107617,.1715438,.18269168,.19456402,.20720788,.22067342,.23501402,.25028656,.26655159,.28387361,.30232132,.32196786,.34289114,.36517414,.38890521,.41417847,.44109412,.4697589,.50028648,.53279791,.56742212,.6042964,.64356699,.68538959,.72993007,.77736504,.8278826,.88168307,.9389798,1],kha_audio2_ogg_vorbis_data_Codebook.NO_CODE=255,kha_audio2_ogg_vorbis_data_Codebook.delay=0,kha_audio2_ogg_vorbis_data_Header.PACKET_ID=1,kha_audio2_ogg_vorbis_data_Header.PACKET_COMMENT=3,kha_audio2_ogg_vorbis_data_Header.PACKET_SETUP=5,kha_audio2_ogg_vorbis_data_PageFlag.CONTINUED_PACKET=1,kha_audio2_ogg_vorbis_data_PageFlag.FIRST_PAGE=2,kha_audio2_ogg_vorbis_data_PageFlag.LAST_PAGE=4,kha_audio2_ogg_vorbis_data_Setting.MAX_CHANNELS=16,kha_audio2_ogg_vorbis_data_Setting.PUSHDATA_CRC_COUNT=4,kha_audio2_ogg_vorbis_data_Setting.FAST_HUFFMAN_LENGTH=10,kha_audio2_ogg_vorbis_data_Setting.FAST_HUFFMAN_TABLE_SIZE=1024,kha_audio2_ogg_vorbis_data_Setting.FAST_HUFFMAN_TABLE_MASK=1023,kha_graphics2_truetype_StbTruetype.STBTT_vmove=1,kha_graphics2_truetype_StbTruetype.STBTT_vline=2,kha_graphics2_truetype_StbTruetype.STBTT_vcurve=3,kha_graphics2_truetype_StbTruetype.STBTT_MACSTYLE_DONTCARE=0,kha_graphics2_truetype_StbTruetype.STBTT_MACSTYLE_BOLD=1,kha_graphics2_truetype_StbTruetype.STBTT_MACSTYLE_ITALIC=2,kha_graphics2_truetype_StbTruetype.STBTT_MACSTYLE_UNDERSCORE=4,kha_graphics2_truetype_StbTruetype.STBTT_MACSTYLE_NONE=8,kha_graphics2_truetype_StbTruetype.STBTT_PLATFORM_ID_UNICODE=0,kha_graphics2_truetype_StbTruetype.STBTT_PLATFORM_ID_MAC=1,kha_graphics2_truetype_StbTruetype.STBTT_PLATFORM_ID_ISO=2,kha_graphics2_truetype_StbTruetype.STBTT_PLATFORM_ID_MICROSOFT=3,kha_graphics2_truetype_StbTruetype.STBTT_UNICODE_EID_UNICODE_1_0=0,kha_graphics2_truetype_StbTruetype.STBTT_UNICODE_EID_UNICODE_1_1=1,kha_graphics2_truetype_StbTruetype.STBTT_UNICODE_EID_ISO_10646=2,kha_graphics2_truetype_StbTruetype.STBTT_UNICODE_EID_UNICODE_2_0_BMP=3,kha_graphics2_truetype_StbTruetype.STBTT_UNICODE_EID_UNICODE_2_0_FULL=4,kha_graphics2_truetype_StbTruetype.STBTT_MS_EID_SYMBOL=0,kha_graphics2_truetype_StbTruetype.STBTT_MS_EID_UNICODE_BMP=1,kha_graphics2_truetype_StbTruetype.STBTT_MS_EID_SHIFTJIS=2,kha_graphics2_truetype_StbTruetype.STBTT_MS_EID_UNICODE_FULL=10,kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_ROMAN=0,kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_ARABIC=4,kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_JAPANESE=1,kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_HEBREW=5,kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_CHINESE_TRAD=2,kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_GREEK=6,kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_KOREAN=3,kha_graphics2_truetype_StbTruetype.STBTT_MAC_EID_RUSSIAN=7,kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_ENGLISH=1033,kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_ITALIAN=1040,kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_CHINESE=2052,kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_JAPANESE=1041,kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_DUTCH=1043,kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_KOREAN=1042,kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_FRENCH=1036,kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_RUSSIAN=1049,kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_GERMAN=1031,kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_SPANISH=1033,kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_HEBREW=1037,kha_graphics2_truetype_StbTruetype.STBTT_MS_LANG_SWEDISH=1053,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_ENGLISH=0,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_JAPANESE=11,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_ARABIC=12,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_KOREAN=23,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_DUTCH=4,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_RUSSIAN=32,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_FRENCH=1,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_SPANISH=6,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_GERMAN=2,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_SWEDISH=5,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_HEBREW=10,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_CHINESE_SIMPLIFIED=33,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_ITALIAN=3,kha_graphics2_truetype_StbTruetype.STBTT_MAC_LANG_CHINESE_TRAD=19,kha_graphics2_truetype_StbTruetype.STBTT_MAX_OVERSAMPLE=8,kha_graphics2_truetype_StbTruetype.STBTT_RASTERIZER_VERSION=2,kha_graphics4_ImageShaderPainter.bufferSize=1500,kha_graphics4_ImageShaderPainter.vertexSize=9,kha_graphics4_ColoredShaderPainter.bufferSize=100,kha_graphics4_ColoredShaderPainter.triangleBufferSize=100,kha_graphics4_TextShaderPainter.bufferSize=100,kha_input_Gamepad.__meta__={fields:{sendAxisEvent:{input:null},sendButtonEvent:{input:null}}},kha_input_Gamepad.instances=[],kha_input_Keyboard.__meta__={fields:{sendDownEvent:{input:null},sendUpEvent:{input:null}}},kha_input_Mouse.__meta__={fields:{sendDownEvent:{input:null},sendUpEvent:{input:null},sendMoveEvent:{input:null},sendWheelEvent:{input:null}}},kha_internal_HdrFormat.radiancePattern=new EReg("#\\?RADIANCE","i"),kha_internal_HdrFormat.commentPattern=new EReg("#.*","i"),kha_internal_HdrFormat.gammaPattern=new EReg("GAMMA=","i"),kha_internal_HdrFormat.exposurePattern=new EReg("EXPOSURE=\\s*([0-9]*[.][0-9]*)","i"),kha_internal_HdrFormat.formatPattern=new EReg("FORMAT=32-bit_rle_rgbe","i"),kha_internal_HdrFormat.widthHeightPattern=new EReg("-Y ([0-9]+) \\+X ([0-9]+)","i"),kha_js_AEAudioChannel.todo=[],kha_js_Sound.loading=[],kha_js_Video.loading=new List,kha_math_FastMatrix3.width=3,kha_math_FastMatrix3.height=3,kha_math_Matrix3.width=3,kha_math_Matrix3.height=3,kha_math_Matrix4.width=4,kha_math_Matrix4.height=4,kha_network_ControllerBuilder.nextId=0,kha_network_Session.START=0,kha_network_Session.ENTITY_UPDATES=1,kha_network_Session.CONTROLLER_UPDATES=2,kha_network_Session.REMOTE_CALL=3,kha_network_Session.PING=4,kha_network_Session.ERROR=5,kha_network_Session.PLAYER_UPDATES=6,kha_network_Session.RPC_SERVER=0,kha_network_Session.RPC_ALL=1,kha_network_SyncBuilder.nextId=0,kha_network_SyncBuilder.objects=[],Main.main()}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);